Index: full-reports.bat
===================================================================
--- full-reports.bat	(revision 0)
+++ full-reports.bat	(revision 65565)
@@ -0,0 +1 @@
+call mvn clean install -Pfull-reports

Property changes on: full-reports.bat
___________________________________________________________________
Added: svn:eol-style
   + native

Index: full-reports.sh
===================================================================
--- full-reports.sh	(revision 0)
+++ full-reports.sh	(revision 65565)
@@ -0,0 +1,3 @@
+# simple script to run install with full reports
+
+mvn clean install -Pfull-reports

Property changes on: full-reports.sh
___________________________________________________________________
Added: svn:executable
   + *
Added: svn:eol-style
   + native

Index: applications/assembly/pom-test-wsrp1.xml
===================================================================
--- applications/assembly/pom-test-wsrp1.xml	(revision 65590)
+++ applications/assembly/pom-test-wsrp1.xml	(working copy)
@@ -1,110 +0,0 @@
-<project>
-  <parent>
-    <groupId>org.exoplatform.portletcontainer</groupId>
-    <artifactId>config</artifactId>
-    <version>2.0.13-SNAPSHOT</version>
-  </parent>
-  <modelVersion>4.0.0</modelVersion>
-  <artifactId>assembly</artifactId>
-  <packaging>exopc</packaging>
-  <!-- packaging>ear</packaging -->
-  <name>eXo Portlet Container Manual Test WSRP1 Assembly on Tomcat</name>
-
-  <dependencies>
-
-    <dependency>
-      <groupId>org.exoplatform.portletcontainer</groupId>
-      <artifactId>exo.pc.component.core</artifactId>
-      <version>${org.exoplatform.pc.version}</version>
-      <scope>compile</scope>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.portletcontainer</groupId>
-      <artifactId>exo.pc.component.plugins.pc</artifactId>
-      <version>${org.exoplatform.pc.version}</version>
-      <scope>compile</scope>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.portletcontainer</groupId>
-      <artifactId>exo.pc.component.plugins.wsrp1</artifactId>
-      <version>${org.exoplatform.pc.version}</version>
-      <scope>compile</scope>
-    </dependency>
-
-    <dependency>
-      <groupId>javax.servlet</groupId>
-      <artifactId>jstl</artifactId>
-      <version>1.1.2</version>
-      <scope>compile</scope>
-    </dependency>
-
-    <dependency>
-      <groupId>taglibs</groupId>
-      <artifactId>standard</artifactId>
-      <version>1.1.2</version>
-    </dependency>
-
-  </dependencies>
-
-  <build>
-    <finalName>portlet-container</finalName>
-    <plugins>
-
-
-			<plugin>
-				<artifactId>maven-antrun-plugin</artifactId>
-				<version>1.3</version>
-        <executions>
-          <execution>
-            <id>1</id>
-            <phase>deploy</phase>
-            <configuration>
-              <tasks>
- 		  <echo>=== To copy the hello.war to the test tomcat 'exo-tomcat'</echo>
-		  <echo>TO: ${exo.projects.directory.working}/exo-tomcat/webapps/</echo>
-		  <echo>FROM: ${exo.projects.directory.src}/portlet-container/${org.exoplatform.pc.version}/component/plugins/wsrp1/target/hello.war</echo>
-        		<copy todir="${exo.projects.directory.working}/exo-tomcat/webapps/">
-			<fileset dir="${exo.projects.directory.src}/portlet-container/${org.exoplatform.pc.version}/component/plugins/wsrp1/target/">
-				<include name="**/hello.war" />
-			</fileset>
-			</copy>
-		  <echo>=== To remove the portal.xml in /conf/Catalina/localhost, which came as exopc-war patch</echo>
-                  <delete file="${exo.projects.directory.working}/exo-tomcat/conf/Catalina/localhost/portal.xml" />
-              </tasks>
-            </configuration>
-            <goals>
-              <goal>run</goal>
-            </goals>
-          </execution>
-        </executions>
-	</plugin>
-
-
-      <plugin>
-        <groupId>org.exoplatform.maven.plugins</groupId>
-        <artifactId>maven-exopc-plugin</artifactId>
-        <extensions>true</extensions>
-        <configuration>
-          <sharedDir>${basedir}/patches</sharedDir>
-          <excludeProjects>
-            junit, jmock, bcel, ehcache,cargo-core-api-container,cargo-core-api-generic,cargo-core-api-module,xercesImpl, msv, servlet-api, jibx-bind, isorelax,
-            relaxngDatatype, cargo-core-api-util, cargo-core-container-tomcat,velocity-dep, saxpath, exo-platform.test.framework,
-            xmldb-api, castor, drools-smftest, jsp-api, xml-apis, xml-resolver, jaxen,
-            xjavadoc, xdoclet-hibernate-module, xdoclet-xdoclet-module, xdoclet,
-            saaj-api, exo-weblogic-authproviders, exo-weblogic-loginmodule,
-            carol, commons-fileupload, commons-io, drools-base, drools-core, drools-java,
-            drools-smf, exo-platform.services.backup.api, exo-platform.services.ldap.api,
-            exo-platform.services.ldap.impl, exo-platform.services.remote.api,
-            exo-platform.services.remote.impl, exo-platform.services.templates.api,
-            exo-platform.services.templates.impl, groovy-all-1.0-jsr, howl-logger, janino,
-            jotm, jotm_jrmp_stubs, log4j, soap, velocity, naming-core, naming-java, jsf-api, xerces
-          </excludeProjects>
-        </configuration>
-      </plugin>
-
-    </plugins>
-  </build>
-
-</project>
Index: applications/assembly/pom-test-wsrp2.xml
===================================================================
--- applications/assembly/pom-test-wsrp2.xml	(revision 65590)
+++ applications/assembly/pom-test-wsrp2.xml	(working copy)
@@ -1,122 +0,0 @@
-<project>
-  <parent>
-    <groupId>org.exoplatform.portletcontainer</groupId>
-    <artifactId>config</artifactId>
-    <version>2.0.13-SNAPSHOT</version>
-  </parent>
-  <modelVersion>4.0.0</modelVersion>
-  <artifactId>assembly</artifactId>
-  <packaging>exopc</packaging>
-  <!-- packaging>ear</packaging -->
-  <name>eXo Portlet Container Manual Test WSRP2 Assembly on Tomcat</name>
-
-  <dependencies>
-
-    <dependency>
-      <groupId>org.exoplatform.portletcontainer</groupId>
-      <artifactId>exo.pc.component.core</artifactId>
-      <version>${org.exoplatform.pc.version}</version>
-      <scope>compile</scope>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.portletcontainer</groupId>
-      <artifactId>exo.pc.component.plugins.pc</artifactId>
-      <version>${org.exoplatform.pc.version}</version>
-      <scope>compile</scope>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.portletcontainer</groupId>
-      <artifactId>exo.pc.component.plugins.wsrp2</artifactId>
-      <version>${org.exoplatform.pc.version}</version>
-      <scope>compile</scope>
-    </dependency>
-
-    <dependency>
-      <groupId>javax.servlet</groupId>
-      <artifactId>jstl</artifactId>
-      <version>1.1.2</version>
-      <scope>compile</scope>
-    </dependency>
-
-    <dependency>
-      <groupId>taglibs</groupId>
-      <artifactId>standard</artifactId>
-      <version>1.1.2</version>
-    </dependency>
-
-  </dependencies>
-
-  <build>
-    <finalName>portlet-container</finalName>
-    <plugins>
-
-<!--
-      <plugin>
-        <groupId>org.apache.maven.plugins</groupId>
-        <artifactId>maven-ear-plugin</artifactId>
-        <configuration>
-          <archive>
-            <manifest>
-              <addClasspath>true</addClasspath>
-            </manifest>
-          </archive>
-        </configuration>
-      </plugin>
--->
-
-      <plugin>
-        <groupId>org.exoplatform.maven.plugins</groupId>
-        <artifactId>maven-exopc-plugin</artifactId>
-        <extensions>true</extensions>
-        <configuration>
-          <sharedDir>${basedir}/patches</sharedDir>
-          <excludeProjects>
-            junit, jmock, bcel, ehcache,cargo-core-api-container,cargo-core-api-generic,cargo-core-api-module,xercesImpl, msv, servlet-api, jibx-bind, isorelax,
-            relaxngDatatype, cargo-core-api-util, cargo-core-container-tomcat,velocity-dep, saxpath, exo-platform.test.framework,
-            xmldb-api, castor, drools-smftest, jsp-api, xml-apis, xml-resolver, jaxen,
-            xjavadoc, xdoclet-hibernate-module, xdoclet-xdoclet-module, xdoclet,
-            saaj-api, exo-weblogic-authproviders, exo-weblogic-loginmodule,
-            carol, commons-fileupload, commons-io, drools-base, drools-core, drools-java,
-            drools-smf, exo-platform.services.backup.api, exo-platform.services.ldap.api,
-            exo-platform.services.ldap.impl, exo-platform.services.remote.api,
-            exo-platform.services.remote.impl, exo-platform.services.templates.api,
-            exo-platform.services.templates.impl, groovy-all-1.0-jsr, howl-logger, janino,
-            jotm, jotm_jrmp_stubs, log4j, soap, velocity, naming-core, naming-java, jsf-api, xerces
-          </excludeProjects>
-        </configuration>
-      </plugin>
-
-			<plugin>
-				<artifactId>maven-antrun-plugin</artifactId>
-				<version>1.3</version>
-        <executions>
-          <execution>
-            <id>1</id>
-            <phase>deploy</phase>
-            <configuration>
-              <tasks>
- 		  <echo>=== To copy the hello.war to the test tomcat 'exo-tomcat'</echo>
-		  <echo>TO: ${exo.projects.directory.working}/exo-tomcat/webapps/</echo>
-		  <echo>FROM: ${exo.projects.directory.src}/portlet-container/${org.exoplatform.pc.version}/component/plugins/wsrp2/target/hello.war</echo>
-        		<copy todir="${exo.projects.directory.working}/exo-tomcat/webapps/">
-			<fileset dir="${exo.projects.directory.src}/portlet-container/${org.exoplatform.pc.version}/component/plugins/wsrp2/target/">
-				<include name="**/hello.war" />
-			</fileset>
-			</copy>
-		  <echo>=== To remove the portal.xml in /conf/Catalina/localhost, which came as exopc-war patch</echo>
-                  <delete file="${exo.projects.directory.working}/exo-tomcat/conf/Catalina/localhost/portal.xml" />
-              </tasks>
-            </configuration>
-            <goals>
-              <goal>run</goal>
-            </goals>
-          </execution>
-        </executions>
-	</plugin>
-
-    </plugins>
-  </build>
-
-</project>
Index: applications/assembly/deploy-jboss-ear.bat
===================================================================
--- applications/assembly/deploy-jboss-ear.bat	(revision 65590)
+++ applications/assembly/deploy-jboss-ear.bat	(working copy)
@@ -1,3 +1,3 @@
 call mvn clean exopc:deploy -Ddeploy=ear
-call mvn -f pom-jboss-ear.xml  install antrun:run
+call mvn install antrun:run -Pjboss-ear
 pause null
\ No newline at end of file
Index: applications/assembly/deploy-jboss-ear.sh
===================================================================
--- applications/assembly/deploy-jboss-ear.sh	(revision 65590)
+++ applications/assembly/deploy-jboss-ear.sh	(working copy)
@@ -1,3 +1,3 @@
 mvn clean exopc:deploy -Ddeploy=ear
-mvn -f pom-jboss-ear.xml install antrun:run
+mvn install antrun:run -Pjboss-ear
 read
\ No newline at end of file
Index: applications/assembly/pom.xml
===================================================================
--- applications/assembly/pom.xml	(revision 65590)
+++ applications/assembly/pom.xml	(working copy)
@@ -25,78 +25,77 @@
     <version>2.0.13-SNAPSHOT</version>
   </parent>
   <artifactId>assembly</artifactId>
-  <packaging>ear</packaging>
   <name>eXo PC Demo Assembly</name>
   <dependencies>
     <dependency>
       <groupId>org.exoplatform.portletcontainer</groupId>
       <artifactId>exo.pc.applications.portal</artifactId>
-      <version>2.0.13-SNAPSHOT</version>
+      <version>${project.version}</version>
       <scope>compile</scope>
       <type>exopc-war</type>
     </dependency>
     <dependency>
       <groupId>org.exoplatform.portletcontainer</groupId>
       <artifactId>exo.pc.applications.wsrp</artifactId>
-      <version>2.0.13-SNAPSHOT</version>
+      <version>${project.version}</version>
       <scope>compile</scope>
       <type>exopc-war</type>
     </dependency>
     <dependency>
       <groupId>org.exoplatform.portletcontainer</groupId>
       <artifactId>exo.pc.applications.portlets</artifactId>
-      <version>2.0.13-SNAPSHOT</version>
+      <version>${project.version}</version>
       <scope>compile</scope>
       <type>exopc-war</type>
     </dependency>
     <dependency>
       <groupId>org.exoplatform.portletcontainer</groupId>
       <artifactId>exo.pc.applications.portlets2</artifactId>
-      <version>2.0.13-SNAPSHOT</version>
+      <version>${project.version}</version>
       <scope>compile</scope>
       <type>exopc-war</type>
     </dependency>
     <dependency>
       <groupId>org.exoplatform.portletcontainer</groupId>
       <artifactId>exo.pc.applications.demos</artifactId>
-      <version>2.0.13-SNAPSHOT</version>
+      <version>${project.version}</version>
       <scope>compile</scope>
       <type>exopc-war</type>
     </dependency>
     <dependency>
       <groupId>org.exoplatform.portletcontainer</groupId>
       <artifactId>exo.pc.component.core</artifactId>
-      <version>2.0.13-SNAPSHOT</version>
+      <version>${project.version}</version>
       <scope>compile</scope>
     </dependency>
     <dependency>
       <groupId>org.exoplatform.portletcontainer</groupId>
       <artifactId>exo.pc.component.plugins.pc</artifactId>
-      <version>2.0.13-SNAPSHOT</version>
+      <version>${project.version}</version>
       <scope>compile</scope>
     </dependency>
     <dependency>
       <groupId>org.exoplatform.portletcontainer</groupId>
       <artifactId>exo.pc.portal-framework</artifactId>
-      <version>2.0.13-SNAPSHOT</version>
+      <version>${project.version}</version>
       <scope>compile</scope>
     </dependency>
     <dependency>
       <groupId>org.exoplatform.portletcontainer</groupId>
       <artifactId>exo.pc.portlets2events</artifactId>
-      <version>2.0.13-SNAPSHOT</version>
+      <version>${project.version}</version>
       <scope>compile</scope>
     </dependency>
     <dependency>
       <groupId>org.exoplatform.portletcontainer</groupId>
       <artifactId>exo.pc.component.plugins.wsrp1</artifactId>
-      <version>2.0.13-SNAPSHOT</version>
+      <version>${project.version}</version>
       <scope>compile</scope>
     </dependency>
     <dependency>
       <groupId>org.exoplatform.portletcontainer</groupId>
       <artifactId>exo.pc.component.plugins.wsrp2</artifactId>
-      <version>2.0.13-SNAPSHOT</version>
+      <version>${project.version}</version>
       <scope>compile</scope>
     </dependency>
     <dependency>
@@ -122,6 +121,775 @@
       <version>1.3</version>
     </dependency>
   </dependencies>
+  
+  <profiles>
+    <profile>
+      <id>test-wsrp1</id>
+      <activation>
+        <activeByDefault>false</activeByDefault>
+      </activation>
+      <dependencies>
+        <dependency>
+          <groupId>org.exoplatform.portletcontainer</groupId>
+          <artifactId>exo.pc.component.core</artifactId>
+          <version>${project.version}</version>
+          <scope>compile</scope>
+        </dependency>
+
+        <dependency>
+          <groupId>org.exoplatform.portletcontainer</groupId>
+          <artifactId>exo.pc.component.plugins.pc</artifactId>
+          <version>${project.version}</version>
+          <scope>compile</scope>
+        </dependency>
+
+        <dependency>
+          <groupId>org.exoplatform.portletcontainer</groupId>
+          <artifactId>exo.pc.component.plugins.wsrp1</artifactId>
+          <version>${project.version}</version>
+          <scope>compile</scope>
+        </dependency>
+
+        <dependency>
+          <groupId>javax.servlet</groupId>
+          <artifactId>jstl</artifactId>
+          <version>1.1.2</version>
+          <scope>compile</scope>
+        </dependency>
+
+        <dependency>
+          <groupId>taglibs</groupId>
+          <artifactId>standard</artifactId>
+          <version>1.1.2</version>
+        </dependency>
+
+      </dependencies>
+
+      <build>
+        <finalName>portlet-container</finalName>
+        <plugins>
+
+
+			    <plugin>
+				    <artifactId>maven-antrun-plugin</artifactId>
+				    <version>1.3</version>
+            <executions>
+              <execution>
+                <id>1</id>
+                <phase>install</phase>
+                <configuration>
+                  <tasks>
+     		  <echo>=== To copy the hello.war to the test tomcat 'exo-tomcat'</echo>
+		      <echo>TO: ${exo.projects.directory.working}/exo-tomcat/webapps/</echo>
+		      <echo>FROM: ${exo.projects.directory.src}/portlet-container/${project.version}/component/plugins/wsrp1/target/hello.war</echo>
+            		<copy todir="${exo.projects.directory.working}/exo-tomcat/webapps/">
+			    <fileset dir="../../component/plugins/wsrp1/target/">
+				    <include name="**/hello.war" />
+			    </fileset>
+			    </copy>
+		      <echo>=== To remove the portal.xml in /conf/Catalina/localhost, which came as exopc-war patch</echo>
+                      <delete file="${exo.projects.directory.working}/exo-tomcat/conf/Catalina/localhost/portal.xml" />
+                  </tasks>
+                </configuration>
+                <goals>
+                  <goal>run</goal>
+                </goals>
+              </execution>
+            </executions>
+	    </plugin>
+
+
+          <plugin>
+            <groupId>org.exoplatform.maven.plugins</groupId>
+            <artifactId>maven-exopc-plugin</artifactId>
+            <extensions>true</extensions>
+            <configuration>
+              <sharedDir>${basedir}/patches</sharedDir>
+              <excludeProjects>
+                junit, jmock, bcel, ehcache,cargo-core-api-container,cargo-core-api-generic,cargo-core-api-module,xercesImpl, msv, servlet-api, jibx-bind, isorelax,
+                relaxngDatatype, cargo-core-api-util, cargo-core-container-tomcat,velocity-dep, saxpath, exo-platform.test.framework,
+                xmldb-api, castor, drools-smftest, jsp-api, xml-apis, xml-resolver, jaxen,
+                xjavadoc, xdoclet-hibernate-module, xdoclet-xdoclet-module, xdoclet,
+                saaj-api, exo-weblogic-authproviders, exo-weblogic-loginmodule,
+                carol, commons-fileupload, commons-io, drools-base, drools-core, drools-java,
+                drools-smf, exo-platform.services.backup.api, exo-platform.services.ldap.api,
+                exo-platform.services.ldap.impl, exo-platform.services.remote.api,
+                exo-platform.services.remote.impl, exo-platform.services.templates.api,
+                exo-platform.services.templates.impl, groovy-all-1.0-jsr, howl-logger, janino,
+                jotm, jotm_jrmp_stubs, log4j, soap, velocity, naming-core, naming-java, jsf-api, xerces
+              </excludeProjects>
+            </configuration>
+          </plugin>
+
+        </plugins>
+      </build>
+    </profile>
+    <profile>
+      <id>test-wsrp2</id>
+      <activation>
+        <activeByDefault>false</activeByDefault>
+      </activation>
+        <dependencies>
+
+          <dependency>
+            <groupId>org.exoplatform.portletcontainer</groupId>
+            <artifactId>exo.pc.component.core</artifactId>
+            <version>${project.version}</version>
+            <scope>compile</scope>
+          </dependency>
+
+          <dependency>
+            <groupId>org.exoplatform.portletcontainer</groupId>
+            <artifactId>exo.pc.component.plugins.pc</artifactId>
+            <version>${project.version}</version>
+            <scope>compile</scope>
+          </dependency>
+
+          <dependency>
+            <groupId>org.exoplatform.portletcontainer</groupId>
+            <artifactId>exo.pc.component.plugins.wsrp2</artifactId>
+            <version>${project.version}</version>
+            <scope>compile</scope>
+          </dependency>
+
+          <dependency>
+            <groupId>javax.servlet</groupId>
+            <artifactId>jstl</artifactId>
+            <version>1.1.2</version>
+            <scope>compile</scope>
+          </dependency>
+
+          <dependency>
+            <groupId>taglibs</groupId>
+            <artifactId>standard</artifactId>
+            <version>1.1.2</version>
+          </dependency>
+
+        </dependencies>
+
+        <build>
+          <finalName>portlet-container</finalName>
+          <plugins>
+
+      <!--
+            <plugin>
+              <groupId>org.apache.maven.plugins</groupId>
+              <artifactId>maven-ear-plugin</artifactId>
+              <configuration>
+                <archive>
+                  <manifest>
+                    <addClasspath>true</addClasspath>
+                  </manifest>
+                </archive>
+              </configuration>
+            </plugin>
+      -->
+
+            <plugin>
+              <groupId>org.exoplatform.maven.plugins</groupId>
+              <artifactId>maven-exopc-plugin</artifactId>
+              <extensions>true</extensions>
+              <configuration>
+                <sharedDir>${basedir}/patches</sharedDir>
+                <excludeProjects>
+                  junit, jmock, bcel, ehcache,cargo-core-api-container,cargo-core-api-generic,cargo-core-api-module,xercesImpl, msv, servlet-api, jibx-bind, isorelax,
+                  relaxngDatatype, cargo-core-api-util, cargo-core-container-tomcat,velocity-dep, saxpath, exo-platform.test.framework,
+                  xmldb-api, castor, drools-smftest, jsp-api, xml-apis, xml-resolver, jaxen,
+                  xjavadoc, xdoclet-hibernate-module, xdoclet-xdoclet-module, xdoclet,
+                  saaj-api, exo-weblogic-authproviders, exo-weblogic-loginmodule,
+                  carol, commons-fileupload, commons-io, drools-base, drools-core, drools-java,
+                  drools-smf, exo-platform.services.backup.api, exo-platform.services.ldap.api,
+                  exo-platform.services.ldap.impl, exo-platform.services.remote.api,
+                  exo-platform.services.remote.impl, exo-platform.services.templates.api,
+                  exo-platform.services.templates.impl, groovy-all-1.0-jsr, howl-logger, janino,
+                  jotm, jotm_jrmp_stubs, log4j, soap, velocity, naming-core, naming-java, jsf-api, xerces
+                </excludeProjects>
+              </configuration>
+            </plugin>
+
+		        <plugin>
+			        <artifactId>maven-antrun-plugin</artifactId>
+			        <version>1.3</version>
+              <executions>
+                <execution>
+                  <id>1</id>
+                  <phase>install</phase>
+                  <configuration>
+                    <tasks>
+       		  <echo>=== To copy the hello.war to the test tomcat 'exo-tomcat'</echo>
+	          <echo>TO: ${exo.projects.directory.working}/exo-tomcat/webapps/</echo>
+	          <echo>FROM: component/plugins/wsrp2/target/hello.war</echo>
+              		<copy todir="${exo.projects.directory.working}/exo-tomcat/webapps/">
+		        <fileset dir="../../component/plugins/wsrp2/target/">
+			        <include name="**/hello.war" />
+		        </fileset>
+		        </copy>
+	          <echo>=== To remove the portal.xml in /conf/Catalina/localhost, which came as exopc-war patch</echo>
+                        <delete file="${exo.projects.directory.working}/exo-tomcat/conf/Catalina/localhost/portal.xml" />
+                    </tasks>
+                  </configuration>
+                  <goals>
+                    <goal>run</goal>
+                  </goals>
+                </execution>
+              </executions>
+          </plugin>
+        </plugins>
+      </build>
+    </profile>
+    
+    <profile>
+      <id>jonas</id>
+      <activation>
+        <activeByDefault>false</activeByDefault>
+      </activation>
+    	<dependencies>
+	      <dependency>
+	        <groupId>_jonas_patches</groupId>
+	        <artifactId>naming-core</artifactId>
+	        <version>0.8</version>
+	        <type>jar</type>
+	        <scope>compile</scope>
+	      </dependency>
+
+        <dependency>
+          <groupId>_jonas_patches</groupId>
+          <artifactId>naming-java</artifactId>
+          <version>0.8</version>
+          <type>jar</type>
+          <scope>compile</scope>
+        </dependency>
+                 
+	      <dependency>
+	        <groupId>_jonas_patches</groupId>
+	        <artifactId>stax-api</artifactId>
+	        <version>1.0.1</version>
+	        <type>jar</type>  
+	        <scope>compile</scope>
+	      </dependency>
+
+                 <dependency>
+                      <groupId>_jonas_patches</groupId>
+                      <artifactId>xapool</artifactId>
+                     <version>1.5.0</version>
+                     <type>jar</type>
+                     <scope>compile</scope>
+                 </dependency>
+
+	     <dependency>
+	          <groupId>_jonas_patches</groupId>
+	          <artifactId>mail</artifactId>
+	          <version>1.4</version>
+	          <type>jar</type>
+	          <scope>compile</scope>
+	     </dependency>
+
+                 <dependency>
+                      <groupId>_jonas_patches</groupId>
+                      <artifactId>jsf-api</artifactId>
+                     <version>1.2</version>
+                     <type>jar</type>
+                     <scope>compile</scope>
+                 </dependency>
+                 
+                <dependency>
+	          <groupId>_jonas_patches</groupId>
+	          <artifactId>jibx-extras</artifactId>
+	          <version>1.1.6a</version>
+	          <type>jar</type>
+	          <scope>compile</scope>
+	     </dependency>
+
+                 <dependency>
+                      <groupId>_jonas_patches</groupId>
+                      <artifactId>jaxb-impl</artifactId>
+                     <version>2.0.2</version>
+                     <type>jar</type>
+                     <scope>compile</scope>
+                 </dependency>
+              </dependencies>
+
+
+	    <build>
+		    <plugins>
+			    <plugin>
+				    <artifactId>maven-assembly-plugin</artifactId>
+				    <version>2.1</version>
+				    <executions>
+					    <execution>
+						    <phase>install</phase>
+						    <goals>
+							    <goal>assembly</goal>
+						    </goals>
+					    </execution>
+				    </executions>
+				    <configuration>
+					    <descriptors>
+						    <descriptor>product-descriptor.xml</descriptor>
+					    </descriptors>
+					    <finalName>lib</finalName>
+				    </configuration>
+			    </plugin>
+			    <plugin>
+				    <artifactId>maven-antrun-plugin</artifactId>
+				    <configuration>
+					    <tasks>
+					     	<delete
+							    dir="${exo.projects.directory.working}/exo-jonas"
+							    includeEmptyDirs="true" quiet="yes" />
+						    <copy
+							    todir="${exo.projects.directory.working}/exo-jonas"
+							    verbose="false" overwrite="true">
+							    <fileset
+								    dir="${exo.projects.directory.dependencies}/${exo.projects.app.jonas.version}" />
+						    </copy>
+						    <!-- copy portlet-container.ear to autoload directory-->
+						    <copy
+							    todir="${exo.projects.directory.working}/exo-jonas/apps/autoload/"
+							    verbose="true" overwrite="true">
+							    <fileset  dir="${basedir}/target/">
+							      <filename name="**/*.ear"/>
+							    </fileset>  
+						    </copy>
+						    <!-- copy jonas bin -->
+			
+						    <copy
+							    todir="${exo.projects.directory.working}/exo-jonas/bin/"
+							    verbose="true" overwrite="true">
+							    <fileset
+								    dir="${basedir}/patches/jonas/bin"> 
+								    <exclude name="**/WEB*" />
+							    </fileset>	
+						    </copy>
+						    <!-- copy jonas conf -->
+						    <copy
+							    todir="${exo.projects.directory.working}/exo-jonas/conf/"
+							    verbose="true" flatten="true" overwrite="true">
+							    <fileset
+								    dir="${basedir}/patches/jonas/conf"
+								    casesensitive="yes">
+							    </fileset>
+						    </copy>
+						    <!-- copy portal.war temporary to jonas autoload -->
+						    <copy
+							    todir="${exo.projects.directory.working}/exo-jonas/apps/autoload/"
+							    verbose="true"  overwrite="true">
+							    <fileset
+								    dir="${basedir}/target/ear/"
+								    casesensitive="yes">
+            							<filename name="portal.war"/>
+							    </fileset>
+						    </copy>
+						
+						    <touch file="${basedir}/patches/jonas/WEB-INF/classes/conf/exo-configuration.xml"/>
+						    <!-- copy WEB-INF to portal.war -->
+						    <war 
+						          destfile="${exo.projects.directory.working}/exo-jonas/apps/autoload/portal.war"  update="true">
+                 	                                                      <webinf dir="${basedir}/patches/jonas/WEB-INF/">
+						          </webinf>
+						    </war>
+						
+					             <touch>
+					                        <fileset dir="${basedir}/target/lib-${project.version}.dir/" >
+						                <filename name="**/*.jar" /> 
+						                <exclude name="**/assembly*" />
+						             </fileset>
+					              </touch>
+					            <!-- copy several jars into ear -->  
+						    <ear destfile="${exo.projects.directory.working}/exo-jonas/apps/autoload/portlet-container.ear" update="true">
+						              <fileset dir="${basedir}/target/lib-${project.version}.dir/">
+						                  <filename name="**/*.jar" /> 
+						                  <exclude name="**/assembly*" />
+						              </fileset>
+					               </ear>	
+					              <!-- copy modified portal.war --> 
+					              <ear destfile="${exo.projects.directory.working}/exo-jonas/apps/autoload/portlet-container.ear" update="true">
+						              <fileset dir="${exo.projects.directory.working}/exo-jonas/apps/autoload/">
+						                <filename name="portal.war"/> 
+						              </fileset>
+					               </ear>	
+						    <!-- delete temporary file portal.war-->
+						    <delete
+							    file="${exo.projects.directory.working}/exo-jonas/apps/autoload/portal.war" />
+							
+						    <delete>
+							     <fileset dir="${exo.projects.directory.working}/exo-jonas/lib/endorsed/">
+							       <include name="xalan*.jar" /> 
+							       <include name="xerces*.jar" /> 
+							       <include name="xml*.jar" /> 
+						                 </fileset>
+					            </delete>
+					    </tasks>
+				    </configuration>
+			    </plugin>
+		    </plugins>
+	    </build>
+    </profile>
+    
+    <profile>
+      <id>jboss-ear</id>
+      <activation>
+        <activeByDefault>false</activeByDefault>        
+      </activation>
+      <build>
+		    <plugins>
+			    <plugin>
+				    <artifactId>maven-assembly-plugin</artifactId>
+				    <version>2.1</version>
+				    <executions>
+					    <execution>
+						    <phase>install</phase>
+						    <goals>
+							    <goal>assembly</goal>
+						    </goals>
+					    </execution>
+				    </executions>
+				    <configuration>
+					    <descriptors>
+						    <descriptor>product-descriptor.xml</descriptor>
+					    </descriptors>
+					    <finalName>lib</finalName>
+				    </configuration>
+			    </plugin>
+			    <plugin>
+				    <artifactId>maven-antrun-plugin</artifactId>
+				    <configuration>
+					    <tasks>
+						    <delete
+							    dir="${exo.projects.directory.working}/exo-jboss"
+							    includeEmptyDirs="true" quiet="yes" />
+						    <copy
+							    todir="${exo.projects.directory.working}/exo-jboss"
+							    verbose="false" overwrite="true">
+							    <fileset
+								    dir="${exo.projects.directory.dependencies}/${exo.projects.app.jboss.version}" />
+						    </copy>
+						    <copy
+							    todir="${exo.projects.directory.working}/exo-jboss/server/default/deploy/portlet-container.ear"
+							    verbose="true" overwrite="true">
+							    <fileset
+								    dir="${basedir}/target/ear/"
+								    excludes="**/*.war" />
+						    </copy>
+						    <copy
+							    todir="${exo.projects.directory.working}/exo-jboss/server/default/deploy/portlet-container.ear"
+							    verbose="true" flatten="true" overwrite="true">
+							    <fileset
+								    dir="${basedir}/target/ear/"
+								    casesensitive="yes">
+								    <include name="**/*.war" />
+								    <exclude name="portal.war" />
+							    </fileset>
+						    </copy>
+
+                <copy tofile="${exo.projects.directory.working}/exo-jboss/server/default/deploy/portlet-container.ear/01portal.war" 
+						          file="${basedir}/target/ear/portal.war" />
+						          
+						    <touch file="${basedir}/patches/jboss/WEB-INF/classes/conf/exo-configuration.xml"/>
+
+    <!-- PATCH EAR -->					    						
+						    <copy
+							    todir="${exo.projects.directory.working}/exo-jboss"
+							    verbose="true" overwrite="true">
+							    <fileset
+								    dir="${basedir}/patches/jboss-ear/jbosshome/"> 
+							    </fileset>	
+						    </copy>
+						
+						    <war
+						         destfile="${exo.projects.directory.working}/exo-jboss/server/default/deploy/portlet-container.ear/01portal.war" update="true">
+                 	                                                      <webinf dir="${basedir}/patches/jboss/WEB-INF/">
+						         </webinf>
+						    </war>
+
+    <!-- PATCH SERVER -->
+						    <copy
+							    todir="${exo.projects.directory.working}/exo-jboss"
+							    verbose="true" overwrite="true">
+							    <fileset
+								    dir="${basedir}/patches/jboss/jbosshome/"> 
+							    </fileset>	
+						    </copy>
+
+    <!-- EXOMAN due to removed jboss-app.xml
+					                 <delete
+						               file="${exo.projects.directory.working}/exo-jboss/server/default/deploy/portlet-container.ear/jtidy-4aug2000r7-dev.jar" />
+    -->
+
+    <!--
+						    <delete
+							    file="${exo.projects.directory.working}/exo-jboss/server/default/lib/hsqldb.jar" />
+    -->
+    <!--					             <delete
+						               file="${exo.projects.directory.working}/exo-jboss/server/default/deploy/portlet-container.ear/demos.war" />
+    -->
+
+					    </tasks>
+				    </configuration>
+			    </plugin>
+		    </plugins>
+	    </build>
+    </profile>
+    
+    <profile>
+      <id>jboss-sar</id>
+      <activation>
+        <activeByDefault>false</activeByDefault>
+      </activation>
+      
+      <build>
+		<plugins>
+			<plugin>
+				<artifactId>maven-assembly-plugin</artifactId>
+				<version>2.1</version>
+				<executions>
+					<execution>
+						<phase>install</phase>
+						<goals>
+							<goal>assembly</goal>
+						</goals>
+					</execution>
+				</executions>
+				<configuration>
+					<descriptors>
+						<descriptor>product-descriptor.xml</descriptor>
+					</descriptors>
+					<finalName>lib</finalName>
+				</configuration>
+			</plugin>
+			<plugin>
+				<artifactId>maven-antrun-plugin</artifactId>
+				<configuration>
+					<tasks>
+						<delete
+							dir="${exo.projects.directory.working}/exo-jboss"
+							includeEmptyDirs="true" quiet="yes" />
+						<copy
+							todir="${exo.projects.directory.working}/exo-jboss"
+							verbose="false" overwrite="true">
+							<fileset
+								dir="${exo.projects.directory.dependencies}/${exo.projects.app.jboss.version}" />
+						</copy>
+						<copy
+							todir="${exo.projects.directory.working}/exo-jboss/server/default/deploy/portlet-container.sar"
+							verbose="true" overwrite="true">
+							<fileset
+								dir="${basedir}/target/ear/"
+								excludes="**/*.war" />
+						</copy>
+						<copy
+							todir="${exo.projects.directory.working}/exo-jboss/server/default/deploy/portlet-container.sar"
+							verbose="true" flatten="true" overwrite="true">
+							<fileset
+								dir="${basedir}/target/ear/"
+								casesensitive="yes">
+								<include name="**/*.war" />
+								<exclude name="portal.war" />
+							</fileset>
+						</copy>
+						
+                                                <copy tofile="${exo.projects.directory.working}/exo-jboss/server/default/deploy/portlet-container.sar/01portal.war" 
+						      file="${basedir}/target/ear/portal.war" overwrite="true"/>
+
+
+						<touch file="${basedir}/patches/jboss/WEB-INF/classes/conf/exo-configuration.xml"/>
+
+<!-- PATCH SAR -->					    						
+						<copy
+							todir="${exo.projects.directory.working}/exo-jboss"
+							verbose="true" overwrite="true">
+							<fileset
+								dir="${basedir}/patches/jboss-sar/jbosshome/"> 
+							</fileset>	
+						</copy>
+						
+						<war
+						     destfile="${exo.projects.directory.working}/exo-jboss/server/default/deploy/portlet-container.sar/01portal.war" update="true">
+             	                                                      <webinf dir="${basedir}/patches/jboss/WEB-INF/">
+						     </webinf>
+						</war>
+
+<!-- PATCH SERVER -->
+						<copy
+							todir="${exo.projects.directory.working}/exo-jboss"
+							verbose="true" overwrite="true">
+							<fileset
+								dir="${basedir}/patches/jboss/jbosshome/"> 
+							</fileset>	
+						</copy>
+
+<!--
+                                                <copy tofile="${exo.projects.directory.working}/exo-jboss/server/default/deploy/jboss-web.deployer/server.xml" 
+						      file="${basedir}/patches/jboss-sar/jboss-web.deployer/server.xml" overwrite="true"/>
+
+                                                <copy tofile="${exo.projects.directory.working}/exo-jboss/bin/run.conf" 
+						      file="${basedir}/patches/jboss-sar/run.conf" overwrite="true"/>
+-->
+<!--
+						<delete
+							file="${exo.projects.directory.working}/exo-jboss/server/default/lib/hsqldb.jar" />
+-->
+<!--					             <delete
+						           file="${exo.projects.directory.working}/exo-jboss/server/default/deploy/portlet-container.sar/demos.war" />
+-->
+					</tasks>
+				</configuration>
+			</plugin>
+		</plugins>
+	</build>
+	
+    </profile>
+    
+  <profile>
+    <id>jcr-console</id>
+      <activation>
+        <activeByDefault>false</activeByDefault>
+      </activation>
+
+      <properties>
+        <exo.platform.version>2.0.3</exo.platform.version>
+        <org.exoplatform.pc.version>2.0</org.exoplatform.pc.version>
+        <org.exoplatform.ecm.version>2.0</org.exoplatform.ecm.version>
+        <org.exoplatform.jcr.version>1.7</org.exoplatform.jcr.version>
+      </properties>
+
+      <dependencies>
+        <dependency>
+          <groupId>org.exoplatform.portletcontainer</groupId>
+          <artifactId>portal</artifactId>
+          <version>${org.exoplatform.pc.version}</version>
+          <type>exopc-war</type>
+          <scope>compile</scope>
+        </dependency>
+
+        <dependency>
+          <groupId>org.exoplatform.portletcontainer</groupId>
+          <artifactId>portlets</artifactId>
+          <version>${org.exoplatform.pc.version}</version>
+          <type>exopc-war</type>
+          <scope>compile</scope>
+        </dependency>
+
+        <dependency>
+          <groupId>org.exoplatform.portletcontainer</groupId>
+          <artifactId>portlets2</artifactId>
+          <version>${org.exoplatform.pc.version}</version>
+          <type>exopc-war</type>
+          <scope>compile</scope>
+        </dependency>
+
+        <dependency>
+          <groupId>org.exoplatform.portletcontainer</groupId>
+          <artifactId>exo.pc.component.core</artifactId>
+          <version>${org.exoplatform.pc.version}</version>
+          <scope>compile</scope>
+        </dependency>
+
+        <dependency>
+          <groupId>org.exoplatform.portletcontainer</groupId>
+          <artifactId>exo.pc.component.plugins.pc</artifactId>
+          <version>${org.exoplatform.pc.version}</version>
+          <scope>compile</scope>
+        </dependency>
+
+        <dependency>
+          <groupId>org.exoplatform.portletcontainer</groupId>
+          <artifactId>exo.pc.component.plugins.wsrp1</artifactId>
+          <version>${org.exoplatform.pc.version}</version>
+          <scope>compile</scope>
+        </dependency>
+
+        <dependency>
+          <groupId>org.exoplatform.portletcontainer</groupId>
+          <artifactId>exo.pc.component.plugins.wsrp2</artifactId>
+          <version>${org.exoplatform.pc.version}</version>
+          <scope>compile</scope>
+        </dependency>
+       
+         <dependency>
+          <groupId>org.exoplatform.ecm</groupId>
+          <artifactId>exo.ecm.portlet.jcr-console</artifactId>
+          <version>${exo.ecm.version}</version>
+          <type>war</type>
+          <scope>compile</scope>
+        </dependency>
+        
+        <dependency>
+          <groupId>org.exoplatform.jcr</groupId>
+          <artifactId>exo.jcr.framework.command</artifactId>
+          <version>${org.exoplatform.jcr.version}</version>
+          <scope>compile</scope>
+        </dependency>
+      
+      <dependency>
+          <groupId>org.exoplatform.jcr</groupId>
+          <artifactId>exo.jcr.component.core</artifactId>
+          <version>${org.exoplatform.jcr.version}</version>
+          <scope>compile</scope>
+        </dependency>
+
+        <dependency>
+          <groupId>exo-weblogic</groupId>
+          <artifactId>exo-weblogic-authproviders</artifactId>
+          <version>1.0</version>
+          <scope>provided</scope>
+        </dependency>
+
+        <dependency>
+          <groupId>exo-weblogic</groupId>
+          <artifactId>exo-weblogic-loginmodule</artifactId>
+          <version>1.0</version>
+          <scope>provided</scope>
+        </dependency>
+
+        <dependency>
+          <groupId>commons-logging</groupId>
+          <artifactId>commons-logging</artifactId>
+          <version>1.0.4</version>
+          <scope>provided</scope>
+        </dependency>
+       </dependencies>
+
+       <build>
+        <finalName>portlet-container</finalName>
+        <plugins>
+          <plugin>
+            <groupId>org.apache.maven.plugins</groupId>
+            <artifactId>maven-ear-plugin</artifactId>
+            <configuration>
+              <archive>
+                <manifest>
+                  <addClasspath>true</addClasspath>
+                </manifest>
+              </archive>
+            </configuration>
+          </plugin>
+          <plugin>
+            <groupId>org.exoplatform.maven.plugins</groupId>
+            <artifactId>maven-exopc-plugin</artifactId>
+            <extensions>true</extensions>
+            <configuration>
+              <sharedDir>${basedir}/patches</sharedDir>
+              <excludeProjects>
+                junit, jmock, bcel, ehcache,cargo-core-api-container,cargo-core-api-generic,cargo-core-api-module, xercesImpl, msv, servlet-api, jibx-bind, isorelax,
+                relaxngDatatype,cargo-core-api-util, cargo-core-container-tomcat, velocity-dep, saxpath, exo-platform.test.framework,
+                xmldb-api, castor, drools-smftest, jsp-api, xml-apis, xml-resolver, jaxen,
+                xjavadoc, xdoclet-hibernate-module, xdoclet-xdoclet-module, xdoclet,
+                saaj-api, exo-weblogic-authproviders, exo-weblogic-loginmodule,
+                carol, commons-fileupload, commons-io, drools-base, drools-core, drools-java,
+                drools-smf, exo-platform.services.backup.api, exo-platform.services.ldap.api,
+                exo-platform.services.ldap.impl, exo-platform.services.remote.api,
+                exo-platform.services.remote.impl, exo-platform.services.templates.api,
+                exo-platform.services.templates.impl, groovy-all-1.0-jsr, janino,
+                log4j, soap, velocity, naming-core, naming-java
+              </excludeProjects>
+            </configuration>
+          </plugin>
+        </plugins>
+      </build>
+    </profile>
+  </profiles>
+  
   <build>
     <finalName>portlet-container</finalName>
     <plugins>
Index: applications/assembly/product-descriptor.xml
===================================================================
--- applications/assembly/product-descriptor.xml	(revision 65590)
+++ applications/assembly/product-descriptor.xml	(working copy)
@@ -1,125 +1,125 @@
 <assembly>
-	<id>${org.exoplatform.pc.version}</id>
-	<formats>
-		<format>dir</format>
-		<!--<format>jar</format>-->
-	</formats>
-	<includeBaseDirectory>false</includeBaseDirectory>
-	<fileSets>
-		<fileSet>
-			<directory>target/classes</directory>
-			<outputDirectory>/</outputDirectory>
-		</fileSet>
-	</fileSets>
+  <id>${project.version}</id>
+  <formats>
+    <format>dir</format>
+    <!--<format>jar</format>-->
+  </formats>
+  <includeBaseDirectory>false</includeBaseDirectory>
+  <fileSets>
+    <fileSet>
+      <directory>target/classes</directory>
+      <outputDirectory>/</outputDirectory>
+    </fileSet>
+  </fileSets>
 
-	<dependencySets>
-		<dependencySet>
-			<outputDirectory>/</outputDirectory>
-			<unpack>false</unpack>
-			<scope>runtime</scope>
-			<excludes>
-				<!--<exclude>ant:ant</exclude>
-				<exclude>bsh:bsh</exclude>
-				<exclude>classworlds:classworlds</exclude>
-				<exclude>commons-io:commons-io</exclude>
-				<exclude>drools:drools-base</exclude>
-				<exclude>drools:drools-core</exclude>
-				<exclude>drools:drools-java</exclude>
-				<exclude>drools:drools-smf</exclude>
-				<exclude>drools:drools-smftest</exclude>
-				<exclude>janino:janino</exclude>
-				<exclude>jetty:jetty</exclude>
-				<exclude>jetty:jetty-plus</exclude>
-				<exclude>jetty:jetty-util</exclude>
-				<exclude>jibx:jibx-extras</exclude>
-				<exclude>msv:msv</exclude>
-				<exclude>org.apache.maven:maven-artifact</exclude>
-				<exclude>org.apache.maven:maven-artifact-manager</exclude>
-				<exclude>org.apache.maven:maven-model</exclude>
-				<exclude>org.apache.maven:maven-plugin-api</exclude>
-				<exclude>org.apache.maven:maven-profile</exclude>
-				<exclude>org.apache.maven:maven-project</exclude>
-				<exclude>org.apache.maven:maven-repository-metadata</exclude>
-				<exclude>org.apache.maven:maven-settings</exclude>
-				<exclude>org.apache.maven.wagon:wagon-provider-api</exclude>
-				<exclude>org.codehaus.plexus:plexus-classworlds</exclude>
-				<exclude>org.codehaus.plexus:plexus-component-api</exclude>
-				<exclude>org.codehaus.plexus:plexus-container-default</exclude>
-				<exclude>org.codehaus.plexus:plexus-digest</exclude>
-				<exclude>org.codehaus.plexus:plexus-utils</exclude>
-				<exclude>relaxngDatatype:relaxngDatatype</exclude>
-				<exclude>saxpath:saxpath</exclude>
-				<exclude>stax:stax</exclude>
-				<exclude>maven:wagon-provider-api</exclude>
-				<exclude>org.objectweb.carol:carol</exclude>
-				<exclude>isorelax:isorelax</exclude>
-				<exclude>com.totsp.feedpod:itunes-com-podcast</exclude>
-				<exclude>com.sun.xml.bind:jaxb-impl</exclude>
-				<exclude>com.sun.xml.bind:jaxb-xjc</exclude>
-				<exclude>com.sun.xml.parsers:jaxp-ri</exclude>
-				<exclude>jaxen:jaxen</exclude>
-				<exclude>castor:castor</exclude>
-				<exclude>commons-fileupload</exclude>
-				<exclude>javax.resource:connector</exclude>
-				<exclude>javax.faces:jsf-api</exclude>
-				<exclude>javax.xml.bind:jsr173_api</exclude>
-				<exclude>jtidy:jtidy</exclude>
-				<exclude>org.jvnet.jaxb2.maven2:maven-jaxb2-plugin</exclude>
-				<exclude>xerces:xercesImpl</exclude>
-				<exclude>xmldb:xmldb-api</exclude>
-				<exclude>xml-resolver:xml-resolver</exclude>
-				<exclude>javax.xml.parsers:jaxp-api</exclude>
-				<exclude>javax.xml.bind:jaxb-api</exclude>
-				<exclude>javax.servlet:jsp-api</exclude>
-				<exclude>javax.ejb:ejb</exclude>
-				<exclude>org.exoplatform.core:exo.core.component.common</exclude>
-				<exclude>org.exoplatform.jcr:exo.jcr.applications.webdavclient</exclude>
-				<exclude>javax.activation:activation</exclude>
-				<exclude>xalan:xalan</exclude>
-				<exclude>com.sun.xml.parsers:jaxp-ri</exclude>
-				<exclude>bcel:bcel</exclude>
-				<exclude>commons-logging:commons-logging</exclude>
-				<exclude>drools:drools-smftest</exclude>
-				<exclude>ehcache:ehcache</exclude>
-				<exclude>jibx:jibx-bind</exclude>
-				<exclude>jmock:jmock</exclude>
-				<exclude>junit:junit</exclude>
-				<exclude>directory-naming:naming-core</exclude>
-				<exclude>directory-naming:naming-java</exclude>
-				<exclude>javax.servlet:servlet-api</exclude>
-				<exclude>com.experlog:xapool</exclude>
-				<exclude>xdoclet:xdoclet</exclude>
-				<exclude>xdoclet:xdoclet-hibernate-module</exclude>
-				<exclude>xdoclet:xdoclet-xdoclet-module</exclude>
-				<exclude>xerces:xerces</exclude>
-				<exclude>xdoclet:xjavadoc</exclude>
-				<exclude>xml-apis:xml-apis</exclude>-->
-				<!--=====================================-->
-				<!--<exclude>org.exoplatform.jcr:exo.jcr.applications.webdavclient</exclude>
-				<exclude>javax.activation:activation</exclude>
-				<exclude>xalan:xalan</exclude>
-				<exclude>com.sun.xml.parsers:jaxp-ri</exclude>
-				<exclude>bcel:bcel</exclude>
-				<exclude>commons-logging:commons-logging</exclude>
-				<exclude>drools:drools-smftest</exclude>
-				<exclude>ehcache:ehcache</exclude>
-				<exclude>org.codehaus.groovy:groovy-all-minimal</exclude>
-				<exclude>jibx:jibx-bind</exclude>
-				<exclude>jmock:jmock</exclude>
-				<exclude>junit:junit</exclude>
-				<exclude>directory-naming:naming-core</exclude>
-				<exclude>directory-naming:naming-java</exclude>
-				<exclude>javax.servlet:servlet-api</exclude>
-				<exclude>com.experlog:xapool</exclude>
-				<exclude>xdoclet:xdoclet</exclude>
-				<exclude>xdoclet:xdoclet-hibernate-module</exclude>
-				<exclude>xdoclet:xdoclet-xdoclet-module</exclude>
-				<exclude>xerces:xerces</exclude>
-				<exclude>xdoclet:xjavadoc</exclude>
-				<exclude>xml-apis:xml-apis</exclude>-->
-				<exclude>directory-naming:naming-core</exclude>
-				<exclude>javax.servlet:servlet-api</exclude>
-			</excludes>
-		</dependencySet>
-	</dependencySets>
-</assembly>
+  <dependencySets>
+    <dependencySet>
+      <outputDirectory>/</outputDirectory>
+      <unpack>false</unpack>
+      <scope>runtime</scope>
+      <excludes>
+        <!--<exclude>ant:ant</exclude>
+        <exclude>bsh:bsh</exclude>
+        <exclude>classworlds:classworlds</exclude>
+        <exclude>commons-io:commons-io</exclude>
+        <exclude>drools:drools-base</exclude>
+        <exclude>drools:drools-core</exclude>
+        <exclude>drools:drools-java</exclude>
+        <exclude>drools:drools-smf</exclude>
+        <exclude>drools:drools-smftest</exclude>
+        <exclude>janino:janino</exclude>
+        <exclude>jetty:jetty</exclude>
+        <exclude>jetty:jetty-plus</exclude>
+        <exclude>jetty:jetty-util</exclude>
+        <exclude>jibx:jibx-extras</exclude>
+        <exclude>msv:msv</exclude>
+        <exclude>org.apache.maven:maven-artifact</exclude>
+        <exclude>org.apache.maven:maven-artifact-manager</exclude>
+        <exclude>org.apache.maven:maven-model</exclude>
+        <exclude>org.apache.maven:maven-plugin-api</exclude>
+        <exclude>org.apache.maven:maven-profile</exclude>
+        <exclude>org.apache.maven:maven-project</exclude>
+        <exclude>org.apache.maven:maven-repository-metadata</exclude>
+        <exclude>org.apache.maven:maven-settings</exclude>
+        <exclude>org.apache.maven.wagon:wagon-provider-api</exclude>
+        <exclude>org.codehaus.plexus:plexus-classworlds</exclude>
+        <exclude>org.codehaus.plexus:plexus-component-api</exclude>
+        <exclude>org.codehaus.plexus:plexus-container-default</exclude>
+        <exclude>org.codehaus.plexus:plexus-digest</exclude>
+        <exclude>org.codehaus.plexus:plexus-utils</exclude>
+        <exclude>relaxngDatatype:relaxngDatatype</exclude>
+        <exclude>saxpath:saxpath</exclude>
+        <exclude>stax:stax</exclude>
+        <exclude>maven:wagon-provider-api</exclude>
+        <exclude>org.objectweb.carol:carol</exclude>
+        <exclude>isorelax:isorelax</exclude>
+        <exclude>com.totsp.feedpod:itunes-com-podcast</exclude>
+        <exclude>com.sun.xml.bind:jaxb-impl</exclude>
+        <exclude>com.sun.xml.bind:jaxb-xjc</exclude>
+        <exclude>com.sun.xml.parsers:jaxp-ri</exclude>
+        <exclude>jaxen:jaxen</exclude>
+        <exclude>castor:castor</exclude>
+        <exclude>commons-fileupload</exclude>
+        <exclude>javax.resource:connector</exclude>
+        <exclude>javax.faces:jsf-api</exclude>
+        <exclude>javax.xml.bind:jsr173_api</exclude>
+        <exclude>jtidy:jtidy</exclude>
+        <exclude>org.jvnet.jaxb2.maven2:maven-jaxb2-plugin</exclude>
+        <exclude>xerces:xercesImpl</exclude>
+        <exclude>xmldb:xmldb-api</exclude>
+        <exclude>xml-resolver:xml-resolver</exclude>
+        <exclude>javax.xml.parsers:jaxp-api</exclude>
+        <exclude>javax.xml.bind:jaxb-api</exclude>
+        <exclude>javax.servlet:jsp-api</exclude>
+        <exclude>javax.ejb:ejb</exclude>
+        <exclude>org.exoplatform.core:exo.core.component.common</exclude>
+        <exclude>org.exoplatform.jcr:exo.jcr.applications.webdavclient</exclude>
+        <exclude>javax.activation:activation</exclude>
+        <exclude>xalan:xalan</exclude>
+        <exclude>com.sun.xml.parsers:jaxp-ri</exclude>
+        <exclude>bcel:bcel</exclude>
+        <exclude>commons-logging:commons-logging</exclude>
+        <exclude>drools:drools-smftest</exclude>
+        <exclude>ehcache:ehcache</exclude>
+        <exclude>jibx:jibx-bind</exclude>
+        <exclude>jmock:jmock</exclude>
+        <exclude>junit:junit</exclude>
+        <exclude>directory-naming:naming-core</exclude>
+        <exclude>directory-naming:naming-java</exclude>
+        <exclude>javax.servlet:servlet-api</exclude>
+        <exclude>com.experlog:xapool</exclude>
+        <exclude>xdoclet:xdoclet</exclude>
+        <exclude>xdoclet:xdoclet-hibernate-module</exclude>
+        <exclude>xdoclet:xdoclet-xdoclet-module</exclude>
+        <exclude>xerces:xerces</exclude>
+        <exclude>xdoclet:xjavadoc</exclude>
+        <exclude>xml-apis:xml-apis</exclude>-->
+        <!--=====================================-->
+        <!--<exclude>org.exoplatform.jcr:exo.jcr.applications.webdavclient</exclude>
+        <exclude>javax.activation:activation</exclude>
+        <exclude>xalan:xalan</exclude>
+        <exclude>com.sun.xml.parsers:jaxp-ri</exclude>
+        <exclude>bcel:bcel</exclude>
+        <exclude>commons-logging:commons-logging</exclude>
+        <exclude>drools:drools-smftest</exclude>
+        <exclude>ehcache:ehcache</exclude>
+        <exclude>org.codehaus.groovy:groovy-all-minimal</exclude>
+        <exclude>jibx:jibx-bind</exclude>
+        <exclude>jmock:jmock</exclude>
+        <exclude>junit:junit</exclude>
+        <exclude>directory-naming:naming-core</exclude>
+        <exclude>directory-naming:naming-java</exclude>
+        <exclude>javax.servlet:servlet-api</exclude>
+        <exclude>com.experlog:xapool</exclude>
+        <exclude>xdoclet:xdoclet</exclude>
+        <exclude>xdoclet:xdoclet-hibernate-module</exclude>
+        <exclude>xdoclet:xdoclet-xdoclet-module</exclude>
+        <exclude>xerces:xerces</exclude>
+        <exclude>xdoclet:xjavadoc</exclude>
+        <exclude>xml-apis:xml-apis</exclude>-->
+        <exclude>directory-naming:naming-core</exclude>
+        <exclude>javax.servlet:servlet-api</exclude>
+      </excludes>
+    </dependencySet>
+  </dependencySets>
+</assembly>
Index: applications/assembly/pom-jboss-sar.xml
===================================================================
--- applications/assembly/pom-jboss-sar.xml	(revision 65590)
+++ applications/assembly/pom-jboss-sar.xml	(working copy)
@@ -1,116 +0,0 @@
-<project>
-	<parent>
-		<groupId>org.exoplatform.portletcontainer</groupId>
-		<artifactId>config</artifactId>
-		<version>2.0.13-SNAPSHOT</version>
-	</parent>
-
-	<modelVersion>4.0.0</modelVersion>
-	<artifactId>assembly</artifactId>
-	<packaging>jar</packaging>
-	<name>eXo PC Product</name>
-	<url>http://www.exoplatform.org</url>
-	<description>eXo PC Product</description>
-
-	<build>
-		<plugins>
-			<plugin>
-				<artifactId>maven-assembly-plugin</artifactId>
-				<version>2.1</version>
-				<executions>
-					<execution>
-						<phase>install</phase>
-						<goals>
-							<goal>assembly</goal>
-						</goals>
-					</execution>
-				</executions>
-				<configuration>
-					<descriptors>
-						<descriptor>product-descriptor.xml</descriptor>
-					</descriptors>
-					<finalName>lib</finalName>
-				</configuration>
-			</plugin>
-			<plugin>
-				<artifactId>maven-antrun-plugin</artifactId>
-				<configuration>
-					<tasks>
-						<delete
-							dir="${exo.projects.directory.working}/exo-jboss"
-							includeEmptyDirs="true" quiet="yes" />
-						<copy
-							todir="${exo.projects.directory.working}/exo-jboss"
-							verbose="false" overwrite="true">
-							<fileset
-								dir="${exo.projects.directory.dependencies}/${exo.projects.app.jboss.version}" />
-						</copy>
-						<copy
-							todir="${exo.projects.directory.working}/exo-jboss/server/default/deploy/portlet-container.sar"
-							verbose="true" overwrite="true">
-							<fileset
-								dir="${basedir}/target/ear/"
-								excludes="**/*.war" />
-						</copy>
-						<copy
-							todir="${exo.projects.directory.working}/exo-jboss/server/default/deploy/portlet-container.sar"
-							verbose="true" flatten="true" overwrite="true">
-							<fileset
-								dir="${basedir}/target/ear/"
-								casesensitive="yes">
-								<include name="**/*.war" />
-								<exclude name="portal.war" />
-							</fileset>
-						</copy>
-						
-                                                <copy tofile="${exo.projects.directory.working}/exo-jboss/server/default/deploy/portlet-container.sar/01portal.war" 
-						      file="${basedir}/target/ear/portal.war" overwrite="true"/>
-
-
-						<touch file="${basedir}/patches/jboss/WEB-INF/classes/conf/exo-configuration.xml"/>
-
-<!-- PATCH SAR -->					    						
-						<copy
-							todir="${exo.projects.directory.working}/exo-jboss"
-							verbose="true" overwrite="true">
-							<fileset
-								dir="${basedir}/patches/jboss-sar/jbosshome/"> 
-							</fileset>	
-						</copy>
-						
-						<war
-						     destfile="${exo.projects.directory.working}/exo-jboss/server/default/deploy/portlet-container.sar/01portal.war" update="true">
-             	                                                      <webinf dir="${basedir}/patches/jboss/WEB-INF/">
-						     </webinf>
-						</war>
-
-<!-- PATCH SERVER -->
-						<copy
-							todir="${exo.projects.directory.working}/exo-jboss"
-							verbose="true" overwrite="true">
-							<fileset
-								dir="${basedir}/patches/jboss/jbosshome/"> 
-							</fileset>	
-						</copy>
-
-<!--
-                                                <copy tofile="${exo.projects.directory.working}/exo-jboss/server/default/deploy/jboss-web.deployer/server.xml" 
-						      file="${basedir}/patches/jboss-sar/jboss-web.deployer/server.xml" overwrite="true"/>
-
-                                                <copy tofile="${exo.projects.directory.working}/exo-jboss/bin/run.conf" 
-						      file="${basedir}/patches/jboss-sar/run.conf" overwrite="true"/>
--->
-<!--
-						<delete
-							file="${exo.projects.directory.working}/exo-jboss/server/default/lib/hsqldb.jar" />
--->
-<!--					             <delete
-						           file="${exo.projects.directory.working}/exo-jboss/server/default/deploy/portlet-container.sar/demos.war" />
--->
-					</tasks>
-				</configuration>
-			</plugin>
-		</plugins>
-	</build>
-
-</project>
Index: applications/assembly/pom-jonas.xml
===================================================================
--- applications/assembly/pom-jonas.xml	(revision 65590)
+++ applications/assembly/pom-jonas.xml	(working copy)
@@ -1,197 +0,0 @@
-<project>
-	<parent>
-		<groupId>org.exoplatform.portletcontainer</groupId>
-		<artifactId>config</artifactId>
-		<version>2.0.13-SNAPSHOT</version>
-	</parent>
-
-	<modelVersion>4.0.0</modelVersion>
-	<artifactId>assembly</artifactId>
-	<packaging>jar</packaging>
-	<name>eXo PC Product</name>
-	<url>http://www.exoplatform.org</url>
-	<description>eXo PC Product</description>
-	
-	<dependencies>
-	    <dependency>
-	      <groupId>_jonas_patches</groupId>
-	      <artifactId>naming-core</artifactId>
-	      <version>0.8</version>
-	      <type>jar</type>
-	      <scope>compile</scope>
-	 </dependency>
-
-             <dependency>
-                  <groupId>_jonas_patches</groupId>
-                  <artifactId>naming-java</artifactId>
-                 <version>0.8</version>
-                 <type>jar</type>
-                 <scope>compile</scope>
-             </dependency>
-             
-	    <dependency>
-	      <groupId>_jonas_patches</groupId>
-	      <artifactId>stax-api</artifactId>
-	      <version>1.0.1</version>
-	      <type>jar</type>
-	      <scope>compile</scope>
-	 </dependency>
-
-             <dependency>
-                  <groupId>_jonas_patches</groupId>
-                  <artifactId>xapool</artifactId>
-                 <version>1.5.0</version>
-                 <type>jar</type>
-                 <scope>compile</scope>
-             </dependency>
-
-	 <dependency>
-	      <groupId>_jonas_patches</groupId>
-	      <artifactId>mail</artifactId>
-	      <version>1.4</version>
-	      <type>jar</type>
-	      <scope>compile</scope>
-	 </dependency>
-
-             <dependency>
-                  <groupId>_jonas_patches</groupId>
-                  <artifactId>jsf-api</artifactId>
-                 <version>1.2</version>
-                 <type>jar</type>
-                 <scope>compile</scope>
-             </dependency>
-             
-            <dependency>
-	      <groupId>_jonas_patches</groupId>
-	      <artifactId>jibx-extras</artifactId>
-	      <version>1.1.6a</version>
-	      <type>jar</type>
-	      <scope>compile</scope>
-	 </dependency>
-
-             <dependency>
-                  <groupId>_jonas_patches</groupId>
-                  <artifactId>jaxb-impl</artifactId>
-                 <version>2.0.2</version>
-                 <type>jar</type>
-                 <scope>compile</scope>
-             </dependency>
-          </dependencies>
-
-
-	<build>
-		<plugins>
-			<plugin>
-				<artifactId>maven-assembly-plugin</artifactId>
-				<version>2.1</version>
-				<executions>
-					<execution>
-						<phase>install</phase>
-						<goals>
-							<goal>assembly</goal>
-						</goals>
-					</execution>
-				</executions>
-				<configuration>
-					<descriptors>
-						<descriptor>product-descriptor.xml</descriptor>
-					</descriptors>
-					<finalName>lib</finalName>
-				</configuration>
-			</plugin>
-			<plugin>
-				<artifactId>maven-antrun-plugin</artifactId>
-				<configuration>
-					<tasks>
-					 	<delete
-							dir="${exo.projects.directory.working}/exo-jonas"
-							includeEmptyDirs="true" quiet="yes" />
-						<copy
-							todir="${exo.projects.directory.working}/exo-jonas"
-							verbose="false" overwrite="true">
-							<fileset
-								dir="${exo.projects.directory.dependencies}/${exo.projects.app.jonas.version}" />
-						</copy>
-						<!-- copy portlet-container.ear to autoload directory-->
-						<copy
-							todir="${exo.projects.directory.working}/exo-jonas/apps/autoload/"
-							verbose="true" overwrite="true">
-							<fileset  dir="${basedir}/target/">
-							  <filename name="**/*.ear"/>
-							</fileset>  
-						</copy>
-						<!-- copy jonas bin -->-			
-						<copy
-							todir="${exo.projects.directory.working}/exo-jonas/bin/"
-							verbose="true" overwrite="true">
-							<fileset
-								dir="${basedir}/patches/jonas/bin"> 
-								<exclude name="**/WEB*" />
-							</fileset>	
-						</copy>
-						<!-- copy jonas conf -->
-						<copy
-							todir="${exo.projects.directory.working}/exo-jonas/conf/"
-							verbose="true" flatten="true" overwrite="true">
-							<fileset
-								dir="${basedir}/patches/jonas/conf"
-								casesensitive="yes">
-							</fileset>
-						</copy>
-						<!-- copy portal.war temporary to jonas autoload -->
-						<copy
-							todir="${exo.projects.directory.working}/exo-jonas/apps/autoload/"
-							verbose="true"  overwrite="true">
-							<fileset
-								dir="${basedir}/target/ear/"
-								casesensitive="yes">
-        							<filename name="portal.war"/>
-							</fileset>
-						</copy>
-						
-						<touch file="${basedir}/patches/jonas/WEB-INF/classes/conf/exo-configuration.xml"/>
-						<!-- copy WEB-INF to portal.war -->
-						<war 
-						      destfile="${exo.projects.directory.working}/exo-jonas/apps/autoload/portal.war"  update="true">
-             	                                                      <webinf dir="${basedir}/patches/jonas/WEB-INF/">
-						      </webinf>
-						</war>
-						
-					         <touch>
-					                    <fileset dir="${basedir}/target/lib-trunk.dir/" >
-						            <filename name="**/*.jar" /> 
-						            <exclude name="**/assembly*" />
-						         </fileset>
-					          </touch>
-					        <!-- copy several jars into ear -->  
-						<ear destfile="${exo.projects.directory.working}/exo-jonas/apps/autoload/portlet-container.ear" update="true">
-						          <fileset dir="${basedir}/target/lib-trunk.dir/">
-						              <filename name="**/*.jar" /> 
-						              <exclude name="**/assembly*" />
-						          </fileset>
-					           </ear>	
-					          <!-- copy modified portal.war --> 
-					          <ear destfile="${exo.projects.directory.working}/exo-jonas/apps/autoload/portlet-container.ear" update="true">
-						          <fileset dir="${exo.projects.directory.working}/exo-jonas/apps/autoload/">
-						            <filename name="portal.war"/> 
-						          </fileset>
-					           </ear>	
-						<!-- delete temporary file portal.war-->
-						<delete
-							file="${exo.projects.directory.working}/exo-jonas/apps/autoload/portal.war" />
-							
-						<delete>
-							 <fileset dir="${exo.projects.directory.working}/exo-jonas/lib/endorsed/">
-							   <include name="xalan*.jar" /> 
-							   <include name="xerces*.jar" /> 
-							   <include name="xml*.jar" /> 
-						             </fileset>
-					        </delete>
-					</tasks>
-				</configuration>
-			</plugin>
-		</plugins>
-	</build>
-
-</project>
Index: applications/assembly/deploy-jboss-sar.bat
===================================================================
--- applications/assembly/deploy-jboss-sar.bat	(revision 65590)
+++ applications/assembly/deploy-jboss-sar.bat	(working copy)
@@ -1,3 +1,3 @@
 call mvn clean exopc:deploy -Ddeploy=ear
-call mvn -f pom-jboss-sar.xml  install antrun:run
+call mvn install antrun:run -Pjboss-sar
 pause null
\ No newline at end of file
Index: applications/assembly/deploy-test-wsrp1-tomcat6-withdelete.sh
===================================================================
--- applications/assembly/deploy-test-wsrp1-tomcat6-withdelete.sh	(revision 65590)
+++ applications/assembly/deploy-test-wsrp1-tomcat6-withdelete.sh	(working copy)
@@ -5,8 +5,8 @@
 cp -r ../../../../../../exo-dependencies/apache-tomcat-6.0.26/* ../../../../../../exo-working/exo-tomcat/
 echo "Copied."
 
-mvn -f pom-test-wsrp1.xml deploy -Ddeploy=tomcat6
+mvn install -Ddeploy=tomcat6 -Ptest-wsrp1
 
-#mvn -f pom-test-wsrp1.xml clean exopc:deploy -Ddeploy=tomcat6 ant:ant
+#mvn clean exopc:deploy -Ddeploy=tomcat6 ant:ant -Ptest-wsrp1
 
 read
Index: applications/assembly/deploy-test-wsrp2-tomcat6-withdelete.sh
===================================================================
--- applications/assembly/deploy-test-wsrp2-tomcat6-withdelete.sh	(revision 65590)
+++ applications/assembly/deploy-test-wsrp2-tomcat6-withdelete.sh	(working copy)
@@ -5,6 +5,6 @@
 cp -r ../../../../../../exo-dependencies/apache-tomcat-6.0.26/* ../../../../../../exo-working/exo-tomcat/
 echo "Copied."
 
-mvn -f pom-test-wsrp2.xml deploy -Ddeploy=tomcat6
+mvn install -Ddeploy=tomcat6 -Ptest-wsrp2
 
 read
Index: applications/assembly/deploy-tomcat5-with_console.bat
===================================================================
--- applications/assembly/deploy-tomcat5-with_console.bat	(revision 65590)
+++ applications/assembly/deploy-tomcat5-with_console.bat	(working copy)
@@ -2,5 +2,5 @@
 mkdir ..\..\..\..\..\..\exo-working\exo-tomcat\
 xcopy /e /h /r ..\..\..\..\..\..\exo-dependencies\tomcat-5.5.17\* ..\..\..\..\..\..\exo-working\exo-tomcat\*
 
-call mvn -f pom-jcr-console.xml clean exopc:deploy -Ddeploy=tomcat
+call mvn clean exopc:deploy -Ddeploy=tomcat -Pjcr-console
 pause null
\ No newline at end of file
Index: applications/assembly/deploy-jboss-sar.sh
===================================================================
--- applications/assembly/deploy-jboss-sar.sh	(revision 65590)
+++ applications/assembly/deploy-jboss-sar.sh	(working copy)
@@ -1,3 +1,3 @@
 mvn clean exopc:deploy -Ddeploy=ear
-mvn -f pom-jboss-sar.xml install antrun:run
+mvn install antrun:run -Pjboss-sar
 read
\ No newline at end of file
Index: applications/assembly/pom-jcr-console.xml
===================================================================
--- applications/assembly/pom-jcr-console.xml	(revision 65590)
+++ applications/assembly/pom-jcr-console.xml	(working copy)
@@ -1,170 +0,0 @@
-<project>
-  <parent>
-    <groupId>org.exoplatform.portletcontainer</groupId>
-    <artifactId>config</artifactId>
-    <version>2.0.13-SNAPSHOT</version>
-  </parent>
-  <modelVersion>4.0.0</modelVersion>
-  <artifactId>assembly</artifactId>
-  <packaging>ear</packaging>
-  <name>eXo Portlet Container Demo Assembly</name>
-  
-   <profiles>
-    <profile>
-      <id>default</id>
-      <activation>
-        <property><name>default</name></property>
-        <activeByDefault>true</activeByDefault>
-      </activation>
-      <properties>
-        <exo.platform.version>2.0.3</exo.platform.version>
-        <org.exoplatform.pc.version>2.0</org.exoplatform.pc.version>
-        <org.exoplatform.ecm.version>2.0</org.exoplatform.ecm.version>
-        <org.exoplatform.jcr.version>1.7</org.exoplatform.jcr.version>
-      </properties>
-    </profile>
-  </profiles>
-
-
-  <dependencies>
-    <dependency>
-      <groupId>org.exoplatform.portletcontainer</groupId>
-      <artifactId>portal</artifactId>
-      <version>${org.exoplatform.pc.version}</version>
-      <type>exopc-war</type>
-      <scope>compile</scope>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.portletcontainer</groupId>
-      <artifactId>portlets</artifactId>
-      <version>${org.exoplatform.pc.version}</version>
-      <type>exopc-war</type>
-      <scope>compile</scope>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.portletcontainer</groupId>
-      <artifactId>portlets2</artifactId>
-      <version>${org.exoplatform.pc.version}</version>
-      <type>exopc-war</type>
-      <scope>compile</scope>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.portletcontainer</groupId>
-      <artifactId>exo.pc.component.core</artifactId>
-      <version>${org.exoplatform.pc.version}</version>
-      <scope>compile</scope>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.portletcontainer</groupId>
-      <artifactId>exo.pc.component.plugins.pc</artifactId>
-      <version>${org.exoplatform.pc.version}</version>
-      <scope>compile</scope>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.portletcontainer</groupId>
-      <artifactId>exo.pc.component.plugins.wsrp1</artifactId>
-      <version>${org.exoplatform.pc.version}</version>
-      <scope>compile</scope>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.portletcontainer</groupId>
-      <artifactId>exo.pc.component.plugins.wsrp2</artifactId>
-      <version>${org.exoplatform.pc.version}</version>
-      <scope>compile</scope>
-    </dependency>
-
-    
-    
-    
-    
-    
-    
-     <dependency>
-      <groupId>org.exoplatform.ecm</groupId>
-      <artifactId>exo.ecm.portlet.jcr-console</artifactId>
-      <version>${exo.ecm.version}</version>
-      <type>war</type>
-      <scope>compile</scope>
-    </dependency>
-    
-    <dependency>
-      <groupId>org.exoplatform.jcr</groupId>
-      <artifactId>exo.jcr.framework.command</artifactId>
-      <version>${org.exoplatform.jcr.version}</version>
-      <scope>compile</scope>
-    </dependency>
-  
-  <dependency>
-      <groupId>org.exoplatform.jcr</groupId>
-      <artifactId>exo.jcr.component.core</artifactId>
-      <version>${org.exoplatform.jcr.version}</version>
-      <scope>compile</scope>
-    </dependency>
-
-    <dependency>
-      <groupId>exo-weblogic</groupId>
-      <artifactId>exo-weblogic-authproviders</artifactId>
-      <version>1.0</version>
-      <scope>provided</scope>
-    </dependency>
-
-    <dependency>
-      <groupId>exo-weblogic</groupId>
-      <artifactId>exo-weblogic-loginmodule</artifactId>
-      <version>1.0</version>
-      <scope>provided</scope>
-    </dependency>
-
-    <dependency>
-      <groupId>commons-logging</groupId>
-      <artifactId>commons-logging</artifactId>
-      <version>1.0.4</version>
-      <scope>provided</scope>
-    </dependency>
- </dependencies>
-
-   <build>
-    <finalName>portlet-container</finalName>
-    <plugins>
-      <plugin>
-        <groupId>org.apache.maven.plugins</groupId>
-        <artifactId>maven-ear-plugin</artifactId>
-        <configuration>
-          <archive>
-            <manifest>
-              <addClasspath>true</addClasspath>
-            </manifest>
-          </archive>
-        </configuration>
-      </plugin>
-      <plugin>
-        <groupId>org.exoplatform.maven.plugins</groupId>
-        <artifactId>maven-exopc-plugin</artifactId>
-        <extensions>true</extensions>
-        <configuration>
-          <sharedDir>${basedir}/patches</sharedDir>
-          <excludeProjects>
-            junit, jmock, bcel, ehcache,cargo-core-api-container,cargo-core-api-generic,cargo-core-api-module, xercesImpl, msv, servlet-api, jibx-bind, isorelax,
-            relaxngDatatype,cargo-core-api-util, cargo-core-container-tomcat, velocity-dep, saxpath, exo-platform.test.framework,
-            xmldb-api, castor, drools-smftest, jsp-api, xml-apis, xml-resolver, jaxen,
-            xjavadoc, xdoclet-hibernate-module, xdoclet-xdoclet-module, xdoclet,
-            saaj-api, exo-weblogic-authproviders, exo-weblogic-loginmodule,
-            carol, commons-fileupload, commons-io, drools-base, drools-core, drools-java,
-            drools-smf, exo-platform.services.backup.api, exo-platform.services.ldap.api,
-            exo-platform.services.ldap.impl, exo-platform.services.remote.api,
-            exo-platform.services.remote.impl, exo-platform.services.templates.api,
-            exo-platform.services.templates.impl, groovy-all-1.0-jsr, janino,
-            log4j, soap, velocity, naming-core, naming-java
-          </excludeProjects>
-        </configuration>
-      </plugin>
-    </plugins>
-  </build>
-
-</project>
Index: applications/assembly/deploy-jonas.bat
===================================================================
--- applications/assembly/deploy-jonas.bat	(revision 65590)
+++ applications/assembly/deploy-jonas.bat	(working copy)
@@ -1,3 +1,3 @@
 call mvn clean exopc:deploy -Ddeploy=ear
-call mvn -f pom-jonas.xml  install antrun:run
+call mvn install antrun:run -Pjonas
 pause null
\ No newline at end of file
Index: applications/assembly/deploy-tomcat5-with_console.sh
===================================================================
--- applications/assembly/deploy-tomcat5-with_console.sh	(revision 65590)
+++ applications/assembly/deploy-tomcat5-with_console.sh	(working copy)
@@ -1,7 +1,7 @@
-rm -r -f ../../../../../../exo-working/exo-tomcat/
-mkdir ../../../../../../exo-working/exo-tomcat/
-cp -r ../../../../../../exo-dependencies/tomcat-5.5.17/* ../../../../../../exo-working/exo-tomcat/
-
-mvn -f pom-jcr-console.xml clean exopc:deploy -Ddeploy=tomcat
-
-read
+rm -r -f ../../../../../../exo-working/exo-tomcat/
+mkdir ../../../../../../exo-working/exo-tomcat/
+cp -r ../../../../../../exo-dependencies/tomcat-5.5.17/* ../../../../../../exo-working/exo-tomcat/
+
+mvn clean exopc:deploy -Ddeploy=tomcat -Pjcr-console
+
+read
Index: applications/assembly/deploy-jonas.sh
===================================================================
--- applications/assembly/deploy-jonas.sh	(revision 65590)
+++ applications/assembly/deploy-jonas.sh	(working copy)
@@ -1,3 +1,3 @@
 mvn clean exopc:deploy -Ddeploy=ear
-mvn -f pom-jonas.xml install antrun:run
-read
\ No newline at end of file
+mvn install antrun:run -Pjonas
+read
Index: applications/assembly/pom-jboss-ear.xml
===================================================================
--- applications/assembly/pom-jboss-ear.xml	(revision 65590)
+++ applications/assembly/pom-jboss-ear.xml	(working copy)
@@ -1,115 +0,0 @@
-<project>
-	<parent>
-		<groupId>org.exoplatform.portletcontainer</groupId>
-		<artifactId>config</artifactId>
-		<version>2.0.13-SNAPSHOT</version>
-	</parent>
-
-	<modelVersion>4.0.0</modelVersion>
-	<artifactId>assembly</artifactId>
-	<packaging>jar</packaging>
-	<name>eXo PC Product</name>
-	<url>http://www.exoplatform.org</url>
-	<description>eXo PC Product</description>
-
-	<build>
-		<plugins>
-			<plugin>
-				<artifactId>maven-assembly-plugin</artifactId>
-				<version>2.1</version>
-				<executions>
-					<execution>
-						<phase>install</phase>
-						<goals>
-							<goal>assembly</goal>
-						</goals>
-					</execution>
-				</executions>
-				<configuration>
-					<descriptors>
-						<descriptor>product-descriptor.xml</descriptor>
-					</descriptors>
-					<finalName>lib</finalName>
-				</configuration>
-			</plugin>
-			<plugin>
-				<artifactId>maven-antrun-plugin</artifactId>
-				<configuration>
-					<tasks>
-						<delete
-							dir="${exo.projects.directory.working}/exo-jboss"
-							includeEmptyDirs="true" quiet="yes" />
-						<copy
-							todir="${exo.projects.directory.working}/exo-jboss"
-							verbose="false" overwrite="true">
-							<fileset
-								dir="${exo.projects.directory.dependencies}/${exo.projects.app.jboss.version}" />
-						</copy>
-						<copy
-							todir="${exo.projects.directory.working}/exo-jboss/server/default/deploy/portlet-container.ear"
-							verbose="true" overwrite="true">
-							<fileset
-								dir="${basedir}/target/ear/"
-								excludes="**/*.war" />
-						</copy>
-						<copy
-							todir="${exo.projects.directory.working}/exo-jboss/server/default/deploy/portlet-container.ear"
-							verbose="true" flatten="true" overwrite="true">
-							<fileset
-								dir="${basedir}/target/ear/"
-								casesensitive="yes">
-								<include name="**/*.war" />
-								<exclude name="portal.war" />
-							</fileset>
-						</copy>
-
-                                                <copy tofile="${exo.projects.directory.working}/exo-jboss/server/default/deploy/portlet-container.ear/01portal.war" 
-						      file="${basedir}/target/ear/portal.war" />
-
-
-						<touch file="${basedir}/patches/jboss/WEB-INF/classes/conf/exo-configuration.xml"/>
-
-<!-- PATCH EAR -->					    						
-						<copy
-							todir="${exo.projects.directory.working}/exo-jboss"
-							verbose="true" overwrite="true">
-							<fileset
-								dir="${basedir}/patches/jboss-ear/jbosshome/"> 
-							</fileset>	
-						</copy>
-						
-						<war
-						     destfile="${exo.projects.directory.working}/exo-jboss/server/default/deploy/portlet-container.ear/01portal.war" update="true">
-             	                                                      <webinf dir="${basedir}/patches/jboss/WEB-INF/">
-						     </webinf>
-						</war>
-
-<!-- PATCH SERVER -->
-						<copy
-							todir="${exo.projects.directory.working}/exo-jboss"
-							verbose="true" overwrite="true">
-							<fileset
-								dir="${basedir}/patches/jboss/jbosshome/"> 
-							</fileset>	
-						</copy>
-
-<!-- EXOMAN due to removed jboss-app.xml
-					             <delete
-						           file="${exo.projects.directory.working}/exo-jboss/server/default/deploy/portlet-container.ear/jtidy-4aug2000r7-dev.jar" />
--->
-
-<!--
-						<delete
-							file="${exo.projects.directory.working}/exo-jboss/server/default/lib/hsqldb.jar" />
--->
-<!--					             <delete
-						           file="${exo.projects.directory.working}/exo-jboss/server/default/deploy/portlet-container.ear/demos.war" />
--->
-
-					</tasks>
-				</configuration>
-			</plugin>
-		</plugins>
-	</build>
-
-</project>
Index: applications/tck-tests/pom.xml
===================================================================
--- applications/tck-tests/pom.xml	(revision 65590)
+++ applications/tck-tests/pom.xml	(working copy)
@@ -186,38 +186,38 @@
     <dependency>
       <groupId>org.exoplatform.portletcontainer</groupId>
       <artifactId>exo.pc.component.core</artifactId>
-      <version>2.0.13-SNAPSHOT</version>
+      <version>${project.version}</version>
     </dependency>
     <dependency>
       <groupId>org.exoplatform.portletcontainer</groupId>
       <artifactId>exo.pc.applications.portal</artifactId>
-      <version>2.0.13-SNAPSHOT</version>
+      <version>${project.version}</version>
       <type>exopc-war</type>
     </dependency>
     <dependency>
       <groupId>org.exoplatform.portletcontainer</groupId>
       <artifactId>exo.pc.component.plugins.pc</artifactId>
-      <version>2.0.13-SNAPSHOT</version>
+      <version>${project.version}</version>
     </dependency>
     <dependency>
       <groupId>org.exoplatform.portletcontainer</groupId>
       <artifactId>exo.pc.component.plugins.wsrp1</artifactId>
-      <version>2.0.13-SNAPSHOT</version>
+      <version>${project.version}</version>
     </dependency>
     <dependency>
       <groupId>org.exoplatform.portletcontainer</groupId>
       <artifactId>exo.pc.component.plugins.wsrp2</artifactId>
-      <version>2.0.13-SNAPSHOT</version>
+      <version>${project.version}</version>
     </dependency>
     <dependency>
       <groupId>org.exoplatform.portletcontainer</groupId>
       <artifactId>exo.pc.portal-framework</artifactId>
-      <version>2.0.13-SNAPSHOT</version>
+      <version>${project.version}</version>
     </dependency>
     <dependency>
       <groupId>org.exoplatform.portletcontainer</groupId>
       <artifactId>exo.pc.portlets2events</artifactId>
-      <version>2.0.13-SNAPSHOT</version>
+      <version>${project.version}</version>
     </dependency>
     <dependency>
       <groupId>org.exoplatform.tool</groupId>
Index: applications/jsf/myfaces/pom.xml
===================================================================
--- applications/jsf/myfaces/pom.xml	(revision 65590)
+++ applications/jsf/myfaces/pom.xml	(working copy)
@@ -85,7 +85,7 @@
     <dependency>
       <groupId>org.exoplatform.portletcontainer</groupId>
       <artifactId>exo.pc.util-jsf</artifactId>
-      <version>2.0.13-SNAPSHOT</version>
+      <version>${project.version}</version>
       <scope>compile</scope>
     </dependency>
   </dependencies>
Index: applications/portlets2events/pom.xml
===================================================================
--- applications/portlets2events/pom.xml	(revision 65590)
+++ applications/portlets2events/pom.xml	(working copy)
@@ -31,13 +31,13 @@
     <dependency>
       <groupId>org.exoplatform.portletcontainer</groupId>
       <artifactId>exo.pc.component.core</artifactId>
-      <version>2.0.13-SNAPSHOT</version>
+      <version>${project.version}</version>
       <scope>compile</scope>
     </dependency>
     <dependency>
       <groupId>org.exoplatform.portletcontainer</groupId>
       <artifactId>exo.pc.component.plugins.pc</artifactId>
-      <version>2.0.13-SNAPSHOT</version>
+      <version>${project.version}</version>
       <scope>compile</scope>
     </dependency>
     <dependency>
Index: applications/lightportal/pom.xml
===================================================================
--- applications/lightportal/pom.xml	(revision 65590)
+++ applications/lightportal/pom.xml	(working copy)
@@ -34,13 +34,13 @@
     <dependency>
       <groupId>org.exoplatform.portletcontainer</groupId>
       <artifactId>exo.pc.component.plugins.pc</artifactId>
-      <version>2.0.13-SNAPSHOT</version>
+      <version>${project.version}</version>
       <scope>compile</scope>
     </dependency>
     <dependency>
       <groupId>org.exoplatform.portletcontainer</groupId>
       <artifactId>exo.pc.portal-framework</artifactId>
-      <version>2.0.13-SNAPSHOT</version>
+      <version>${project.version}</version>
       <scope>compile</scope>
     </dependency>
     <dependency>
Index: applications/test-wsrp1/pom.xml
===================================================================
--- applications/test-wsrp1/pom.xml	(revision 65590)
+++ applications/test-wsrp1/pom.xml	(working copy)
@@ -31,19 +31,19 @@
     <dependency>
       <groupId>org.exoplatform.portletcontainer</groupId>
       <artifactId>exo.pc.component.core</artifactId>
-      <version>2.0.13-SNAPSHOT</version>
+      <version>${project.version}</version>
       <scope>compile</scope>
     </dependency>
     <dependency>
       <groupId>org.exoplatform.portletcontainer</groupId>
       <artifactId>exo.pc.component.plugins.pc</artifactId>
-      <version>2.0.13-SNAPSHOT</version>
+      <version>${project.version}</version>
       <scope>compile</scope>
     </dependency>
     <dependency>
       <groupId>org.exoplatform.portletcontainer</groupId>
       <artifactId>exo.pc.component.plugins.wsrp1</artifactId>
-      <version>2.0.13-SNAPSHOT</version>
+      <version>${project.version}</version>
       <scope>compile</scope>
     </dependency>
     <dependency>
@@ -59,9 +59,10 @@
       <scope>compile</scope>
     </dependency>
   </dependencies>
-  <build>
-    <finalName>hello</finalName>
-    <plugins>
+  
+<!--  <build>-->
+<!--    <finalName>hello</finalName>-->
+<!--    <plugins>-->
       <!-- plugin>
         <groupId>org.exoplatform.maven.plugins</groupId>
         <artifactId>maven-exopc-plugin</artifactId>
@@ -84,41 +85,100 @@
           <includeToWarClasspath/>
         </configuration>
       </plugin -->
-      <plugin>
-        <groupId>org.apache.maven.plugins</groupId>
-        <artifactId>maven-war-plugin</artifactId>
-        <version>2.0.2</version>
-        <configuration>
-          <warSourceExcludes>WEB-INF/lib/*.jar</warSourceExcludes>
-          <archive>
-            <manifest>
-              <addClasspath>true</addClasspath>
-            </manifest>
-          </archive>
-          <webResources>
-            <!-- package external properties -->
-            <resource>
-              <directory>../../component/plugins/wsrp1/war_template/src</directory>
-              <targetPath>WEB-INF/classes</targetPath>
-              <includes>
-                <include>org/exoplatform/services/portletcontainer/test/portlet/*.properties</include>
-              </includes>
-              <excludes>
-                <exclude>*.java</exclude>
-              </excludes>
-            </resource>
-            <!-- package external WEB-INF -->
-            <resource>
-              <directory>../../component/plugins/wsrp1/war_template</directory>
-              <excludes>
-                <exclude>src/</exclude>
-              </excludes>
-            </resource>
-          </webResources>
-        </configuration>
-      </plugin>
-    </plugins>
     <!-- ################## OUTSIDE THE COMPONENT ################### -->
-    <sourceDirectory>../../component/plugins/wsrp1/war_template/src</sourceDirectory>
-  </build>
+<!--    <sourceDirectory>../component/plugins/wsrp1/war_template/src</sourceDirectory>-->
+<!--  </build>-->
+  
+  <profiles>
+    <profile>
+      <id>default</id>
+      <activation>
+        <activeByDefault>true</activeByDefault>
+      </activation>
+      <build>
+        <finalName>hello</finalName>
+        <plugins>
+          <plugin>
+            <groupId>org.apache.maven.plugins</groupId>
+            <artifactId>maven-war-plugin</artifactId>
+            <version>2.0.2</version>
+            <configuration>
+              <warSourceExcludes>WEB-INF/lib/*.jar</warSourceExcludes>
+              <archive>
+                <manifest>
+                  <addClasspath>true</addClasspath>
+                </manifest>
+              </archive>
+              <webResources>
+                <!-- package external properties -->
+                <resource>
+                  <directory>component/plugins/wsrp1/war_template/src</directory>
+                  <targetPath>WEB-INF/classes</targetPath>
+                  <includes>
+                    <include>org/exoplatform/services/portletcontainer/test/portlet/*.properties</include>
+                  </includes>
+                  <excludes>
+                    <exclude>*.java</exclude>
+                  </excludes>
+                </resource>
+                <!-- package external WEB-INF -->
+                <resource>
+                  <directory>component/plugins/wsrp1/war_template</directory>
+                  <excludes>
+                    <exclude>src/</exclude>
+                  </excludes>
+                </resource>
+              </webResources>
+            </configuration>
+          </plugin>
+        </plugins>
+      </build>
+    </profile>
+    <profile>
+      <id>deploy</id>
+      <activation>
+        <activeByDefault>false</activeByDefault>
+      </activation>
+      <build>
+        <finalName>hello</finalName>
+        <plugins>
+          <plugin>
+            <groupId>org.apache.maven.plugins</groupId>
+            <artifactId>maven-war-plugin</artifactId>
+            <version>2.0.2</version>
+            <configuration>
+              <warSourceExcludes>WEB-INF/lib/*.jar</warSourceExcludes>
+              <archive>
+                <manifest>
+                  <addClasspath>true</addClasspath>
+                </manifest>
+              </archive>
+              <webResources>
+                <!-- package external properties -->
+                <resource>
+                  <directory>../../component/plugins/wsrp1/war_template/src</directory>
+                  <targetPath>WEB-INF/classes</targetPath>
+                  <includes>
+                    <include>org/exoplatform/services/portletcontainer/test/portlet/*.properties</include>
+                  </includes>
+                  <excludes>
+                    <exclude>*.java</exclude>
+                  </excludes>
+                </resource>
+                <!-- package external WEB-INF -->
+                <resource>
+                  <directory>../../component/plugins/wsrp1/war_template</directory>
+                  <excludes>
+                    <exclude>src/</exclude>
+                  </excludes>
+                </resource>
+              </webResources>
+            </configuration>
+          </plugin>
+        </plugins>
+      </build>
+      
+    </profile>
+  </profiles>
+  
 </project>
Index: applications/pom.xml
===================================================================
--- applications/pom.xml	(revision 65590)
+++ applications/pom.xml	(working copy)
@@ -28,6 +28,10 @@
   <packaging>pom</packaging>
   <name>eXo PC Applications</name>
   <modules>
+    <module>assembly</module>
+    <module>lightportal</module>
+    <module>test-wsrp1</module>
+    <module>test-wsrp2</module>
     <module>portal-framework</module>
     <module>test-portal</module>
     <module>portlets</module>
Index: applications/test-wsrp2/pom.xml
===================================================================
--- applications/test-wsrp2/pom.xml	(revision 65590)
+++ applications/test-wsrp2/pom.xml	(working copy)
@@ -31,19 +31,19 @@
     <dependency>
       <groupId>org.exoplatform.portletcontainer</groupId>
       <artifactId>exo.pc.component.core</artifactId>
-      <version>2.0.13-SNAPSHOT</version>
+      <version>${project.version}</version>
       <scope>compile</scope>
     </dependency>
     <dependency>
       <groupId>org.exoplatform.portletcontainer</groupId>
       <artifactId>exo.pc.component.plugins.pc</artifactId>
-      <version>2.0.13-SNAPSHOT</version>
+      <version>${project.version}</version>
       <scope>compile</scope>
     </dependency>
     <dependency>
       <groupId>org.exoplatform.portletcontainer</groupId>
       <artifactId>exo.pc.component.plugins.wsrp2</artifactId>
-      <version>2.0.13-SNAPSHOT</version>
+      <version>${project.version}</version>
       <scope>compile</scope>
     </dependency>
     <dependency>
@@ -59,65 +59,123 @@
       <scope>compile</scope>
     </dependency>
   </dependencies>
-  <build>
-    <finalName>hello</finalName>
-    <plugins>
-      <!-- plugin>
-        <groupId>org.exoplatform.maven.plugins</groupId>
-        <artifactId>maven-exopc-plugin</artifactId>
-        <extensions>true</extensions>
-        <configuration>
-          <sharedDir>${basedir}/patches</sharedDir>
-          <excludeProjects>
-            junit, jmock, bcel, ehcache, xercesImpl, msv, servlet-api, jibx-bind, isorelax,
-            relaxngDatatype, velocity-dep, saxpath, exo-platform.test.framework, xerces,
-            xmldb-api, castor, drools-smftest, jsp-api, xml-apis, xml-resolver, jaxen,
-            xjavadoc, xdoclet-hibernate-module, xdoclet-xdoclet-module, xdoclet,
-            commons-logging, saaj-api, exo-weblogic-authproviders, exo-weblogic-loginmodule,
-            carol, commons-fileupload, commons-io, drools-base, drools-core, drools-java,
-            drools-smf, exo-platform.services.backup.api, exo-platform.services.ldap.api,
-            exo-platform.services.ldap.impl, exo-platform.services.remote.api,
-            exo-platform.services.remote.impl, exo-platform.services.templates.api,
-            exo-platform.services.templates.impl, groovy-all-1.0-jsr, howl-logger, janino,
-            jgroups-all, jotm, jotm_jrmp_stubs, jstl, log4j, soap, velocity, commons-beanutils
-          </excludeProjects>
-          <includeToWarClasspath/>
-        </configuration>
-      </plugin -->
-      <plugin>
-        <groupId>org.apache.maven.plugins</groupId>
-        <artifactId>maven-war-plugin</artifactId>
-        <version>2.0.2</version>
-        <configuration>
-          <warSourceExcludes>WEB-INF/lib/*.jar</warSourceExcludes>
-          <archive>
-            <manifest>
-              <addClasspath>true</addClasspath>
-            </manifest>
-          </archive>
-          <webResources>
-            <!-- package external properties -->
-            <resource>
-              <directory>${exo.projects.directory.src}/portlet-container/branches/2.0.x/component/plugins/wsrp2/war_template/src</directory>
-              <targetPath>WEB-INF/classes</targetPath>
-              <includes>
-                <include>org/exoplatform/services/portletcontainer/test/portlet/*.properties</include>
-              </includes>
-              <excludes>
-                <exclude>*.java</exclude>
-              </excludes>
-            </resource>
-            <!-- package external WEB-INF -->
-            <resource>
-              <directory>${exo.projects.directory.src}/portlet-container/branches/2.0.x/component/plugins/wsrp2/war_template</directory>
-              <excludes>
-                <exclude>src/</exclude>
-              </excludes>
-            </resource>
-          </webResources>
-        </configuration>
-      </plugin>
-    </plugins>
-    <sourceDirectory>${exo.projects.directory.src}/portlet-container/branches/2.0.x/component/plugins/wsrp2/war_template/src</sourceDirectory>
-  </build>
+  
+  
+  <profiles>
+    <profile>
+      <id>default</id>
+      <activation>
+        <activeByDefault>true</activeByDefault>
+      </activation>
+      
+      <build>
+        <finalName>hello</finalName>
+        <plugins>
+          <!-- plugin>
+            <groupId>org.exoplatform.maven.plugins</groupId>
+            <artifactId>maven-exopc-plugin</artifactId>
+            <extensions>true</extensions>
+            <configuration>
+              <sharedDir>${basedir}/patches</sharedDir>
+              <excludeProjects>
+                junit, jmock, bcel, ehcache, xercesImpl, msv, servlet-api, jibx-bind, isorelax,
+                relaxngDatatype, velocity-dep, saxpath, exo-platform.test.framework, xerces,
+                xmldb-api, castor, drools-smftest, jsp-api, xml-apis, xml-resolver, jaxen,
+                xjavadoc, xdoclet-hibernate-module, xdoclet-xdoclet-module, xdoclet,
+                commons-logging, saaj-api, exo-weblogic-authproviders, exo-weblogic-loginmodule,
+                carol, commons-fileupload, commons-io, drools-base, drools-core, drools-java,
+                drools-smf, exo-platform.services.backup.api, exo-platform.services.ldap.api,
+                exo-platform.services.ldap.impl, exo-platform.services.remote.api,
+                exo-platform.services.remote.impl, exo-platform.services.templates.api,
+                exo-platform.services.templates.impl, groovy-all-1.0-jsr, howl-logger, janino,
+                jgroups-all, jotm, jotm_jrmp_stubs, jstl, log4j, soap, velocity, commons-beanutils
+              </excludeProjects>
+              <includeToWarClasspath/>
+            </configuration>
+          </plugin -->
+          <plugin>
+            <groupId>org.apache.maven.plugins</groupId>
+            <artifactId>maven-war-plugin</artifactId>
+            <version>2.0.2</version>
+            <configuration>
+              <warSourceExcludes>WEB-INF/lib/*.jar</warSourceExcludes>
+              <archive>
+                <manifest>
+                  <addClasspath>true</addClasspath>
+                </manifest>
+              </archive>
+              <webResources>
+                <!-- package external properties -->
+                <resource>
+                  <directory>component/plugins/wsrp2/war_template/src</directory>
+                  <targetPath>WEB-INF/classes</targetPath>
+                  <includes>
+                    <include>org/exoplatform/services/portletcontainer/test/portlet/*.properties</include>
+                  </includes>
+                  <excludes>
+                    <exclude>*.java</exclude>
+                  </excludes>
+                </resource>
+                <!-- package external WEB-INF -->
+                <resource>
+                  <directory>component/plugins/wsrp2/war_template</directory>
+                  <excludes>
+                    <exclude>src/</exclude>
+                  </excludes>
+                </resource>
+              </webResources>
+            </configuration>
+          </plugin>
+        </plugins>
+      </build>
+      
+    </profile>
+    
+    <profile>
+      <id>deploy</id>
+      <activation>
+        <activeByDefault>false</activeByDefault>
+      </activation>
+      
+            <build>
+        <finalName>hello</finalName>
+        <plugins>
+          <plugin>
+            <groupId>org.apache.maven.plugins</groupId>
+            <artifactId>maven-war-plugin</artifactId>
+            <version>2.0.2</version>
+            <configuration>
+              <warSourceExcludes>WEB-INF/lib/*.jar</warSourceExcludes>
+              <archive>
+                <manifest>
+                  <addClasspath>true</addClasspath>
+                </manifest>
+              </archive>
+              <webResources>
+                <!-- package external properties -->
+                <resource>
+                  <directory>../../component/plugins/wsrp2/war_template/src</directory>
+                  <targetPath>WEB-INF/classes</targetPath>
+                  <includes>
+                    <include>org/exoplatform/services/portletcontainer/test/portlet/*.properties</include>
+                  </includes>
+                  <excludes>
+                    <exclude>*.java</exclude>
+                  </excludes>
+                </resource>
+                <!-- package external WEB-INF -->
+                <resource>
+                  <directory>../../component/plugins/wsrp2/war_template</directory>
+                  <excludes>
+                    <exclude>src/</exclude>
+                  </excludes>
+                </resource>
+              </webResources>
+            </configuration>
+          </plugin>
+        </plugins>
+      </build>
+      
+    </profile>
+  </profiles>
 </project>
Index: applications/wsrp/jetty.sh
===================================================================
--- applications/wsrp/jetty.sh	(revision 0)
+++ applications/wsrp/jetty.sh	(revision 65565)
@@ -0,0 +1,3 @@
+# simple script to run maven install with jetty profile
+
+mvn clean install -Pjetty

Property changes on: applications/wsrp/jetty.sh
___________________________________________________________________
Added: svn:executable
   + *
Added: svn:eol-style
   + native

Index: applications/wsrp/pom-jetty.xml
===================================================================
--- applications/wsrp/pom-jetty.xml	(revision 65590)
+++ applications/wsrp/pom-jetty.xml	(working copy)
@@ -1,100 +0,0 @@
-<project>
-  <parent>
-    <groupId>org.exoplatform.portletcontainer</groupId>
-    <artifactId>config</artifactId>
-    <version>2.0.13-SNAPSHOT</version>
-  </parent>
-  <modelVersion>4.0.0</modelVersion>
-  <artifactId>wsrp</artifactId>
-  <packaging>exopc-war</packaging>
-  <name>eXo Portlet Container 2 WSRP Service</name>
-
-  <dependencies>
-
-    <dependency>
-      <groupId>org.exoplatform.portletcontainer</groupId>
-      <artifactId>exo.pc.component.core</artifactId>
-      <version>${org.exoplatform.pc.version}</version>
-      <scope>compile</scope>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.portletcontainer</groupId>
-      <artifactId>exo.pc.component.plugins.pc</artifactId>
-      <version>${org.exoplatform.pc.version}</version>
-      <scope>compile</scope>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.portletcontainer</groupId>
-      <artifactId>exo.pc.component.plugins.wsrp1</artifactId>
-      <version>${org.exoplatform.pc.version}</version>
-      <scope>compile</scope>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.portletcontainer</groupId>
-      <artifactId>exo.pc.component.plugins.wsrp2</artifactId>
-      <version>${org.exoplatform.pc.version}</version>
-      <scope>compile</scope>
-    </dependency>
-    
-    <dependency>
-      <groupId>javax.portlet</groupId>
-      <artifactId>portlet-api</artifactId>
-      <version>2.0</version>
-      <scope>compile</scope>
-    </dependency>
-
-    <dependency>
-      <groupId>javax.servlet</groupId>
-      <artifactId>servlet-api</artifactId>
-      <version>2.5</version>
-      <scope>compile</scope>
-    </dependency>
-    
-  </dependencies>
-
-  <build>
-    <finalName>wsrp</finalName>
-    <plugins>
-
-      <plugin>
-        <groupId>org.exoplatform.maven.plugins</groupId>
-        <artifactId>maven-exopc-plugin</artifactId>
-        <extensions>true</extensions>
-        <configuration>
-          <sharedDir>${basedir}/patches</sharedDir>
-          <excludeProjects>
-            junit, jmock, bcel, ehcache, xercesImpl, msv, servlet-api, jibx-bind, isorelax,
-            relaxngDatatype, velocity-dep, saxpath, exo-platform.test.framework, xerces,
-            xmldb-api, castor, drools-smftest, jsp-api, xml-apis, xml-resolver, jaxen,
-            xjavadoc, xdoclet-hibernate-module, xdoclet-xdoclet-module, xdoclet,
-            commons-logging, saaj-api, exo-weblogic-authproviders, exo-weblogic-loginmodule,
-            carol, commons-fileupload, commons-io, drools-base, drools-core, drools-java,
-            drools-smf, exo-platform.services.backup.api, exo-platform.services.ldap.api,
-            exo-platform.services.ldap.impl, exo-platform.services.remote.api,
-            exo-platform.services.remote.impl, exo-platform.services.templates.api,
-            exo-platform.services.templates.impl, groovy-all-1.0-jsr, howl-logger, janino,
-            jgroups-all, jotm, jotm_jrmp_stubs, jstl, log4j, soap, velocity, commons-beanutils
-          </excludeProjects>
-          <includeToWarClasspath/>
-        </configuration>
-      </plugin>
-
-      <plugin>
-        <groupId>org.mortbay.jetty</groupId>
-        <artifactId>maven-jetty-plugin</artifactId>
-        <!-- configuration>
-            <webApp>${basedir}/target/wsrp.war</webApp>
-        </configuration -->
-        <configuration>
-          <webAppSourceDirectory>${basedir}/src/main/java</webAppSourceDirectory>
-          <contextPath>/wsrp</contextPath>
-          <webXml>${basedir}/src/main/webapp/WEB-INF/web.xml</webXml>
-        </configuration>
-      </plugin>
-      
-    </plugins>
-  </build>
-</project>
Index: applications/wsrp/pom.xml
===================================================================
--- applications/wsrp/pom.xml	(revision 65590)
+++ applications/wsrp/pom.xml	(working copy)
@@ -31,25 +31,25 @@
     <dependency>
       <groupId>org.exoplatform.portletcontainer</groupId>
       <artifactId>exo.pc.component.core</artifactId>
-      <version>2.0.13-SNAPSHOT</version>
+      <version>${project.version}</version>
       <scope>compile</scope>
     </dependency>
     <dependency>
       <groupId>org.exoplatform.portletcontainer</groupId>
       <artifactId>exo.pc.component.plugins.pc</artifactId>
-      <version>2.0.13-SNAPSHOT</version>
+      <version>${project.version}</version>
       <scope>compile</scope>
     </dependency>
     <dependency>
       <groupId>org.exoplatform.portletcontainer</groupId>
       <artifactId>exo.pc.component.plugins.wsrp1</artifactId>
-      <version>2.0.13-SNAPSHOT</version>
+      <version>${project.version}</version>
       <scope>compile</scope>
     </dependency>
     <dependency>
       <groupId>org.exoplatform.portletcontainer</groupId>
       <artifactId>exo.pc.component.plugins.wsrp2</artifactId>
-      <version>2.0.13-SNAPSHOT</version>
+      <version>${project.version}</version>
       <scope>compile</scope>
     </dependency>
     <dependency>
@@ -80,6 +80,104 @@
       <version>${org.exoplatform.kernel.version}</version>
     </dependency>
   </dependencies>
+  
+  <profiles>
+    <profile>
+      <id>jetty</id>
+      <activation>
+        <activeByDefault>false</activeByDefault>
+      </activation>
+      
+      <dependencies>
+        <dependency>
+          <groupId>org.exoplatform.portletcontainer</groupId>
+          <artifactId>exo.pc.component.core</artifactId>
+          <version>${project.version}</version>
+          <scope>compile</scope>
+        </dependency>
+
+        <dependency>
+          <groupId>org.exoplatform.portletcontainer</groupId>
+          <artifactId>exo.pc.component.plugins.pc</artifactId>
+          <version>${project.version}</version>
+          <scope>compile</scope>
+        </dependency>
+
+        <dependency>
+          <groupId>org.exoplatform.portletcontainer</groupId>
+          <artifactId>exo.pc.component.plugins.wsrp1</artifactId>
+          <version>${project.version}</version>
+          <scope>compile</scope>
+        </dependency>
+
+        <dependency>
+          <groupId>org.exoplatform.portletcontainer</groupId>
+          <artifactId>exo.pc.component.plugins.wsrp2</artifactId>
+          <version>${project.version}</version>
+          <scope>compile</scope>
+        </dependency>
+        
+        <dependency>
+          <groupId>javax.portlet</groupId>
+          <artifactId>portlet-api</artifactId>
+          <version>2.0</version>
+          <scope>compile</scope>
+        </dependency>
+
+        <dependency>
+          <groupId>javax.servlet</groupId>
+          <artifactId>servlet-api</artifactId>
+          <version>2.5</version>
+          <scope>compile</scope>
+        </dependency>
+        
+      </dependencies>
+
+      <build>
+        <finalName>wsrp</finalName>
+        <plugins>
+
+          <plugin>
+            <groupId>org.exoplatform.maven.plugins</groupId>
+            <artifactId>maven-exopc-plugin</artifactId>
+            <extensions>true</extensions>
+            <configuration>
+              <sharedDir>${basedir}/patches</sharedDir>
+              <excludeProjects>
+                junit, jmock, bcel, ehcache, xercesImpl, msv, servlet-api, jibx-bind, isorelax,
+                relaxngDatatype, velocity-dep, saxpath, exo-platform.test.framework, xerces,
+                xmldb-api, castor, drools-smftest, jsp-api, xml-apis, xml-resolver, jaxen,
+                xjavadoc, xdoclet-hibernate-module, xdoclet-xdoclet-module, xdoclet,
+                commons-logging, saaj-api, exo-weblogic-authproviders, exo-weblogic-loginmodule,
+                carol, commons-fileupload, commons-io, drools-base, drools-core, drools-java,
+                drools-smf, exo-platform.services.backup.api, exo-platform.services.ldap.api,
+                exo-platform.services.ldap.impl, exo-platform.services.remote.api,
+                exo-platform.services.remote.impl, exo-platform.services.templates.api,
+                exo-platform.services.templates.impl, groovy-all-1.0-jsr, howl-logger, janino,
+                jgroups-all, jotm, jotm_jrmp_stubs, jstl, log4j, soap, velocity, commons-beanutils
+              </excludeProjects>
+              <includeToWarClasspath/>
+            </configuration>
+          </plugin>
+
+          <plugin>
+            <groupId>org.mortbay.jetty</groupId>
+            <artifactId>maven-jetty-plugin</artifactId>
+            <!-- configuration>
+                <webApp>${basedir}/target/wsrp.war</webApp>
+            </configuration -->
+            <configuration>
+              <webAppSourceDirectory>${basedir}/src/main/java</webAppSourceDirectory>
+              <contextPath>/wsrp</contextPath>
+              <webXml>${basedir}/src/main/webapp/WEB-INF/web.xml</webXml>
+            </configuration>
+          </plugin>
+          
+        </plugins>
+      </build>
+    </profile>
+  </profiles>
+  
   <build>
     <finalName>wsrp</finalName>
     <plugins>
Index: applications/portal-framework/pom.xml
===================================================================
--- applications/portal-framework/pom.xml	(revision 65590)
+++ applications/portal-framework/pom.xml	(working copy)
@@ -31,13 +31,13 @@
     <dependency>
       <groupId>org.exoplatform.portletcontainer</groupId>
       <artifactId>exo.pc.component.core</artifactId>
-      <version>2.0.13-SNAPSHOT</version>
+      <version>${project.version}</version>
       <scope>compile</scope>
     </dependency>
     <dependency>
       <groupId>org.exoplatform.portletcontainer</groupId>
       <artifactId>exo.pc.component.plugins.pc</artifactId>
-      <version>2.0.13-SNAPSHOT</version>
+      <version>${project.version}</version>
       <scope>compile</scope>
     </dependency>
     <dependency>
Index: applications/portlets2/pom.xml
===================================================================
--- applications/portlets2/pom.xml	(revision 65590)
+++ applications/portlets2/pom.xml	(working copy)
@@ -31,19 +31,19 @@
     <dependency>
       <groupId>org.exoplatform.portletcontainer</groupId>
       <artifactId>exo.pc.component.core</artifactId>
-      <version>2.0.13-SNAPSHOT</version>
+      <version>${project.version}</version>
       <scope>compile</scope>
     </dependency>
     <dependency>
       <groupId>org.exoplatform.portletcontainer</groupId>
       <artifactId>exo.pc.component.plugins.pc</artifactId>
-      <version>2.0.13-SNAPSHOT</version>
+      <version>${project.version}</version>
       <scope>compile</scope>
     </dependency>
     <dependency>
       <groupId>org.exoplatform.portletcontainer</groupId>
       <artifactId>exo.pc.portlets2events</artifactId>
-      <version>2.0.13-SNAPSHOT</version>
+      <version>${project.version}</version>
       <scope>compile</scope>
     </dependency>
     <dependency>
Index: applications/util-bridge/pom.xml
===================================================================
--- applications/util-bridge/pom.xml	(revision 65590)
+++ applications/util-bridge/pom.xml	(working copy)
@@ -32,13 +32,13 @@
     <dependency>
       <groupId>org.exoplatform.portletcontainer</groupId>
       <artifactId>exo.pc.component.core</artifactId>
-      <version>2.0.13-SNAPSHOT</version>
+      <version>${project.version}</version>
       <scope>compile</scope>
     </dependency>
     <dependency>
       <groupId>org.exoplatform.portletcontainer</groupId>
       <artifactId>exo.pc.component.plugins.pc</artifactId>
-      <version>2.0.13-SNAPSHOT</version>
+      <version>${project.version}</version>
       <scope>compile</scope>
     </dependency>
     <dependency>
Index: applications/demos/pom.xml
===================================================================
--- applications/demos/pom.xml	(revision 65590)
+++ applications/demos/pom.xml	(working copy)
@@ -31,13 +31,13 @@
     <dependency>
       <groupId>org.exoplatform.portletcontainer</groupId>
       <artifactId>exo.pc.component.core</artifactId>
-      <version>2.0.13-SNAPSHOT</version>
+      <version>${project.version}</version>
       <scope>compile</scope>
     </dependency>
     <dependency>
       <groupId>org.exoplatform.portletcontainer</groupId>
       <artifactId>exo.pc.component.plugins.pc</artifactId>
-      <version>2.0.13-SNAPSHOT</version>
+      <version>${project.version}</version>
       <scope>compile</scope>
     </dependency>
     <dependency>
@@ -55,7 +55,7 @@
     <dependency>
       <groupId>org.exoplatform.portletcontainer</groupId>
       <artifactId>exo.pc.portlets2events</artifactId>
-      <version>2.0.13-SNAPSHOT</version>
+      <version>${project.version}</version>
       <scope>compile</scope>
     </dependency>
     <dependency>
Index: applications/portlet-jaxb/pom.xml
===================================================================
--- applications/portlet-jaxb/pom.xml	(revision 65590)
+++ applications/portlet-jaxb/pom.xml	(working copy)
@@ -31,13 +31,13 @@
     <dependency>
       <groupId>org.exoplatform.portletcontainer</groupId>
       <artifactId>exo.pc.component.core</artifactId>
-      <version>2.0.13-SNAPSHOT</version>
+      <version>${project.version}</version>
       <scope>compile</scope>
     </dependency>
     <dependency>
       <groupId>org.exoplatform.portletcontainer</groupId>
       <artifactId>exo.pc.component.plugins.pc</artifactId>
-      <version>2.0.13-SNAPSHOT</version>
+      <version>${project.version}</version>
       <scope>compile</scope>
     </dependency>
     <dependency>
Index: applications/portlets/pom.xml
===================================================================
--- applications/portlets/pom.xml	(revision 65590)
+++ applications/portlets/pom.xml	(working copy)
@@ -31,19 +31,19 @@
     <dependency>
       <groupId>org.exoplatform.portletcontainer</groupId>
       <artifactId>exo.pc.component.core</artifactId>
-      <version>2.0.13-SNAPSHOT</version>
+      <version>${project.version}</version>
       <scope>compile</scope>
     </dependency>
     <dependency>
       <groupId>org.exoplatform.portletcontainer</groupId>
       <artifactId>exo.pc.component.plugins.pc</artifactId>
-      <version>2.0.13-SNAPSHOT</version>
+      <version>${project.version}</version>
       <scope>compile</scope>
     </dependency>
     <dependency>
       <groupId>org.exoplatform.portletcontainer</groupId>
       <artifactId>exo.pc.portal-framework</artifactId>
-      <version>2.0.13-SNAPSHOT</version>
+      <version>${project.version}</version>
       <scope>compile</scope>
     </dependency>
     <dependency>
Index: applications/test-portal/pom.xml
===================================================================
--- applications/test-portal/pom.xml	(revision 65590)
+++ applications/test-portal/pom.xml	(working copy)
@@ -31,13 +31,13 @@
     <dependency>
       <groupId>org.exoplatform.portletcontainer</groupId>
       <artifactId>exo.pc.component.plugins.pc</artifactId>
-      <version>2.0.13-SNAPSHOT</version>
+      <version>${project.version}</version>
       <scope>compile</scope>
     </dependency>
     <dependency>
       <groupId>org.exoplatform.portletcontainer</groupId>
       <artifactId>exo.pc.portal-framework</artifactId>
-      <version>2.0.13-SNAPSHOT</version>
+      <version>${project.version}</version>
       <scope>compile</scope>
     </dependency>
     <dependency>
Index: pom-full-reports.xml
===================================================================
--- pom-full-reports.xml	(revision 65590)
+++ pom-full-reports.xml	(working copy)
@@ -1,186 +0,0 @@
-<project>
-
-  <parent>
-    <groupId>org.exoplatform</groupId>
-    <artifactId>parent</artifactId>
-    <version>1.1.0</version>
-  </parent>
-
-  <modelVersion>4.0.0</modelVersion>
-  <groupId>org.exoplatform.portletcontainer</groupId>
-  <artifactId>config</artifactId>
-  <name>eXo Portlet Container</name>
-  <version>2.0.13-SNAPSHOT</version>
-  <packaging>pom</packaging>
-
-  <scm>
-    <connection>scm:svn:http://svn.exoplatform.org/projects/portlet-container/branches/2.0.x</connection>
-    <developerConnection>scm:svn:http://svn.exoplatform.org/projects/portlet-container/branches/2.0.x</developerConnection>
-    <url>http://fisheye.exoplatform.org/browse/projects/portlet-container/branches/2.0.x</url>
-  </scm>
-
-  <properties>
-    <exo.product.name>exo-pc</exo.product.name>
-    <exo.product.specification>2.0.x</exo.product.specification>
-    <org.exoplatform.pc.version>2.0.13-SNAPSHOT</org.exoplatform.pc.version>
-    <org.exoplatform.kernel.version>2.0.12</org.exoplatform.kernel.version>
-    <org.exoplatform.core.version>2.1.10</org.exoplatform.core.version>
-    <org.exoplatform.tool.version>trunk</org.exoplatform.tool.version>
-  </properties>
-
-  <modules>
-    <module>component/core</module>
-    <module>component/plugins/pc</module>
-    <module>component/plugins/wsrp1</module>
-    <module>component/plugins/wsrp2</module>
-    <module>applications</module>
-    <module>applications/tck-tests</module>
-  </modules>
-
-  <dependencies>
-    <dependency>
-      <groupId>emma</groupId>
-      <artifactId>emma</artifactId>
-      <version>2.0.5312</version>
-      <scope>test</scope>
-    </dependency>
-  </dependencies>
-
-  <build>
-
-    <plugins>
-
-      <plugin>
-        <groupId>org.apache.maven.plugins</groupId>
-        <artifactId>maven-compiler-plugin</artifactId>
-        <configuration>
-          <source>1.5</source>
-          <target>1.5</target>
-          <optimize>true</optimize>
-        </configuration>
-      </plugin>
-
-      <plugin>
-        <groupId>org.apache.maven.plugins</groupId>
-        <artifactId>maven-surefire-plugin</artifactId>
-        <configuration>
-          <skip>${exo.test.skip}</skip>
-          <useFile>${exo.test.use.file}</useFile>
-          <testFailureIgnore>${exo.test.failure.ignore}</testFailureIgnore>
-          <classesDirectory>${exo.test.classesdirectory}</classesDirectory>
-          <forkMode>${exo.test.forkMode}</forkMode>
-          <systemProperties>
-            <property>
-              <name>emma.coverage.out.file</name>
-              <value>target/emma/coverage.ec</value>
-            </property>
-          </systemProperties>
-        </configuration>
-      </plugin>
-
-      <plugin>
-        <artifactId>maven-antrun-plugin</artifactId>
-        <version>1.3</version>
-        <executions>
-          <execution>
-            <id>emma1</id>
-            <phase>test-compile</phase>
-            <configuration>
-              <tasks if="emma.run">
-                <echo message="[EMMA] Start classes instrumentation ..." />
-                <taskdef resource="emma_ant.properties" classpathref="maven.dependency.classpath" />
-                <mkdir dir="target" />
-                <mkdir dir="target/classes" />
-                <mkdir dir="target/emma/classes" />
-                <!-- Do nothing if the directory already exist-->
-                <copy todir="target/emma/classes" verbose="false" overwrite="true">
-                  <fileset dir="target/classes" />
-                </copy>
-                <emma enabled="true">
-                  <instr mode="overwrite" metadatafile="target/emma/metadata.em">
-                    <filter excludes="*.demo*" />
-                    <filter excludes="*.test*" />
-                    <filter excludes="*.portlet2*" />
-                    <instrpath>
-                      <dirset dir="target">
-                        <include name="emma/classes" />
-                      </dirset>
-                    </instrpath>
-                  </instr>
-                </emma>
-              </tasks>
-            </configuration>
-            <goals>
-              <goal>run</goal>
-            </goals>
-          </execution>
-          <execution>
-            <id>emma2</id>
-            <phase>test</phase>
-            <configuration>
-              <tasks if="emma.run">
-                <echo message="[EMMA] Start report generation..." />
-                <taskdef resource="emma_ant.properties" classpathref="maven.dependency.classpath" />
-                <emma enabled="true">
-                  <!-- merged file will be rewritted by last project -->
-                  <merge outfile="${exo.projects.directory.src}/portlet-container/branches/2.0.x/target/coverage.es">
-                    <fileset dir="${exo.projects.directory.src}/portlet-container/branches/2.0.x/">
-                      <include name="**/target/emma/*.e*" />
-                      <include name="**/target/emma/*.e*" />
-                    </fileset>
-                    <!-- just for the first launnch -->
-                    <fileset file="${exo.projects.directory.config}/coverage.es" />
-                  </merge>
-                  <report>
-                    <sourcepath>
-                      <dirset dir="${exo.projects.directory.src}/portlet-container/branches/2.0.x/">
-                        <include name="**/src/**/java" />
-                      </dirset>
-                    </sourcepath>
-                    <fileset dir="${exo.projects.directory.src}/portlet-container/branches/2.0.x/target/">
-                      <include name="*.es" />
-                    </fileset>
-                    <html outfile="${exo.projects.directory.src}/portlet-container/branches/2.0.x/target/coverage.html" />
-                    <xml outfile="${exo.projects.directory.src}/portlet-container/branches/2.0.x/target/coverage.xml" />
-                  </report>
-                </emma>
-              </tasks>
-            </configuration>
-            <goals>
-              <goal>run</goal>
-            </goals>
-          </execution>
-        </executions>
-        <dependencies>
-          <dependency>
-            <groupId>emma</groupId>
-            <artifactId>emma</artifactId>
-            <version>2.0.5312</version>
-            <scope>test</scope>
-          </dependency>
-          <dependency>
-            <groupId>emma</groupId>
-            <artifactId>emma_ant</artifactId>
-            <version>2.0.5312</version>
-            <scope>test</scope>
-          </dependency>
-        </dependencies>
-      </plugin>
-    </plugins>
-
-  </build>
-
-  <reporting>
-    <plugins>
-      <plugin>
-        <groupId>org.apache.maven.plugins</groupId>
-        <artifactId>maven-checkstyle-plugin</artifactId>
-        <configuration>
-          <configLocation>${exo.projects.directory.config}/exo-checkstyle-checker.xml</configLocation>
-          <suppressionsLocation>${exo.projects.directory.config}/exo-checkstyle-suppressions.xml</suppressionsLocation>
-        </configuration>
-      </plugin>
-    </plugins>
-  </reporting>
-
-</project>
Index: pom.xml
===================================================================
--- pom.xml	(revision 65590)
+++ pom.xml	(working copy)
@@ -22,7 +22,7 @@
   <parent>
     <groupId>org.exoplatform</groupId>
     <artifactId>exo.parent</artifactId>
-    <version>8.1</version>
+    <version>8</version>
   </parent>
   <groupId>org.exoplatform.portletcontainer</groupId>
   <artifactId>config</artifactId>
@@ -44,6 +44,9 @@
     <org.exoplatform.kernel.version>2.0.14-SNAPSHOT</org.exoplatform.kernel.version>
     <org.exoplatform.core.version>2.1.12-SNAPSHOT</org.exoplatform.core.version>
   </properties>
+  
+
+  
   <build>
     <pluginManagement>
       <plugins>
@@ -62,6 +65,165 @@
         <module>applications/tck-tests</module>
       </modules>
     </profile>
+    
+    <profile>
+      <id>full-reports</id>
+      <activation>
+        <activeByDefault>false</activeByDefault>
+      </activation>
+
+      <properties>
+        <exo.product.name>exo-pc</exo.product.name>
+        <org.exoplatform.tool.version>trunk</org.exoplatform.tool.version>
+      </properties>
+
+      <dependencies>
+        <dependency>
+          <groupId>emma</groupId>
+          <artifactId>emma</artifactId>
+          <version>2.0.5312</version>
+          <scope>test</scope>
+        </dependency>
+      </dependencies>
+
+      <build>
+
+        <plugins>
+
+          <plugin>
+            <groupId>org.apache.maven.plugins</groupId>
+            <artifactId>maven-compiler-plugin</artifactId>
+            <configuration>
+              <source>1.5</source>
+              <target>1.5</target>
+              <optimize>true</optimize>
+            </configuration>
+          </plugin>
+
+          <plugin>
+            <groupId>org.apache.maven.plugins</groupId>
+            <artifactId>maven-surefire-plugin</artifactId>
+            <configuration>
+              <skip>${exo.test.skip}</skip>
+              <useFile>${exo.test.use.file}</useFile>
+              <testFailureIgnore>${exo.test.failure.ignore}</testFailureIgnore>
+              <classesDirectory>${exo.test.classesdirectory}</classesDirectory>
+              <forkMode>${exo.test.forkMode}</forkMode>
+              <systemProperties>
+                <property>
+                  <name>emma.coverage.out.file</name>
+                  <value>target/emma/coverage.ec</value>
+                </property>
+              </systemProperties>
+            </configuration>
+          </plugin>
+
+          <plugin>
+            <artifactId>maven-antrun-plugin</artifactId>
+            <version>1.3</version>
+            <executions>
+              <execution>
+                <id>emma1</id>
+                <phase>test-compile</phase>
+                <configuration>
+                  <tasks if="emma.run">
+                    <echo message="[EMMA] Start classes instrumentation ..." />
+                    <taskdef resource="emma_ant.properties" classpathref="maven.dependency.classpath" />
+                    <mkdir dir="target" />
+                    <mkdir dir="target/classes" />
+                    <mkdir dir="target/emma/classes" />
+                    <!-- Do nothing if the directory already exist-->
+                    <copy todir="target/emma/classes" verbose="false" overwrite="true">
+                      <fileset dir="target/classes" />
+                    </copy>
+                    <emma enabled="true">
+                      <instr mode="overwrite" metadatafile="target/emma/metadata.em">
+                        <filter excludes="*.demo*" />
+                        <filter excludes="*.test*" />
+                        <filter excludes="*.portlet2*" />
+                        <instrpath>
+                          <dirset dir="target">
+                            <include name="emma/classes" />
+                          </dirset>
+                        </instrpath>
+                      </instr>
+                    </emma>
+                  </tasks>
+                </configuration>
+                <goals>
+                  <goal>run</goal>
+                </goals>
+              </execution>
+              <execution>
+                <id>emma2</id>
+                <phase>test</phase>
+                <configuration>
+                  <tasks if="emma.run">
+                    <echo message="[EMMA] Start report generation..." />
+                    <taskdef resource="emma_ant.properties" classpathref="maven.dependency.classpath" />
+                    <emma enabled="true">
+                      <!-- merged file will be rewritted by last project -->
+                      <merge outfile="${basedir}/target/coverage.es">
+                        <fileset dir="${basedir}">
+                          <include name="**/target/emma/*.e*" />
+                          <include name="**/target/emma/*.e*" />
+                        </fileset>
+                        <!-- just for the first launnch -->
+                        <fileset file="${exo.projects.directory.config}/coverage.es" />
+                      </merge>
+                      <report>
+                        <sourcepath>
+                          <dirset dir="${basedir}">
+                            <include name="**/src/**/java" />
+                          </dirset>
+                        </sourcepath>
+                        <fileset dir="${basedir}/target/">
+                          <include name="*.es" />
+                        </fileset>
+                        <html outfile="${basedir}/target/coverage.html" />
+                        <xml outfile="${basedir}/target/coverage.xml" />
+                      </report>
+                    </emma>
+                  </tasks>
+                </configuration>
+                <goals>
+                  <goal>run</goal>
+                </goals>
+              </execution>
+            </executions>
+            <dependencies>
+              <dependency>
+                <groupId>emma</groupId>
+                <artifactId>emma</artifactId>
+                <version>2.0.5312</version>
+                <scope>test</scope>
+              </dependency>
+              <dependency>
+                <groupId>emma</groupId>
+                <artifactId>emma_ant</artifactId>
+                <version>2.0.5312</version>
+                <scope>test</scope>
+              </dependency>
+            </dependencies>
+          </plugin>
+        </plugins>
+
+      </build>
+
+      <reporting>
+        <plugins>
+          <plugin>
+            <groupId>org.apache.maven.plugins</groupId>
+            <artifactId>maven-checkstyle-plugin</artifactId>
+            <configuration>
+              <configLocation>${exo.projects.directory.config}/exo-checkstyle-checker.xml</configLocation>
+              <suppressionsLocation>${exo.projects.directory.config}/exo-checkstyle-suppressions.xml</suppressionsLocation>
+            </configuration>
+          </plugin>
+        </plugins>
+      </reporting>
+  
+    </profile>
   </profiles>
   <modules>
     <module>component/core</module>
Index: howto-release.txt
===================================================================
--- howto-release.txt	(revision 65590)
+++ howto-release.txt	(working copy)
@@ -1,27 +1,5 @@
-How to release PC.
+How to release a PC.
 
-1. Tag's stuff
-
-1.1 Do a tag
-
-svn cp http://svn.exoplatform.org/svnroot/exoplatform/projects/portlet-container/branches/2.0.x http://svn.exoplatform.org/svnroot/exoplatform/projects/portlet-container/tags/2.0.10
-
-1.2 modify all version of PC there, where it is needed.
-
-For example, the linux command to do it (don't forget to check all done modifications before commit with the subversive command: svn di):
-grep -rl 2.0.9-SNAPSHOT . | grep -v '.svn' | xargs sed -i -e 's/2.0.9-SNAPSHOT/2.0.9/g'
-
-1.3 modify the branch path there.
-
-grep -rl portlet-container/branches/2.0.x . | grep -v '.svn' | grep -v '.txt' | xargs sed -i -e 's/portlet-container\/branches\/2.0.x/portlet-container\/tags\/2.0.9/g'
-
-Will be modified:
-pom.xml - scm elements
-pom-full-reports.xml - scm elements, emma execution
-
-2. Branch's stuff
-
-2.2 modify all version of PC there.
-
-For example, the linux command to do it (don't forget to check all done modifications before commit with the subversive command: svn di):
-grep -rl 2.0.9-SNAPSHOT . | grep -v '.svn' | xargs sed -i -e 's/2.0.9-SNAPSHOT/2.0.10-SNAPSHOT/g'
+You can use maven release plugin to release a tag. 
+Firstly, you need to remove any SNAPSHOT from kernel and core versions in project's pom.xml.
+Secondly, please don't forget to include -Ptck profile to add tck tests module to maven reactor (mvn release:prepare -Ptck)
\ No newline at end of file
Index: component/plugins/pc/pom.xml
===================================================================
--- component/plugins/pc/pom.xml	(revision 65590)
+++ component/plugins/pc/pom.xml	(working copy)
@@ -32,7 +32,7 @@
     <dependency>
       <groupId>org.exoplatform.portletcontainer</groupId>
       <artifactId>exo.pc.component.core</artifactId>
-      <version>2.0.13-SNAPSHOT</version>
+      <version>${project.version}</version>
       <scope>compile</scope>
     </dependency>
     <dependency>
Index: component/plugins/wsrp1/axis2.sh
===================================================================
--- component/plugins/wsrp1/axis2.sh	(revision 0)
+++ component/plugins/wsrp1/axis2.sh	(revision 65565)
@@ -0,0 +1 @@
+mvn clean install -Paxis2

Property changes on: component/plugins/wsrp1/axis2.sh
___________________________________________________________________
Added: svn:executable
   + *
Added: svn:eol-style
   + native

Index: component/plugins/wsrp1/nocargo.sh
===================================================================
--- component/plugins/wsrp1/nocargo.sh	(revision 0)
+++ component/plugins/wsrp1/nocargo.sh	(revision 65565)
@@ -0,0 +1 @@
+mvn clean install -Pnocargo

Property changes on: component/plugins/wsrp1/nocargo.sh
___________________________________________________________________
Added: svn:executable
   + *
Added: svn:eol-style
   + native

Index: component/plugins/wsrp1/cargo.sh
===================================================================
--- component/plugins/wsrp1/cargo.sh	(revision 0)
+++ component/plugins/wsrp1/cargo.sh	(revision 65565)
@@ -0,0 +1 @@
+mvn clean install -Pcargo

Property changes on: component/plugins/wsrp1/cargo.sh
___________________________________________________________________
Added: svn:executable
   + *
Added: svn:eol-style
   + native

Index: component/plugins/wsrp1/xfire-jaxb.sh
===================================================================
--- component/plugins/wsrp1/xfire-jaxb.sh	(revision 0)
+++ component/plugins/wsrp1/xfire-jaxb.sh	(revision 65565)
@@ -0,0 +1 @@
+mvn clean install -Pxfire-jaxb

Property changes on: component/plugins/wsrp1/xfire-jaxb.sh
___________________________________________________________________
Added: svn:executable
   + *
Added: svn:eol-style
   + native

Index: component/plugins/wsrp1/cxf.sh
===================================================================
--- component/plugins/wsrp1/cxf.sh	(revision 0)
+++ component/plugins/wsrp1/cxf.sh	(revision 65565)
@@ -0,0 +1 @@
+mvn clean install -Pcxf

Property changes on: component/plugins/wsrp1/cxf.sh
___________________________________________________________________
Added: svn:executable
   + *
Added: svn:eol-style
   + native

Index: component/plugins/wsrp1/readme.txt
===================================================================
--- component/plugins/wsrp1/readme.txt	(revision 0)
+++ component/plugins/wsrp1/readme.txt	(revision 65565)
@@ -0,0 +1,8 @@
+Please,
+  * use cargo.sh script to build old pom-cargo.xml
+  * use nocargo.sh script to build old pom-nocargo.xml
+  * use axis1.sh script to build old pom-axis1.xml
+  * use axis2.sh script to build old pom-axis2.xml
+  * use cxf.sh script to build old pom-cxf.xml
+  * use xfire-jaxb.sh script to build old pom-xfire-jaxb.xml
+  * use xfire-xmlbeans.sh script to build old pom-xfire-xmlbeans.xml

Property changes on: component/plugins/wsrp1/readme.txt
___________________________________________________________________
Added: svn:eol-style
   + native

Index: component/plugins/wsrp1/xfire-xmlbeans.sh
===================================================================
--- component/plugins/wsrp1/xfire-xmlbeans.sh	(revision 0)
+++ component/plugins/wsrp1/xfire-xmlbeans.sh	(revision 65565)
@@ -0,0 +1 @@
+mvn clean install -Pxfire-xmlbeans

Property changes on: component/plugins/wsrp1/xfire-xmlbeans.sh
___________________________________________________________________
Added: svn:executable
   + *
Added: svn:eol-style
   + native

Index: component/plugins/wsrp1/axis1.sh
===================================================================
--- component/plugins/wsrp1/axis1.sh	(revision 0)
+++ component/plugins/wsrp1/axis1.sh	(revision 65565)
@@ -0,0 +1 @@
+mvn clean install -Paxis1

Property changes on: component/plugins/wsrp1/axis1.sh
___________________________________________________________________
Added: svn:executable
   + *
Added: svn:eol-style
   + native

Index: component/plugins/wsrp1/pom_axis2_1.2.xml
===================================================================
--- component/plugins/wsrp1/pom_axis2_1.2.xml	(revision 65590)
+++ component/plugins/wsrp1/pom_axis2_1.2.xml	(working copy)
@@ -1,318 +0,0 @@
-<project>
-  <parent>
-    <groupId>org.exoplatform.portletcontainer</groupId>
-    <artifactId>config</artifactId>
-    <version>2.0</version>
-  </parent>
-  <modelVersion>4.0.0</modelVersion>
-  <artifactId>exo.pc.component.plugins.wsrp1</artifactId>
-  <packaging>jar</packaging>
-  <name>eXo Portlet Container 2 plugins.wsrp1</name>
-  <url>http://www.exoplatform.org</url>
-  <description>eXo Portlet Container 2 wsrp1 plugin</description>
-
-
-  <dependencies>
-
-    <dependency>
-      <groupId>org.exoplatform.kernel</groupId>
-      <artifactId>exo.kernel.commons</artifactId>
-      <version>${exo.platform.version}</version>
-      <scope>compile</scope>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.kernel</groupId>
-      <artifactId>exo.kernel.container</artifactId>
-      <version>${exo.platform.version}</version>
-      <scope>compile</scope>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.kernel</groupId>
-      <artifactId>exo.kernel.component.cache</artifactId>
-      <version>${exo.platform.version}</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.core</groupId>
-      <artifactId>exo.core.component.xml-processing</artifactId>
-      <version>${exo.platform.version}</version>
-      <scope>compile</scope>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.core</groupId>
-      <artifactId>exo.core.component.organization.api</artifactId>
-      <version>${exo.platform.version}</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.core</groupId>
-      <artifactId>exo.core.component.common</artifactId>
-      <version>${exo.platform.version}</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.core</groupId>
-      <artifactId>exo.core.component.database</artifactId>
-      <version>${exo.platform.version}</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.core</groupId>
-      <artifactId>exo.core.component.resources.api</artifactId>
-      <version>${exo.platform.version}</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.core</groupId>
-      <artifactId>exo.core.component.organization.jdbc</artifactId>
-      <version>${exo.platform.version}</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.portletcontainer</groupId>
-      <artifactId>exo.pc.component.core</artifactId>
-      <version>${exo.portlet-container.version}</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.portletcontainer</groupId>
-      <artifactId>exo.pc.component.plugins.pc</artifactId>
-      <version>${exo.portlet-container.version}</version>
-    </dependency>
-
-    <!-- ************************ soap ************************ -->
-
-    <dependency>
-      <groupId>org.apache.axis2</groupId>
-      <artifactId>axis2</artifactId>
-      <version>SNAPSHOT</version>
-    </dependency>
-    <dependency>
-      <groupId>org.apache.axis2</groupId>
-      <artifactId>axis2-codegen</artifactId>
-      <version>SNAPSHOT</version>
-    </dependency>
-    <dependency>
-      <groupId>org.apache.axis2</groupId>
-      <artifactId>axis2-kernel</artifactId>
-      <version>SNAPSHOT</version>
-    </dependency>
-    <dependency>
-      <groupId>org.apache.axis2.maven2</groupId>
-      <artifactId>axis2-wsdl2code-maven-plugin</artifactId>
-      <version>1.1</version>
-    </dependency>
-    <dependency>
-      <groupId>org.apache.axis2.maven2</groupId>
-      <artifactId>axis2-aar-maven-plugin</artifactId>
-      <version>1.1</version>
-    </dependency>
-    <dependency>
-      <groupId>org.apache.ws.commons.neethi</groupId>
-      <artifactId>neethi</artifactId>
-      <version>2.0</version>
-    </dependency>
-    <dependency>
-      <groupId>org.apache.ws.commons</groupId>
-      <artifactId>XmlSchema</artifactId>
-      <version>1.1</version>
-    </dependency>
-    <dependency>
-      <groupId>org.apache.ws.commons.axiom</groupId>
-      <artifactId>axiom</artifactId>
-      <version>1.2.4</version>
-    </dependency>
-
-
-  </dependencies>
-
-  <profiles>
-    <profile>
-      <id>wsrp1</id>
-      <activation>
-        <activeByDefault>true</activeByDefault>
-      </activation>
-      <properties>
-        <src.gen.dir>${basedir}/target/generated</src.gen.dir>
-      </properties>
-    </profile>
-  </profiles>
-
-  <properties>
-    <war.dir>${basedir}/war_template</war.dir>
-  </properties>
-
-
-  <build>
-
-    <resources>
-      <resource>
-        <directory>target/generated</directory>
-        <includes>
-          <include>**/*.wsdd</include>
-        </includes>
-      </resource>
-    </resources>
-
-    <plugins>
-
-      <!-- plugin>
-        <groupId>org.apache.axis2.maven2</groupId>
-        <artifactId>axis2-wsdl2code-maven-plugin</artifactId>
-        <configuration>
-        <packageName>org.exoplatform.services.wsrp.bind</packageName>
-        </configuration>
-        <executions>
-        <execution>
-        <goals>
-        <goal>wsdl2code</goal>
-        </goals>
-        </execution>
-        </executions>
-        </plugin -->
-
-      <!-- plugin>
-        <groupId>org.apache.axis2</groupId>
-        <artifactId>axis2-aar-maven-plugin</artifactId>
-        <version>1.2</version>
-        <extensions>true</extensions>
-        <configuration>
-        <servicesXmlFile>target/generated/resources/services.xml</servicesXmlFile>
-        <wsdlFile>wsdl/wsrp_service.wsdl</wsdlFile>
-        <includeDependencies>false</includeDependencies>
-        </configuration>
-        </plugin -->
-
-      <plugin>
-        <artifactId>maven-antrun-plugin</artifactId>
-        <executions>
-          <execution>
-            <id>0</id>
-            <phase>generate-sources</phase>
-            <configuration>
-              <tasks if="exo.proxy.host">
-                <echo>=== PROXY === ${exo.proxy.host}:${exo.proxy.port}</echo>
-                <mkdir dir="${src.gen.dir}" />
-                <java fork="yes" dir="wsdl" classname="org.apache.axis2.wsdl.WSDL2Java">
-                  <sysproperty key="proxySet" value="" />
-                  <sysproperty key="proxyHost" value="${exo.proxy.host}" />
-                  <sysproperty key="proxyPort" value="${exo.proxy.port}" />
-                  <arg
-                    line="-s -ss -sd -ssi -g -S -R -d none -t -o ${src.gen.dir} -ns2p urn:oasis:names:tc:wsrp:v1:intf=org.exoplatform.services.wsrp.intf,urn:oasis:names:tc:wsrp:v1:types=org.exoplatform.services.wsrp.type,urn:oasis:names:tc:wsrp:v1:bind=org.exoplatform.services.wsrp.bind,urn:oasis:names:tc:wsrp:v1:wsdl=org.exoplatform.services.wsrp.wsdl -p org.exoplatform.services.wsrp.wsdl -uri wsrp_service.wsdl" />
-                  <classpath refid="maven.dependency.classpath" />
-                </java>
-              </tasks>
-              <sourceRoot>${src.gen.dir}</sourceRoot>
-            </configuration>
-            <goals>
-              <goal>run</goal>
-            </goals>
-          </execution>
-          <execution>
-            <id>1</id>
-            <phase>generate-sources</phase>
-            <configuration>
-              <tasks if="${exo.proxy.host}">
-                <echo>=== NON-PROXY ===</echo>
-                <mkdir dir="${src.gen.dir}" />
-                <java fork="yes" dir="wsdl" classname="org.apache.axis2.wsdl.WSDL2Java">
-                  <arg
-                    line="-s -ss -sd -ssi -g -S -R -d none -t -o ${src.gen.dir} -ns2p urn:oasis:names:tc:wsrp:v1:intf=org.exoplatform.services.wsrp.intf,urn:oasis:names:tc:wsrp:v1:types=org.exoplatform.services.wsrp.type,urn:oasis:names:tc:wsrp:v1:bind=org.exoplatform.services.wsrp.bind,urn:oasis:names:tc:wsrp:v1:wsdl=org.exoplatform.services.wsrp.wsdl -p org.exoplatform.services.wsrp.wsdl -uri wsrp_service.wsdl" />
-                  <classpath refid="maven.dependency.classpath" />
-                </java>
-              </tasks>
-              <sourceRoot>${src.gen.dir}</sourceRoot>
-            </configuration>
-            <goals>
-              <goal>run</goal>
-            </goals>
-          </execution>
-          <execution>
-            <id>2</id>
-            <phase>compile</phase>
-            <configuration>
-              <tasks>
-                <taskdef name="hibernatedoclet" classname="xdoclet.modules.hibernate.HibernateDocletTask" classpathref="maven.compile.classpath" />
-                <hibernatedoclet destdir="${basedir}/target/classes" excludedtags="@version,@author,@todo" mergedir="target/classes" force="true"
-                  verbose="false">
-                  <fileset dir="${basedir}/src/main/java">
-                    <include name="**/*.java" />
-                  </fileset>
-                  <hibernate version="3.0" />
-                </hibernatedoclet>
-              </tasks>
-            </configuration>
-            <goals>
-              <goal>run</goal>
-            </goals>
-          </execution>
-          <execution>
-            <id>3</id>
-            <phase>generate-test-sources</phase>
-            <configuration>
-              <tasks>
-                <mkdir dir="${basedir}/target/test-classes/" />
-                <copy todir="${basedir}/target/test-classes/">
-                  <fileset dir="${basedir}/war_template/src">
-                    <include name="**/*.properties" />
-                    <include name="**/*.xml" />
-                  </fileset>
-                </copy>
-                <javac fork="true" srcdir="${basedir}/war_template/src" destdir="${basedir}/target/test-classes/" debug="${maven.compile.debug}"
-                  deprecation="${maven.compile.deprecation}" optimize="${maven.compile.optimize}">
-                  <classpath>
-                    <path refid="maven.dependency.classpath" />
-                    <pathelement path="${maven.build.dest}" />
-                  </classpath>
-                </javac>
-              </tasks>
-            </configuration>
-            <goals>
-              <goal>run</goal>
-            </goals>
-          </execution>
-        </executions>
-      </plugin>
-
-      <plugin>
-        <groupId>org.apache.maven.plugins</groupId>
-        <artifactId>maven-surefire-plugin</artifactId>
-        <configuration>
-          <systemProperties>
-            <property>
-              <name>testPath</name>
-              <value>${basedir}</value>
-            </property>
-            <property>
-              <name>mock.portal.dir</name>
-              <value>${war.dir}</value>
-            </property>
-            <property>
-              <name>maven.exoplatform.dir</name>
-              <value>${war.dir}</value>
-            </property>
-          </systemProperties>
-          <includes>
-            <include>**/Test*.java</include>
-          </includes>
-          <skip>true</skip>
-        </configuration>
-      </plugin>
-
-      <plugin>
-        <groupId>org.apache.maven.plugins</groupId>
-        <artifactId>maven-compiler-plugin</artifactId>
-        <configuration>
-          <source>1.5</source>
-          <target>1.5</target>
-        </configuration>
-      </plugin>
-
-    </plugins>
-
-  </build>
-
-</project>
\ No newline at end of file
Index: component/plugins/wsrp1/pom_xfire_xmlbeans.xml
===================================================================
--- component/plugins/wsrp1/pom_xfire_xmlbeans.xml	(revision 65590)
+++ component/plugins/wsrp1/pom_xfire_xmlbeans.xml	(working copy)
@@ -1,345 +0,0 @@
-<project>
-  <parent>
-    <groupId>org.exoplatform.portletcontainer</groupId>
-    <artifactId>config</artifactId>
-    <version>2.0</version>
-  </parent>
-  <modelVersion>4.0.0</modelVersion>
-  <artifactId>exo.pc.component.plugins.wsrp1</artifactId>
-  <packaging>jar</packaging>
-  <name>eXo Portlet Container 2 plugins.wsrp1</name>
-  <url>http://www.exoplatform.org</url>
-  <description>eXo Portlet Container 2 wsrp1 plugin</description>
-
-  <repositories>
-    <repository>
-      <id>codehaus</id>
-      <name>Codehaus maven repository</name>
-      <url>http://dist.codehaus.org/</url>
-      <layout>legacy</layout>
-    </repository>
-    <repository>
-      <id>apache-snapshots</id>
-      <name>Snapshot repository</name>
-      <url>http://people.apache.org/maven-snapshot-repository/</url>
-    </repository>
-  </repositories>
-  <pluginRepositories>
-    <pluginRepository>
-      <id>snapshot</id>
-      <name>Snapshot repository</name>
-      <url>http://snapshots.maven.codehaus.org/maven2/</url>
-    </pluginRepository>
-  </pluginRepositories>
-
-  <dependencies>
-
-    <dependency>
-      <groupId>org.exoplatform.kernel</groupId>
-      <artifactId>exo.kernel.commons</artifactId>
-      <version>${exo.platform.version}</version>
-      <scope>compile</scope>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.kernel</groupId>
-      <artifactId>exo.kernel.container</artifactId>
-      <version>${exo.platform.version}</version>
-      <scope>compile</scope>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.kernel</groupId>
-      <artifactId>exo.kernel.component.cache</artifactId>
-      <version>${exo.platform.version}</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.core</groupId>
-      <artifactId>exo.core.component.xml-processing</artifactId>
-      <version>${exo.platform.version}</version>
-      <scope>compile</scope>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.core</groupId>
-      <artifactId>exo.core.component.organization.api</artifactId>
-      <version>${exo.platform.version}</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.core</groupId>
-      <artifactId>exo.core.component.common</artifactId>
-      <version>${exo.platform.version}</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.core</groupId>
-      <artifactId>exo.core.component.database</artifactId>
-      <version>${exo.platform.version}</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.core</groupId>
-      <artifactId>exo.core.component.resources.api</artifactId>
-      <version>${exo.platform.version}</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.core</groupId>
-      <artifactId>exo.core.component.organization.jdbc</artifactId>
-      <version>${exo.platform.version}</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.portletcontainer</groupId>
-      <artifactId>exo.pc.component.core</artifactId>
-      <version>${exo.portlet-container.version}</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.portletcontainer</groupId>
-      <artifactId>exo.pc.component.plugins.pc</artifactId>
-      <version>${exo.portlet-container.version}</version>
-    </dependency>
-
-    <!-- ************************ soap ************************ -->
-
-    <dependency>
-      <groupId>org.codehaus.mojo</groupId>
-      <artifactId>xfire-maven-plugin</artifactId>
-      <version>1.0-SNAPSHOT</version>
-    </dependency>
-
-    <dependency>
-      <groupId>wsdl4j</groupId>
-      <artifactId>wsdl4j</artifactId>
-      <version>1.4</version>
-    </dependency>
-
-    <dependency>
-      <groupId>soap</groupId>
-      <artifactId>soap</artifactId>
-      <version>2.3</version>
-    </dependency>
-
-    <dependency>
-      <groupId>javax.xml</groupId>
-      <artifactId>saaj-api</artifactId>
-      <version>1.1</version>
-    </dependency>
-
-    <dependency>
-      <groupId>commons-discovery</groupId>
-      <artifactId>commons-discovery</artifactId>
-      <version>0.2</version>
-    </dependency>
-
-    <dependency>
-      <groupId>javax.xml</groupId>
-      <artifactId>jaxrpc-api</artifactId>
-      <version>1.1</version>
-    </dependency>
-
-    <dependency>
-      <groupId>jtidy</groupId>
-      <artifactId>jtidy</artifactId>
-      <version>4aug2000r7-dev</version>
-    </dependency>
-
-
-  </dependencies>
-
-  <profiles>
-    <profile>
-      <id>wsrp1</id>
-      <activation>
-        <activeByDefault>true</activeByDefault>
-      </activation>
-      <properties>
-        <src.gen.dir>${basedir}/target/generated</src.gen.dir>
-      </properties>
-    </profile>
-  </profiles>
-
-  <properties>
-    <war.dir>${basedir}/war_template</war.dir>
-  </properties>
-
-
-  <build>
-
-    <resources>
-      <resource>
-        <directory>target/generated</directory>
-        <includes>
-          <include>**/*.wsdd</include>
-        </includes>
-      </resource>
-    </resources>
-
-    <plugins>
-
-      <plugin>
-        <groupId>org.codehaus.mojo</groupId>
-        <artifactId>xmlbeans-maven-plugin</artifactId>
-        <version>2.0</version>
-        <executions>
-          <execution>
-            <phase>generate-sources</phase>
-            <goals>
-              <goal>xmlbeans</goal>
-            </goals>
-          </execution>
-        </executions>
-        <configuration>
-          <verbose>true</verbose>
-          <schemaDirectory>wsdl</schemaDirectory>
-          <sourceGenerationDirectory>${src.gen.dir}</sourceGenerationDirectory>
-        </configuration>
-        <dependencies>
-          <dependency>
-            <groupId>stax</groupId>
-            <artifactId>stax</artifactId>
-            <version>1.1.2-dev</version>
-            <exclusions>
-              <exclusion>
-                <groupId>xmlbeans</groupId>
-                <artifactId>xmlbeans-jsr173-api</artifactId>
-              </exclusion>
-            </exclusions>
-          </dependency>
-        </dependencies>
-      </plugin>
-
-      <!-- plugin>
-        <groupId>org.codehaus.mojo</groupId>
-        <artifactId>xfire-maven-plugin</artifactId>
-        <executions>
-        <execution>
-        <goals>
-        <goal>wsgen</goal>
-        </goals>
-        </execution>
-        </executions>
-        <configuration>
-        <package>org.exoplatform.services.wsrp.wsdl</package>
-        <profile>org.codehaus.xfire.gen.jsr181.Jsr181Profile</profile>
-        <binding>xmlbeans</binding>
-        <externalBindings>${basedir}/wsdl/wsrp-bindings.xjb</externalBindings>
-        <outputDirectory>${src.gen.dir}</outputDirectory>
-        <wsdls>
-        <wsdl>${basedir}/wsdl/wsrp_service.wsdl</wsdl>
-        </wsdls>
-        </configuration>
-        </plugin -->
-
-      <plugin>
-        <artifactId>maven-antrun-plugin</artifactId>
-        <executions>
-
-          <execution>
-            <id>0</id>
-            <phase>generate-sources</phase>
-            <configuration>
-              <java classpathref="maven.compile.classpath" dir="${basedir}">
-                <arg line="${basedir}/src/main/binding.xml" />
-              </java>
-              <tasks>
-                <taskdef name="wsgen" classname="org.codehaus.xfire.gen.WsGenTask" classpathref="maven.compile.classpath" />
-                <wsgen outputDirectory="${src.gen.dir}" wsdl="${basedir}/wsdl/wsrp_service.wsdl" package="org.exoplatform.services.wsrp.wsdl"
-                  overwrite="true" />
-              </tasks>
-              <sourceRoot>${src.gen.dir}</sourceRoot>
-            </configuration>
-            <goals>
-              <goal>run</goal>
-            </goals>
-          </execution>
-
-          <execution>
-            <id>1</id>
-            <phase>compile</phase>
-            <configuration>
-              <tasks>
-                <taskdef name="hibernatedoclet" classname="xdoclet.modules.hibernate.HibernateDocletTask" classpathref="maven.compile.classpath" />
-                <hibernatedoclet destdir="${basedir}/target/classes" excludedtags="@version,@author,@todo" mergedir="target/classes" force="true"
-                  verbose="false">
-                  <fileset dir="${basedir}/src/main/java">
-                    <include name="**/*.java" />
-                  </fileset>
-                  <hibernate version="3.0" />
-                </hibernatedoclet>
-              </tasks>
-            </configuration>
-            <goals>
-              <goal>run</goal>
-            </goals>
-          </execution>
-          <execution>
-            <id>2</id>
-            <phase>generate-test-sources</phase>
-            <configuration>
-              <tasks>
-                <mkdir dir="${basedir}/target/test-classes/" />
-                <copy todir="${basedir}/target/test-classes/">
-                  <fileset dir="${basedir}/war_template/src">
-                    <include name="**/*.properties" />
-                    <include name="**/*.xml" />
-                  </fileset>
-                </copy>
-                <javac fork="true" srcdir="${basedir}/war_template/src" destdir="${basedir}/target/test-classes/" debug="${maven.compile.debug}"
-                  deprecation="${maven.compile.deprecation}" optimize="${maven.compile.optimize}">
-                  <classpath>
-                    <path refid="maven.dependency.classpath" />
-                    <pathelement path="${maven.build.dest}" />
-                  </classpath>
-                </javac>
-              </tasks>
-            </configuration>
-            <goals>
-              <goal>run</goal>
-            </goals>
-          </execution>
-        </executions>
-      </plugin>
-
-      <plugin>
-        <groupId>org.apache.maven.plugins</groupId>
-        <artifactId>maven-surefire-plugin</artifactId>
-        <configuration>
-          <systemProperties>
-            <property>
-              <name>testPath</name>
-              <value>${basedir}</value>
-            </property>
-            <property>
-              <name>mock.portal.dir</name>
-              <value>${war.dir}</value>
-            </property>
-            <property>
-              <name>maven.exoplatform.dir</name>
-              <value>${war.dir}</value>
-            </property>
-          </systemProperties>
-          <includes>
-            <include>**/Test*.java</include>
-          </includes>
-          <skip>true</skip>
-        </configuration>
-      </plugin>
-
-      <plugin>
-        <groupId>org.apache.maven.plugins</groupId>
-        <artifactId>maven-compiler-plugin</artifactId>
-        <configuration>
-          <source>1.5</source>
-          <target>1.5</target>
-        </configuration>
-      </plugin>
-
-    </plugins>
-
-  </build>
-
-</project>
\ No newline at end of file
Index: component/plugins/wsrp1/pom_axis1_1.4.xml
===================================================================
--- component/plugins/wsrp1/pom_axis1_1.4.xml	(revision 65590)
+++ component/plugins/wsrp1/pom_axis1_1.4.xml	(working copy)
@@ -1,315 +0,0 @@
-<project>
-   <parent>
-    <groupId>org.exoplatform.portletcontainer</groupId>
-    <artifactId>config</artifactId>
-    <version>2.0</version>
-  </parent>
-  <modelVersion>4.0.0</modelVersion>
-  <artifactId>exo.pc.component.plugins.wsrp1</artifactId>
-  <packaging>jar</packaging>
-  <name>eXo Portlet Container 2 plugins.wsrp1</name>
-  <url>http://www.exoplatform.org</url>
-  <description>eXo Portlet Container 2 wsrp1 plugin</description>
-
-  <repositories>
-    <repository>
-	    <id>maven.org</id>
-	    <name>maven.org repository</name>
-	    <url>http://repo1.maven.org/maven2</url>
-	    <layout>default</layout>
-    </repository>
-  </repositories>
-
-  <dependencies>
-
-    <dependency>
-      <groupId>org.exoplatform.kernel</groupId>
-      <artifactId>exo.kernel.commons</artifactId>
-      <version>${exo.platform.version}</version>
-      <scope>compile</scope>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.kernel</groupId>
-      <artifactId>exo.kernel.container</artifactId>
-      <version>${exo.platform.version}</version>
-      <scope>compile</scope>
-    </dependency>
-    
-    <dependency>
-      <groupId>org.exoplatform.kernel</groupId>
-      <artifactId>exo.kernel.component.cache</artifactId>
-      <version>${exo.platform.version}</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.core</groupId>
-      <artifactId>exo.core.component.xml-processing</artifactId>
-      <version>${exo.platform.version}</version>
-      <scope>compile</scope>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.core</groupId>
-      <artifactId>exo.core.component.organization.api</artifactId>
-      <version>${exo.platform.version}</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.core</groupId>
-      <artifactId>exo.core.component.common</artifactId>
-      <version>${exo.platform.version}</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.core</groupId>
-      <artifactId>exo.core.component.database</artifactId>
-      <version>${exo.platform.version}</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.core</groupId>
-      <artifactId>exo.core.component.resources.api</artifactId>
-      <version>${exo.platform.version}</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.core</groupId>
-      <artifactId>exo.core.component.organization.jdbc</artifactId>
-      <version>${exo.platform.version}</version>
-    </dependency>
-
-    <dependency>
-       <groupId>org.exoplatform.portletcontainer</groupId>
-       <artifactId>exo.pc.component.core</artifactId>
-       <version>${exo.portlet-container.version}</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.portletcontainer</groupId>
-      <artifactId>exo.pc.component.plugins.pc</artifactId>
-      <version>${exo.portlet-container.version}</version>
-    </dependency>
-
-    <!-- ************************ soap ************************ -->
-
-    <dependency>
-      <groupId>axis</groupId>
-      <artifactId>axis</artifactId>
-      <version>1.4</version>
-      <!-- version>1.2-RC1</version -->
-    </dependency>
-    
-    <dependency>
-      <groupId>wsdl4j</groupId>
-      <artifactId>wsdl4j</artifactId>
-      <version>1.4</version>
-    </dependency>
-    
-    <dependency>
-      <groupId>soap</groupId>
-      <artifactId>soap</artifactId>
-      <version>2.3</version>
-    </dependency>
-    
-    <dependency>
-      <groupId>javax.xml</groupId>
-      <artifactId>saaj-api</artifactId>
-      <version>1.1</version>
-    </dependency>
-    
-    <dependency>
-      <groupId>commons-discovery</groupId>
-      <artifactId>commons-discovery</artifactId>
-      <version>0.2</version>
-    </dependency>
-
-    <dependency>
-      <groupId>javax.xml</groupId>
-      <artifactId>jaxrpc-api</artifactId>
-      <version>1.1</version>
-    </dependency>
-
-    <dependency>
-      <groupId>jtidy</groupId>
-      <artifactId>jtidy</artifactId>
-      <version>4aug2000r7-dev</version>
-    </dependency>
-    
-
-  </dependencies>
-
-	<profiles>
-	  <profile>
-	    <id>wsrp1</id>
-	    <activation>
-	      <activeByDefault>true</activeByDefault>
-	    </activation>
-	    <properties>
-	      <src.gen.dir>${basedir}/target/generated</src.gen.dir>
-	    </properties>
-	  </profile>
-	</profiles>
-
-  <properties>
-    <war.dir>${basedir}/war_template</war.dir>
-  </properties>
-
-
-  <build>
-  
-    <resources>
-      <resource>
-        <directory>target/generated</directory>
-        <includes>
-          <include>**/*.wsdd</include>
-        </includes>
-      </resource>
-    </resources>
-
-    <plugins>
-    
-    
-      <plugin>
-        <artifactId>maven-antrun-plugin</artifactId>
-        <executions>
-				  <execution>
-				    <id>0</id>
-				    <phase>generate-sources</phase>
-				    <configuration>
-              <tasks if="exo.proxy.host">
-                <echo>=== PROXY === ${exo.proxy.host}:${exo.proxy.port}</echo>
-				        <mkdir dir="${src.gen.dir}" />
-				        <java fork="yes" dir="wsdl" classname="org.apache.axis.wsdl.WSDL2Java">
-                  <sysproperty key="proxySet" value="" />
-                  <sysproperty key="proxyHost" value="${exo.proxy.host}" />
-                  <sysproperty key="proxyPort" value="${exo.proxy.port}" />
-                  <arg line="-v -t -O -1 -a --server-side --deployScope 'Application' -W -o ${src.gen.dir} wsrp_service.wsdl" />
-				  			  <classpath refid="maven.dependency.classpath" />
-				      	</java>
-				      	
-                <delete file="${src.gen.dir}/org/exoplatform/services/wsrp/bind/WSRP_v1_ServiceDescription_Binding_SOAPImpl.java" />
-                <delete file="${src.gen.dir}/org/exoplatform/services/wsrp/bind/WSRP_v1_Registration_Binding_SOAPImpl.java" />
-                <delete file="${src.gen.dir}/org/exoplatform/services/wsrp/bind/WSRP_v1_Markup_Binding_SOAPImpl.java" />
-                <delete file="${src.gen.dir}/org/exoplatform/services/wsrp/bind/WSRP_v1_PortletManagement_Binding_SOAPImpl.java" />
-				     	</tasks>
-				      <sourceRoot>${src.gen.dir}</sourceRoot>
-				    </configuration>
-				    <goals>
-				      <goal>run</goal>
-				    </goals>
-				  </execution>
-          <execution>
-            <id>1</id>
-            <phase>generate-sources</phase>
-            <configuration>
-              <tasks if="${exo.proxy.host}">
-                <echo>=== NON-PROXY ===</echo>
-                <mkdir dir="${src.gen.dir}" />
-                <java fork="yes" dir="wsdl" classname="org.apache.axis.wsdl.WSDL2Java">
-                  <arg line="-v -t -O -1 -a --server-side --deployScope 'Application' -W -o ${src.gen.dir} wsrp_service.wsdl" />
-                  <classpath refid="maven.dependency.classpath" />
-                </java>
-                
-                <delete file="${src.gen.dir}/org/exoplatform/services/wsrp/bind/WSRP_v1_ServiceDescription_Binding_SOAPImpl.java" />
-                <delete file="${src.gen.dir}/org/exoplatform/services/wsrp/bind/WSRP_v1_Registration_Binding_SOAPImpl.java" />
-                <delete file="${src.gen.dir}/org/exoplatform/services/wsrp/bind/WSRP_v1_Markup_Binding_SOAPImpl.java" />
-                <delete file="${src.gen.dir}/org/exoplatform/services/wsrp/bind/WSRP_v1_PortletManagement_Binding_SOAPImpl.java" />
-              </tasks>
-              <sourceRoot>${src.gen.dir}</sourceRoot>
-            </configuration>
-            <goals>
-              <goal>run</goal>
-            </goals>
-          </execution>
-          <execution>
-            <id>2</id>
-            <phase>compile</phase>
-            <configuration>
-              <tasks>
-                <taskdef name="hibernatedoclet"
-                  classname="xdoclet.modules.hibernate.HibernateDocletTask"
-                  classpathref="maven.compile.classpath"/>
-                <hibernatedoclet destdir="${basedir}/target/classes"
-                  excludedtags="@version,@author,@todo" mergedir="target/classes"
-                  force="true" verbose="false">
-                  <fileset dir="${basedir}/src/main/java">
-                    <include name="**/*.java"/>
-                  </fileset>
-                  <hibernate version="3.0"/>
-                </hibernatedoclet>
-              </tasks>
-            </configuration>
-            <goals>
-              <goal>run</goal>
-            </goals>
-          </execution>
-          <execution>
-            <id>3</id>
-            <phase>generate-test-sources</phase>
-            <configuration>
-              <tasks>
-                <mkdir dir="${basedir}/target/test-classes/"/>
-                <copy todir="${basedir}/target/test-classes/">
-                  <fileset dir="${basedir}/war_template/src">
-                    <include name="**/*.properties"/>
-                    <include name="**/*.xml"/>
-                  </fileset>
-                </copy>
-                <javac fork="true" srcdir="${basedir}/war_template/src" destdir="${basedir}/target/test-classes/"
-                           debug="${maven.compile.debug}"
-                           deprecation="${maven.compile.deprecation}"
-                           optimize="${maven.compile.optimize}">
-                  <classpath>
-                    <path refid="maven.dependency.classpath"/>
-                    <pathelement path="${maven.build.dest}"/>
-                  </classpath>
-                </javac>
-              </tasks>
-            </configuration>
-            <goals>
-              <goal>run</goal>
-            </goals>
-          </execution>
-        </executions>
-      </plugin>
-      
-      <plugin>
-        <groupId>org.apache.maven.plugins</groupId>
-        <artifactId>maven-surefire-plugin</artifactId>
-        <configuration>
-          <systemProperties>
-            <property>
-              <name>testPath</name>
-              <value>${basedir}</value>
-            </property>
-            <property>
-              <name>mock.portal.dir</name>
-              <value>${war.dir}</value>
-            </property>
-            <property>
-              <name>maven.exoplatform.dir</name>
-              <value>${war.dir}</value>
-            </property>
-          </systemProperties>
-          <includes>
-            <include>**/Test*.java</include>
-          </includes>
-          <skip>true</skip>
-        </configuration>
-      </plugin>
-      
-	    <plugin>
-	      <groupId>org.apache.maven.plugins</groupId>
-	      <artifactId>maven-compiler-plugin</artifactId>
-	      <configuration>
-	        <source>1.5</source>
-	        <target>1.5</target>
-	      </configuration>
-	    </plugin>
-	    
-    </plugins>
-    
-  </build>
-  
-</project>
\ No newline at end of file
Index: component/plugins/wsrp1/pom-cargo.xml
===================================================================
--- component/plugins/wsrp1/pom-cargo.xml	(revision 65590)
+++ component/plugins/wsrp1/pom-cargo.xml	(working copy)
@@ -1,373 +0,0 @@
-<project>
-  <parent>
-    <groupId>org.exoplatform.portletcontainer</groupId>
-    <artifactId>config</artifactId>
-    <version>2.0.13-SNAPSHOT</version>
-  </parent>
-  <modelVersion>4.0.0</modelVersion>
-  <artifactId>exo.pc.component.plugins.wsrp1</artifactId>
-  <packaging>jar</packaging>
-  <name>eXo Portlet Container 2 Plugins WSRP1</name>
-  <description>eXo Portlet Container 2 wsrp1 plugin</description>
-
-  <dependencies>
-
-    <dependency>
-      <groupId>org.exoplatform.kernel</groupId>
-      <artifactId>exo.kernel.commons</artifactId>
-      <version>${org.exoplatform.kernel.version}</version>
-      <scope>compile</scope>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.kernel</groupId>
-      <artifactId>exo.kernel.container</artifactId>
-      <version>${org.exoplatform.kernel.version}</version>
-      <scope>compile</scope>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.kernel</groupId>
-      <artifactId>exo.kernel.component.common</artifactId>
-      <version>${org.exoplatform.kernel.version}</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.kernel</groupId>
-      <artifactId>exo.kernel.component.cache</artifactId>
-      <version>${org.exoplatform.kernel.version}</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.core</groupId>
-      <artifactId>exo.core.component.organization.api</artifactId>
-      <version>${org.exoplatform.core.version}</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.core</groupId>
-      <artifactId>exo.core.component.organization.jdbc</artifactId>
-      <version>${org.exoplatform.core.version}</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.core</groupId>
-      <artifactId>exo.core.component.database</artifactId>
-      <version>${org.exoplatform.core.version}</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.core</groupId>
-      <artifactId>exo.core.component.resources.api</artifactId>
-      <version>${org.exoplatform.core.version}</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.core</groupId>
-      <artifactId>exo.core.component.security.core</artifactId>
-      <version>${org.exoplatform.core.version}</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.portletcontainer</groupId>
-      <artifactId>exo.pc.component.core</artifactId>
-      <version>${org.exoplatform.pc.version}</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.portletcontainer</groupId>
-      <artifactId>exo.pc.component.plugins.pc</artifactId>
-      <version>${org.exoplatform.pc.version}</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.codehaus.cargo</groupId>
-      <artifactId>cargo-core-api-container</artifactId>
-      <version>0.9-SNAPSHOT</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.codehaus.cargo</groupId>
-      <artifactId>cargo-core-api-generic</artifactId>
-      <version>0.9-SNAPSHOT</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.codehaus.cargo</groupId>
-      <artifactId>cargo-core-container-tomcat</artifactId>
-      <version>0.9-SNAPSHOT</version>
-    </dependency>
-
-    <!-- ************************ soap ************************ -->
-
-    <dependency>
-      <groupId>axis</groupId>
-      <artifactId>axis</artifactId>
-      <version>1.4-0231</version>
-    </dependency>
-
-    <dependency>
-      <groupId>wsdl4j</groupId>
-      <artifactId>wsdl4j</artifactId>
-      <version>1.5.1</version>
-    </dependency>
-
-    <dependency>
-      <groupId>commons-discovery</groupId>
-      <artifactId>commons-discovery</artifactId>
-      <version>0.2</version>
-    </dependency>
-
-  </dependencies>
-
-  <profiles>
-    <profile>
-      <id>wsrp1</id>
-      <activation>
-        <activeByDefault>true</activeByDefault>
-      </activation>
-      <properties>
-        <src.gen.dir>${basedir}/target/generated</src.gen.dir>
-      </properties>
-    </profile>
-  </profiles>
-
-  <properties>
-    <war.dir>${basedir}/war_template</war.dir>
-  </properties>
-
-  <build>
-
-    <resources>
-      <resource>
-        <directory>target/generated</directory>
-        <includes>
-          <include>**/*.wsdd</include>
-        </includes>
-      </resource>
-      <resource>
-        <directory>src/main/resources</directory>
-        <includes>
-          <include>**/*.xml</include>
-        </includes>
-      </resource>
-    </resources>
-
-    <plugins>
-
-      <plugin>
-        <groupId>org.apache.maven.plugins</groupId>
-        <artifactId>maven-antrun-plugin</artifactId>
-        <version>1.3</version>
-        <executions>
-          <execution>
-            <id>0</id>
-            <phase>generate-sources</phase>
-            <configuration>
-              <tasks if="settings.activeProxy.host">
-                <echo>=== PROXY === [${settings.activeProxy.host}:${settings.activeProxy.port}] ===</echo>
-
-                <property name="activeProxy.host" value="${settings.activeProxy.host}" />
-                <property name="activeProxy.port" value="${settings.activeProxy.port}" />
-                <property name="activeProxy.user" value="${settings.activeProxy.username}" />
-                <property name="activeProxy.password" value="${settings.activeProxy.password}" />
-                <property name="activeProxy.nonProxyHosts" value="${settings.activeProxy.nonProxyHosts}" />
-
-                <taskdef name="setproxy" classname="org.apache.tools.ant.taskdefs.optional.net.SetProxy" />
-                <setproxy proxyhost="${settings.activeProxy.host}" proxyport="${settings.activeProxy.port}" proxypassword="${settings.activeProxy.password}" proxyuser="${settings.activeProxy.username}"
-                  nonproxyhosts="${settings.activeProxy.nonProxyHosts}" />
-
-                <mkdir dir="${src.gen.dir}" />
-                <java fork="yes" dir="wsdl" classname="org.apache.axis.wsdl.WSDL2Java">
-<!--                  <sysproperty key="proxySet" value="" />-->
-<!--                  <sysproperty key="proxyHost" value="${exo.proxy.host}" />-->
-<!--                  <sysproperty key="proxyPort" value="${exo.proxy.port}" />-->
-                  <arg
-                    line="-v -t -O -1 -a --server-side --deployScope 'Application' -W -o ${src.gen.dir} wsrp_service.wsdl" />
-                  <classpath refid="maven.dependency.classpath" />
-                </java>
-                <delete
-                  file="${src.gen.dir}/org/exoplatform/services/wsrp/bind/WSRP_v1_ServiceDescription_Binding_SOAPImpl.java" />
-                <delete
-                  file="${src.gen.dir}/org/exoplatform/services/wsrp/bind/WSRP_v1_Registration_Binding_SOAPImpl.java" />
-                <delete file="${src.gen.dir}/org/exoplatform/services/wsrp/bind/WSRP_v1_Markup_Binding_SOAPImpl.java" />
-                <delete
-                  file="${src.gen.dir}/org/exoplatform/services/wsrp/bind/WSRP_v1_PortletManagement_Binding_SOAPImpl.java" />
-              </tasks>
-              <sourceRoot>${src.gen.dir}</sourceRoot>
-            </configuration>
-            <goals>
-              <goal>run</goal>
-            </goals>
-          </execution>
-          <execution>
-            <id>1</id>
-            <phase>generate-sources</phase>
-            <configuration>
-              <tasks if="${settings.activeProxy.host}">
-                <echo>=== NON-PROXY ===</echo>
-                <mkdir dir="${src.gen.dir}" />
-                <java fork="yes" dir="wsdl" classname="org.apache.axis.wsdl.WSDL2Java">
-                  <arg
-                    line="-v -t -O -1 -a --server-side --deployScope 'Application' -W -o ${src.gen.dir} wsrp_service.wsdl" />
-                  <classpath refid="maven.dependency.classpath" />
-                </java>
-                <delete
-                  file="${src.gen.dir}/org/exoplatform/services/wsrp/bind/WSRP_v1_ServiceDescription_Binding_SOAPImpl.java" />
-                <delete
-                  file="${src.gen.dir}/org/exoplatform/services/wsrp/bind/WSRP_v1_Registration_Binding_SOAPImpl.java" />
-                <delete file="${src.gen.dir}/org/exoplatform/services/wsrp/bind/WSRP_v1_Markup_Binding_SOAPImpl.java" />
-                <delete
-                  file="${src.gen.dir}/org/exoplatform/services/wsrp/bind/WSRP_v1_PortletManagement_Binding_SOAPImpl.java" />
-              </tasks>
-              <sourceRoot>${src.gen.dir}</sourceRoot>
-            </configuration>
-            <goals>
-              <goal>run</goal>
-            </goals>
-          </execution>
-          <execution>
-            <id>2</id>
-            <phase>compile</phase>
-            <configuration>
-              <tasks>
-                <taskdef name="hibernatedoclet" classname="xdoclet.modules.hibernate.HibernateDocletTask"
-                  classpathref="maven.compile.classpath" />
-                <hibernatedoclet destdir="${basedir}/target/classes" excludedtags="@version,@author,@todo"
-                  mergedir="target/classes" force="true" verbose="false">
-                  <fileset dir="${basedir}/src/main/java">
-                    <include name="org/exoplatform/services/wsrp/consumer/impl/WSRP1ProducerData.java" />
-                    <include name="org/exoplatform/services/wsrp/producer/impl/WSRP1StateData.java" />
-                    <!--                        <include name="**/*.java" />-->
-                  </fileset>
-                  <hibernate version="3.0" />
-                </hibernatedoclet>
-              </tasks>
-            </configuration>
-            <goals>
-              <goal>run</goal>
-            </goals>
-          </execution>
-          <execution>
-            <id>3</id>
-            <phase>generate-test-sources</phase>
-            <configuration>
-              <tasks>
-                <mkdir dir="${basedir}/target/test-classes/" />
-                <copy todir="${basedir}/target/test-classes/">
-                  <fileset dir="${basedir}/war_template/src">
-                    <include name="**/*.properties" />
-                    <include name="**/*.xml" />
-                  </fileset>
-                </copy>
-                <javac fork="true" srcdir="${basedir}/war_template/src" destdir="${basedir}/target/test-classes/"
-                  debug="${maven.compile.debug}" deprecation="${maven.compile.deprecation}"
-                  optimize="${maven.compile.optimize}">
-                  <classpath>
-                    <path refid="maven.dependency.classpath" />
-                    <pathelement path="${maven.build.dest}" />
-                  </classpath>
-                </javac>
-              </tasks>
-            </configuration>
-            <goals>
-              <goal>run</goal>
-            </goals>
-          </execution>
-
-          <execution>
-            <id>4</id>
-            <phase>generate-test-sources</phase>
-            <configuration>
-              <tasks>
-                <war destfile="target/hello.war" webxml="war_template/WEB-INF/web.xml">
-                  <classes dir="target/test-classes">
-                    <exclude name="wsrp/**/*" />
-                  </classes>
-                  <zipfileset dir="war_template/WEB-INF" includes="**/*" prefix="WEB-INF" />
-                  <!-- zipfileset dir="war_template/WEB-INF" includes="conf**/*" prefix="WEB-INF/classes" / -->
-                </war>
-              </tasks>
-            </configuration>
-            <goals>
-              <goal>run</goal>
-            </goals>
-          </execution>
-
-          <execution>
-            <id>5</id>
-            <phase>generate-test-sources</phase>
-            <configuration>
-              <tasks>
-                <jar destfile="${project.build.directory}/test/exo.pc.component.plugins.wsrp1.jar"
-                  basedir="target/classes" />
-              </tasks>
-            </configuration>
-            <goals>
-              <goal>run</goal>
-            </goals>
-          </execution>
-        </executions>
-        <dependencies>
-          <dependency>
-            <groupId>ant</groupId>
-            <artifactId>ant-nodeps</artifactId>
-            <version>1.6.5</version>
-          </dependency>
-        </dependencies>
-      </plugin>
-
-      <plugin>
-        <groupId>org.apache.maven.plugins</groupId>
-        <artifactId>maven-dependency-plugin</artifactId>
-        <executions>
-          <execution>
-            <id>copy</id>
-            <phase>generate-test-sources</phase>
-            <goals>
-              <goal>copy-dependencies</goal>
-            </goals>
-            <configuration>
-              <useRepositoryLayout>false</useRepositoryLayout>
-              <excludeTransitive>false</excludeTransitive>
-              <excludeGroupIds>xerces</excludeGroupIds>
-              <outputDirectory>${project.build.directory}/test</outputDirectory>
-            </configuration>
-          </execution>
-        </executions>
-      </plugin>
-
-      <plugin>
-        <groupId>org.apache.maven.plugins</groupId>
-        <artifactId>maven-surefire-plugin</artifactId>
-        <configuration>
-          <systemProperties>
-            <property>
-              <name>testPath</name>
-              <value>${basedir}</value>
-            </property>
-            <property>
-              <name>mock.portal.dir</name>
-              <value>${war.dir}</value>
-            </property>
-            <property>
-              <name>maven.exoplatform.dir</name>
-              <value>${war.dir}</value>
-            </property>
-            <property>
-              <name>exo.test.cargo.skip</name>
-              <value>${exo.test.cargo.skip}</value>
-            </property>
-          </systemProperties>
-          <includes>
-            <include>**/AllTestsPortlet.java</include>
-            <!--            <include>**/SuiteForTestProducer.java</include>-->
-            <!--            <include>**/SuiteForTestConsumer.java</include>-->
-            <!--            <include>**/TestPerformBlockingInteraction.java</include>-->
-            <!-- include>**/Test*.java</include -->
-          </includes>
-        </configuration>
-      </plugin>
-    </plugins>
-  </build>
-</project>
Index: component/plugins/wsrp1/pom.xml
===================================================================
--- component/plugins/wsrp1/pom.xml	(revision 65590)
+++ component/plugins/wsrp1/pom.xml	(working copy)
@@ -1,397 +1,2538 @@
-<?xml version="1.0" encoding="UTF-8"?>
-<!--
-
-    Copyright (C) 2003-2010 eXo Platform SAS.
-
-    This program is free software; you can redistribute it and/or
-    modify it under the terms of the GNU Affero General Public License
-    as published by the Free Software Foundation; either version 3
-    of the License, or (at your option) any later version.
-
-    This program is distributed in the hope that it will be useful,
-    but WITHOUT ANY WARRANTY; without even the implied warranty of
-    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-    GNU General Public License for more details.
-
-    You should have received a copy of the GNU General Public License
-    along with this program; if not, see <http://www.gnu.org/licenses />.
-
--->
-<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
-  <modelVersion>4.0.0</modelVersion>
-  <parent>
-    <groupId>org.exoplatform.portletcontainer</groupId>
-    <artifactId>config</artifactId>
-    <version>2.0.13-SNAPSHOT</version>
-  </parent>
-  <artifactId>exo.pc.component.plugins.wsrp1</artifactId>
-  <packaging>jar</packaging>
-  <name>eXo PC Plugins WSRP1</name>
-  <description>eXo PC wsrp1 plugin</description>
-  <properties>
-    <war.dir>${basedir}/war_template</war.dir>
-  </properties>
-  <dependencies>
-    <dependency>
-      <groupId>org.exoplatform.kernel</groupId>
-      <artifactId>exo.kernel.commons</artifactId>
-      <version>${org.exoplatform.kernel.version}</version>
-      <scope>compile</scope>
-    </dependency>
-    <dependency>
-      <groupId>org.exoplatform.kernel</groupId>
-      <artifactId>exo.kernel.container</artifactId>
-      <version>${org.exoplatform.kernel.version}</version>
-      <scope>compile</scope>
-    </dependency>
-    <dependency>
-      <groupId>org.exoplatform.kernel</groupId>
-      <artifactId>exo.kernel.component.common</artifactId>
-      <version>${org.exoplatform.kernel.version}</version>
-    </dependency>
-    <dependency>
-      <groupId>org.exoplatform.kernel</groupId>
-      <artifactId>exo.kernel.component.cache</artifactId>
-      <version>${org.exoplatform.kernel.version}</version>
-    </dependency>
-    <dependency>
-      <groupId>org.exoplatform.core</groupId>
-      <artifactId>exo.core.component.organization.api</artifactId>
-      <version>${org.exoplatform.core.version}</version>
-    </dependency>
-    <dependency>
-      <groupId>org.exoplatform.core</groupId>
-      <artifactId>exo.core.component.organization.jdbc</artifactId>
-      <version>${org.exoplatform.core.version}</version>
-    </dependency>
-    <dependency>
-      <groupId>org.exoplatform.core</groupId>
-      <artifactId>exo.core.component.database</artifactId>
-      <version>${org.exoplatform.core.version}</version>
-    </dependency>
-    <dependency>
-      <groupId>org.exoplatform.core</groupId>
-      <artifactId>exo.core.component.resources.api</artifactId>
-      <version>${org.exoplatform.core.version}</version>
-    </dependency>
-    <dependency>
-      <groupId>org.exoplatform.core</groupId>
-      <artifactId>exo.core.component.security.core</artifactId>
-      <version>${org.exoplatform.core.version}</version>
-    </dependency>
-    <dependency>
-      <groupId>org.exoplatform.portletcontainer</groupId>
-      <artifactId>exo.pc.component.core</artifactId>
-      <version>2.0.13-SNAPSHOT</version>
-    </dependency>
-    <dependency>
-      <groupId>org.exoplatform.portletcontainer</groupId>
-      <artifactId>exo.pc.component.plugins.pc</artifactId>
-      <version>2.0.13-SNAPSHOT</version>
-    </dependency>
-    <dependency>
-      <groupId>org.codehaus.cargo</groupId>
-      <artifactId>cargo-core-api-container</artifactId>
-      <version>1.0-beta-2</version>
-      <scope>provided</scope>
-    </dependency>
-    <dependency>
-      <groupId>org.codehaus.cargo</groupId>
-      <artifactId>cargo-core-api-generic</artifactId>
-      <version>1.0-beta-2</version>
-      <scope>provided</scope>
-    </dependency>
-    <dependency>
-      <groupId>org.codehaus.cargo</groupId>
-      <artifactId>cargo-core-container-tomcat</artifactId>
-      <version>1.0-beta-2</version>
-      <scope>provided</scope>
-    </dependency>
-    <!-- ************************ soap ************************ -->
-    <dependency>
-      <groupId>axis</groupId>
-      <artifactId>axis</artifactId>
-      <version>1.4-0231</version>
-    </dependency>
-    <dependency>
-      <groupId>wsdl4j</groupId>
-      <artifactId>wsdl4j</artifactId>
-      <version>1.5.1</version>
-    </dependency>
-    <dependency>
-      <groupId>commons-discovery</groupId>
-      <artifactId>commons-discovery</artifactId>
-      <version>0.2</version>
-    </dependency>
-    <dependency>
-      <groupId>commons-logging</groupId>
-      <artifactId>commons-logging</artifactId>
-      <version>1.0</version>
-    </dependency>
-    <dependency>
-      <groupId>org.exoplatform.tool</groupId>
-      <artifactId>exo.tool.framework.junit</artifactId>
-      <version>1.0.0</version>
-      <scope>test</scope>
-    </dependency>
-    <dependency>
-      <groupId>javax.servlet</groupId>
-      <artifactId>servlet-api</artifactId>
-      <version>2.3</version>
-      <scope>provided</scope>
-    </dependency>
-    <dependency>
-      <groupId>junit</groupId>
-      <artifactId>junit</artifactId>
-      <version>3.8.1</version>
-    </dependency>
-    <dependency>
-      <groupId>xpp3</groupId>
-      <artifactId>xpp3</artifactId>
-      <version>1.1.3.4.O</version>
-    </dependency>
-    <dependency>
-      <groupId>org.apache.axis</groupId>
-      <artifactId>axis-jaxrpc</artifactId>
-      <version>1.4</version>
-    </dependency>
-    <dependency>
-      <groupId>org.hibernate</groupId>
-      <artifactId>hibernate</artifactId>
-      <version>3.1.2</version>
-    </dependency>
-    <dependency>
-      <groupId>jtidy</groupId>
-      <artifactId>jtidy</artifactId>
-      <version>4aug2000r7-dev</version>
-    </dependency>
-    <dependency>
-      <groupId>commons-lang</groupId>
-      <artifactId>commons-lang</artifactId>
-      <version>2.3</version>
-    </dependency>
-    <dependency>
-      <groupId>javax.portlet</groupId>
-      <artifactId>portlet-api</artifactId>
-      <version>2.0</version>
-    </dependency>
-  </dependencies>
-  <build>
-    <resources>
-      <resource>
-        <directory>target/generated</directory>
-        <includes>
-          <include>**/*.wsdd</include>
-        </includes>
-      </resource>
-      <resource>
-        <directory>src/main/resources</directory>
-        <includes>
-          <include>**/*.xml</include>
-        </includes>
-      </resource>
-    </resources>
-    <plugins>
-      <plugin>
-        <groupId>org.apache.maven.plugins</groupId>
-        <artifactId>maven-antrun-plugin</artifactId>
-        <executions>
-          <execution>
-            <id>0</id>
-            <phase>generate-sources</phase>
-            <configuration>
-              <tasks if="settings.activeProxy.host">
-                <echo>=== PROXY === [${settings.activeProxy.host}:${settings.activeProxy.port}] ===</echo>
-                <!--                <property name="activeProxy.host" value="${settings.activeProxy.host}" />-->
-                <!--                <property name="activeProxy.port" value="${settings.activeProxy.port}" />-->
-                <!--                <property name="activeProxy.user" value="${settings.activeProxy.username}" />-->
-                <!--                <property name="activeProxy.password" value="${settings.activeProxy.password}" />-->
-                <!--                <property name="activeProxy.nonProxyHosts" value="${settings.activeProxy.nonProxyHosts}" />-->
-                <!--                <taskdef name="setproxy" classname="org.apache.tools.ant.taskdefs.optional.net.SetProxy" />-->
-                <!--                <setproxy proxyhost="${settings.activeProxy.host}" proxyport="${settings.activeProxy.port}" proxypassword="${settings.activeProxy.password}" proxyuser="${settings.activeProxy.username}"-->
-                <!--                  nonproxyhosts="${settings.activeProxy.nonProxyHosts}" />-->
-                <mkdir dir="${src.gen.dir}" />
-                <java fork="yes" dir="wsdl" classname="org.apache.axis.wsdl.WSDL2Java">
-                  <sysproperty key="proxySet" value="" />
-                  <sysproperty key="proxyHost" value="${settings.activeProxy.host}" />
-                  <sysproperty key="proxyPort" value="${settings.activeProxy.port}" />
-                  <arg line="-v -t -O -1 -a --server-side --deployScope 'Application' -W -o ${src.gen.dir} wsrp_service.wsdl" />
-                  <classpath refid="maven.dependency.classpath" />
-                </java>
-                <delete file="${src.gen.dir}/org/exoplatform/services/wsrp/bind/WSRP_v1_ServiceDescription_Binding_SOAPImpl.java" />
-                <delete file="${src.gen.dir}/org/exoplatform/services/wsrp/bind/WSRP_v1_Registration_Binding_SOAPImpl.java" />
-                <delete file="${src.gen.dir}/org/exoplatform/services/wsrp/bind/WSRP_v1_Markup_Binding_SOAPImpl.java" />
-                <delete file="${src.gen.dir}/org/exoplatform/services/wsrp/bind/WSRP_v1_PortletManagement_Binding_SOAPImpl.java" />
-              </tasks>
-              <sourceRoot>${src.gen.dir}</sourceRoot>
-            </configuration>
-            <goals>
-              <goal>run</goal>
-            </goals>
-          </execution>
-          <execution>
-            <id>1</id>
-            <phase>generate-sources</phase>
-            <configuration>
-              <tasks if="${settings.activeProxy.host}">
-                <echo>=== NON-PROXY ===</echo>
-                <mkdir dir="${src.gen.dir}" />
-                <java fork="yes" dir="wsdl" classname="org.apache.axis.wsdl.WSDL2Java">
-                  <arg line="-v -t -O -1 -a --server-side --deployScope 'Application' -W -o ${src.gen.dir} wsrp_service.wsdl" />
-                  <classpath refid="maven.dependency.classpath" />
-                </java>
-                <delete file="${src.gen.dir}/org/exoplatform/services/wsrp/bind/WSRP_v1_ServiceDescription_Binding_SOAPImpl.java" />
-                <delete file="${src.gen.dir}/org/exoplatform/services/wsrp/bind/WSRP_v1_Registration_Binding_SOAPImpl.java" />
-                <delete file="${src.gen.dir}/org/exoplatform/services/wsrp/bind/WSRP_v1_Markup_Binding_SOAPImpl.java" />
-                <delete file="${src.gen.dir}/org/exoplatform/services/wsrp/bind/WSRP_v1_PortletManagement_Binding_SOAPImpl.java" />
-              </tasks>
-              <sourceRoot>${src.gen.dir}</sourceRoot>
-            </configuration>
-            <goals>
-              <goal>run</goal>
-            </goals>
-          </execution>
-          <execution>
-            <id>2</id>
-            <phase>compile</phase>
-            <configuration>
-              <tasks>
-                <taskdef name="hibernatedoclet" classname="xdoclet.modules.hibernate.HibernateDocletTask" classpathref="maven.compile.classpath" />
-                <hibernatedoclet destdir="${basedir}/target/classes" excludedtags="@version,@author,@todo" mergedir="target/classes" force="true" verbose="false">
-                  <fileset dir="${basedir}/src/main/java">
-                    <include name="org/exoplatform/services/wsrp/consumer/impl/WSRP1ProducerData.java" />
-                    <include name="org/exoplatform/services/wsrp/producer/impl/WSRP1StateData.java" />
-                  </fileset>
-                  <!--                        <include name="**/*.java" />-->
-                  <hibernate version="3.0" />
-                </hibernatedoclet>
-              </tasks>
-            </configuration>
-            <goals>
-              <goal>run</goal>
-            </goals>
-          </execution>
-          <execution>
-            <id>3</id>
-            <phase>generate-test-sources</phase>
-            <configuration>
-              <tasks>
-                <mkdir dir="${basedir}/target/test-classes/" />
-                <copy todir="${basedir}/target/test-classes/">
-                  <fileset dir="${basedir}/war_template/src">
-                    <include name="**/*.properties" />
-                    <include name="**/*.xml" />
-                  </fileset>
-                </copy>
-                <javac fork="true" srcdir="${basedir}/war_template/src" destdir="${basedir}/target/test-classes/" debug="${maven.compile.debug}" deprecation="${maven.compile.deprecation}" optimize="${maven.compile.optimize}">
-                  <classpath>
-                    <path refid="maven.dependency.classpath" />
-                    <pathelement path="${maven.build.dest}" />
-                  </classpath>
-                </javac>
-              </tasks>
-            </configuration>
-            <goals>
-              <goal>run</goal>
-            </goals>
-          </execution>
-          <execution>
-            <id>4</id>
-            <phase>generate-test-sources</phase>
-            <configuration>
-              <tasks>
-                <war destfile="target/hello.war" webxml="war_template/WEB-INF/web.xml">
-                  <classes dir="target/test-classes">
-                    <exclude name="wsrp/**/*" />
-                  </classes>
-                  <zipfileset dir="war_template/WEB-INF" includes="**/*" prefix="WEB-INF" />
-                </war>
-              </tasks>
-            </configuration>
-            <!-- zipfileset dir="war_template/WEB-INF" includes="conf**/*" prefix="WEB-INF/classes" / -->
-            <goals>
-              <goal>run</goal>
-            </goals>
-          </execution>
-          <execution>
-            <id>5</id>
-            <phase>generate-test-sources</phase>
-            <configuration>
-              <tasks>
-                <mkdir dir="${project.build.directory}/test" />
-                <jar destfile="${project.build.directory}/test/exo.pc.component.plugins.wsrp1.jar" basedir="target/classes" />
-              </tasks>
-            </configuration>
-            <goals>
-              <goal>run</goal>
-            </goals>
-          </execution>
-        </executions>
-      </plugin>
-      <!--        <dependencies>-->
-      <!--          <dependency>-->
-      <!--            <groupId>ant</groupId>-->
-      <!--            <artifactId>ant-nodeps</artifactId>-->
-      <!--            <version>1.6.5</version>-->
-      <!--          </dependency>-->
-      <!--        </dependencies>-->
-      <plugin>
-        <groupId>org.apache.maven.plugins</groupId>
-        <artifactId>maven-dependency-plugin</artifactId>
-        <executions>
-          <execution>
-            <id>copy</id>
-            <phase>generate-test-sources</phase>
-            <goals>
-              <goal>copy-dependencies</goal>
-            </goals>
-            <configuration>
-              <useRepositoryLayout>false</useRepositoryLayout>
-              <excludeTransitive>false</excludeTransitive>
-              <excludeGroupIds>xerces</excludeGroupIds>
-              <outputDirectory>${project.build.directory}/test</outputDirectory>
-            </configuration>
-          </execution>
-        </executions>
-      </plugin>
-      <plugin>
-        <groupId>org.apache.maven.plugins</groupId>
-        <artifactId>maven-surefire-plugin</artifactId>
-        <configuration>
-          <systemProperties>
-            <property>
-              <name>testPath</name>
-              <value>${basedir}</value>
-            </property>
-            <property>
-              <name>mock.portal.dir</name>
-              <value>${war.dir}</value>
-            </property>
-            <property>
-              <name>maven.exoplatform.dir</name>
-              <value>${war.dir}</value>
-            </property>
-            <property>
-              <name>exo.test.cargo.skip</name>
-              <value>${exo.test.cargo.skip}</value>
-            </property>
-          </systemProperties>
-          <includes>
-            <include>**/AllTestsPortlet.java</include>
-          </includes>
-        </configuration>
-      </plugin>
-    </plugins>
-  </build>
-  <profiles>
-    <profile>
-      <id>wsrp1</id>
-      <activation>
-        <activeByDefault>true</activeByDefault>
-      </activation>
-      <properties>
-        <src.gen.dir>${basedir}/target/generated</src.gen.dir>
-      </properties>
-    </profile>
-  </profiles>
-</project>
+<?xml version="1.0" encoding="UTF-8"?>
+<!--
+
+    Copyright (C) 2003-2010 eXo Platform SAS.
+
+    This program is free software; you can redistribute it and/or
+    modify it under the terms of the GNU Affero General Public License
+    as published by the Free Software Foundation; either version 3
+    of the License, or (at your option) any later version.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, see <http://www.gnu.org/licenses />.
+
+-->
+<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
+  <modelVersion>4.0.0</modelVersion>
+  <parent>
+    <groupId>org.exoplatform.portletcontainer</groupId>
+    <artifactId>config</artifactId>
+    <version>2.0.13-SNAPSHOT</version>
+  </parent>
+  <artifactId>exo.pc.component.plugins.wsrp1</artifactId>
+  <packaging>jar</packaging>
+  <name>eXo PC Plugins WSRP1</name>
+  <description>eXo PC wsrp1 plugin</description>
+
+  <properties>
+    <src.gen.dir>${basedir}/target/generated</src.gen.dir>
+    <war.dir>${basedir}/war_template</war.dir>
+  </properties>
+  <dependencies>
+    <dependency>
+      <groupId>org.exoplatform.kernel</groupId>
+      <artifactId>exo.kernel.commons</artifactId>
+      <version>${org.exoplatform.kernel.version}</version>
+      <scope>compile</scope>
+    </dependency>
+    <dependency>
+      <groupId>org.exoplatform.kernel</groupId>
+      <artifactId>exo.kernel.container</artifactId>
+      <version>${org.exoplatform.kernel.version}</version>
+      <scope>compile</scope>
+    </dependency>
+    <dependency>
+      <groupId>org.exoplatform.kernel</groupId>
+      <artifactId>exo.kernel.component.common</artifactId>
+      <version>${org.exoplatform.kernel.version}</version>
+    </dependency>
+    <dependency>
+      <groupId>org.exoplatform.kernel</groupId>
+      <artifactId>exo.kernel.component.cache</artifactId>
+      <version>${org.exoplatform.kernel.version}</version>
+    </dependency>
+    <dependency>
+      <groupId>org.exoplatform.core</groupId>
+      <artifactId>exo.core.component.organization.api</artifactId>
+      <version>${org.exoplatform.core.version}</version>
+    </dependency>
+    <dependency>
+      <groupId>org.exoplatform.core</groupId>
+      <artifactId>exo.core.component.organization.jdbc</artifactId>
+      <version>${org.exoplatform.core.version}</version>
+    </dependency>
+    <dependency>
+      <groupId>org.exoplatform.core</groupId>
+      <artifactId>exo.core.component.database</artifactId>
+      <version>${org.exoplatform.core.version}</version>
+    </dependency>
+    <dependency>
+      <groupId>org.exoplatform.core</groupId>
+      <artifactId>exo.core.component.resources.api</artifactId>
+      <version>${org.exoplatform.core.version}</version>
+    </dependency>
+    <dependency>
+      <groupId>org.exoplatform.core</groupId>
+      <artifactId>exo.core.component.security.core</artifactId>
+      <version>${org.exoplatform.core.version}</version>
+    </dependency>
+    <dependency>
+      <groupId>org.exoplatform.portletcontainer</groupId>
+      <artifactId>exo.pc.component.core</artifactId>
+      <version>${project.version}</version>
+    </dependency>
+    <dependency>
+      <groupId>org.exoplatform.portletcontainer</groupId>
+      <artifactId>exo.pc.component.plugins.pc</artifactId>
+      <version>${project.version}</version>
+    </dependency>
+    <dependency>
+      <groupId>org.codehaus.cargo</groupId>
+      <artifactId>cargo-core-api-container</artifactId>
+      <version>1.0-beta-2</version>
+      <scope>provided</scope>
+    </dependency>
+    <dependency>
+      <groupId>org.codehaus.cargo</groupId>
+      <artifactId>cargo-core-api-generic</artifactId>
+      <version>1.0-beta-2</version>
+      <scope>provided</scope>
+    </dependency>
+    <dependency>
+      <groupId>org.codehaus.cargo</groupId>
+      <artifactId>cargo-core-container-tomcat</artifactId>
+      <version>1.0-beta-2</version>
+      <scope>provided</scope>
+    </dependency>
+    <!-- ************************ soap ************************ -->
+    <dependency>
+      <groupId>axis</groupId>
+      <artifactId>axis</artifactId>
+      <version>1.4-0231</version>
+    </dependency>
+    <dependency>
+      <groupId>wsdl4j</groupId>
+      <artifactId>wsdl4j</artifactId>
+      <version>1.5.1</version>
+    </dependency>
+    <dependency>
+      <groupId>commons-discovery</groupId>
+      <artifactId>commons-discovery</artifactId>
+      <version>0.2</version>
+    </dependency>
+    <dependency>
+      <groupId>commons-logging</groupId>
+      <artifactId>commons-logging</artifactId>
+      <version>1.0</version>
+    </dependency>
+    <dependency>
+      <groupId>org.exoplatform.tool</groupId>
+      <artifactId>exo.tool.framework.junit</artifactId>
+      <version>1.0.0</version>
+      <scope>test</scope>
+    </dependency>
+    <dependency>
+      <groupId>javax.servlet</groupId>
+      <artifactId>servlet-api</artifactId>
+      <version>2.3</version>
+      <scope>provided</scope>
+    </dependency>
+    <dependency>
+      <groupId>junit</groupId>
+      <artifactId>junit</artifactId>
+      <version>3.8.1</version>
+    </dependency>
+    <dependency>
+      <groupId>xpp3</groupId>
+      <artifactId>xpp3</artifactId>
+      <version>1.1.3.4.O</version>
+    </dependency>
+    <dependency>
+      <groupId>org.apache.axis</groupId>
+      <artifactId>axis-jaxrpc</artifactId>
+      <version>1.4</version>
+    </dependency>
+    <dependency>
+      <groupId>org.hibernate</groupId>
+      <artifactId>hibernate</artifactId>
+      <version>3.1.2</version>
+    </dependency>
+    <dependency>
+      <groupId>jtidy</groupId>
+      <artifactId>jtidy</artifactId>
+      <version>4aug2000r7-dev</version>
+    </dependency>
+    <dependency>
+      <groupId>commons-lang</groupId>
+      <artifactId>commons-lang</artifactId>
+      <version>2.3</version>
+    </dependency>
+    <dependency>
+      <groupId>javax.portlet</groupId>
+      <artifactId>portlet-api</artifactId>
+      <version>2.0</version>
+    </dependency>
+  </dependencies>
+  
+  <profiles>
+    <profile>
+      <id>cargo</id>
+      <activation>
+        <activeByDefault>false</activeByDefault>
+      </activation>
+      <dependencies>
+
+        <dependency>
+          <groupId>org.exoplatform.kernel</groupId>
+          <artifactId>exo.kernel.commons</artifactId>
+          <version>${org.exoplatform.kernel.version}</version>
+          <scope>compile</scope>
+        </dependency>
+
+        <dependency>
+          <groupId>org.exoplatform.kernel</groupId>
+          <artifactId>exo.kernel.container</artifactId>
+          <version>${org.exoplatform.kernel.version}</version>
+          <scope>compile</scope>
+        </dependency>
+
+        <dependency>
+          <groupId>org.exoplatform.kernel</groupId>
+          <artifactId>exo.kernel.component.common</artifactId>
+          <version>${org.exoplatform.kernel.version}</version>
+        </dependency>
+
+        <dependency>
+          <groupId>org.exoplatform.kernel</groupId>
+          <artifactId>exo.kernel.component.cache</artifactId>
+          <version>${org.exoplatform.kernel.version}</version>
+        </dependency>
+
+        <dependency>
+          <groupId>org.exoplatform.core</groupId>
+          <artifactId>exo.core.component.organization.api</artifactId>
+          <version>${org.exoplatform.core.version}</version>
+        </dependency>
+
+        <dependency>
+          <groupId>org.exoplatform.core</groupId>
+          <artifactId>exo.core.component.organization.jdbc</artifactId>
+          <version>${org.exoplatform.core.version}</version>
+        </dependency>
+
+        <dependency>
+          <groupId>org.exoplatform.core</groupId>
+          <artifactId>exo.core.component.database</artifactId>
+          <version>${org.exoplatform.core.version}</version>
+        </dependency>
+
+        <dependency>
+          <groupId>org.exoplatform.core</groupId>
+          <artifactId>exo.core.component.resources.api</artifactId>
+          <version>${org.exoplatform.core.version}</version>
+        </dependency>
+
+        <dependency>
+          <groupId>org.exoplatform.core</groupId>
+          <artifactId>exo.core.component.security.core</artifactId>
+          <version>${org.exoplatform.core.version}</version>
+        </dependency>
+
+        <dependency>
+          <groupId>org.exoplatform.portletcontainer</groupId>
+          <artifactId>exo.pc.component.core</artifactId>
+          <version>${project.version}</version>
+        </dependency>
+
+        <dependency>
+          <groupId>org.exoplatform.portletcontainer</groupId>
+          <artifactId>exo.pc.component.plugins.pc</artifactId>
+          <version>${project.version}</version>
+        </dependency>
+
+        <dependency>
+          <groupId>org.codehaus.cargo</groupId>
+          <artifactId>cargo-core-api-container</artifactId>
+          <version>0.9</version>
+        </dependency>
+
+        <dependency>
+          <groupId>org.codehaus.cargo</groupId>
+          <artifactId>cargo-core-api-generic</artifactId>
+          <version>0.9</version>
+        </dependency>
+
+        <dependency>
+          <groupId>org.codehaus.cargo</groupId>
+          <artifactId>cargo-core-container-tomcat</artifactId>
+          <version>0.9</version>
+        </dependency>
+
+        <!-- ************************ soap ************************ -->
+
+        <dependency>
+          <groupId>axis</groupId>
+          <artifactId>axis</artifactId>
+          <version>1.4-0231</version>
+        </dependency>
+
+        <dependency>
+          <groupId>wsdl4j</groupId>
+          <artifactId>wsdl4j</artifactId>
+          <version>1.5.1</version>
+        </dependency>
+
+        <dependency>
+          <groupId>commons-discovery</groupId>
+          <artifactId>commons-discovery</artifactId>
+          <version>0.2</version>
+        </dependency>
+
+      </dependencies>
+      
+      <properties>
+        <src.gen.dir>${basedir}/target/generated</src.gen.dir>
+        <war.dir>${basedir}/war_template</war.dir>
+      </properties>
+
+      <build>
+
+        <resources>
+          <resource>
+            <directory>target/generated</directory>
+            <includes>
+              <include>**/*.wsdd</include>
+            </includes>
+          </resource>
+          <resource>
+            <directory>src/main/resources</directory>
+            <includes>
+              <include>**/*.xml</include>
+            </includes>
+          </resource>
+        </resources>
+
+        <plugins>
+
+          <plugin>
+            <groupId>org.apache.maven.plugins</groupId>
+            <artifactId>maven-antrun-plugin</artifactId>
+            <version>1.3</version>
+            <executions>
+              <execution>
+                <id>0</id>
+                <phase>generate-sources</phase>
+                <configuration>
+                  <tasks if="settings.activeProxy.host">
+                    <echo>=== PROXY === [${settings.activeProxy.host}:${settings.activeProxy.port}] ===</echo>
+
+                    <property name="activeProxy.host" value="${settings.activeProxy.host}" />
+                    <property name="activeProxy.port" value="${settings.activeProxy.port}" />
+                    <property name="activeProxy.user" value="${settings.activeProxy.username}" />
+                    <property name="activeProxy.password" value="${settings.activeProxy.password}" />
+                    <property name="activeProxy.nonProxyHosts" value="${settings.activeProxy.nonProxyHosts}" />
+
+                    <taskdef name="setproxy" classname="org.apache.tools.ant.taskdefs.optional.net.SetProxy" />
+                    <setproxy proxyhost="${settings.activeProxy.host}" proxyport="${settings.activeProxy.port}" proxypassword="${settings.activeProxy.password}" proxyuser="${settings.activeProxy.username}"
+                      nonproxyhosts="${settings.activeProxy.nonProxyHosts}" />
+
+                    <mkdir dir="${src.gen.dir}" />
+                    <java fork="yes" dir="wsdl" classname="org.apache.axis.wsdl.WSDL2Java">
+    <!--                  <sysproperty key="proxySet" value="" />-->
+    <!--                  <sysproperty key="proxyHost" value="${exo.proxy.host}" />-->
+    <!--                  <sysproperty key="proxyPort" value="${exo.proxy.port}" />-->
+                      <arg
+                        line="-v -t -O -1 -a --server-side --deployScope 'Application' -W -o ${src.gen.dir} wsrp_service.wsdl" />
+                      <classpath refid="maven.dependency.classpath" />
+                    </java>
+                    <delete
+                      file="${src.gen.dir}/org/exoplatform/services/wsrp/bind/WSRP_v1_ServiceDescription_Binding_SOAPImpl.java" />
+                    <delete
+                      file="${src.gen.dir}/org/exoplatform/services/wsrp/bind/WSRP_v1_Registration_Binding_SOAPImpl.java" />
+                    <delete file="${src.gen.dir}/org/exoplatform/services/wsrp/bind/WSRP_v1_Markup_Binding_SOAPImpl.java" />
+                    <delete
+                      file="${src.gen.dir}/org/exoplatform/services/wsrp/bind/WSRP_v1_PortletManagement_Binding_SOAPImpl.java" />
+                  </tasks>
+                  <sourceRoot>${src.gen.dir}</sourceRoot>
+                </configuration>
+                <goals>
+                  <goal>run</goal>
+                </goals>
+              </execution>
+              <execution>
+                <id>1</id>
+                <phase>generate-sources</phase>
+                <configuration>
+                  <tasks if="${settings.activeProxy.host}">
+                    <echo>=== NON-PROXY ===</echo>
+                    <mkdir dir="${src.gen.dir}" />
+                    <java fork="yes" dir="wsdl" classname="org.apache.axis.wsdl.WSDL2Java">
+                      <arg
+                        line="-v -t -O -1 -a --server-side --deployScope 'Application' -W -o ${src.gen.dir} wsrp_service.wsdl" />
+                      <classpath refid="maven.dependency.classpath" />
+                    </java>
+                    <delete
+                      file="${src.gen.dir}/org/exoplatform/services/wsrp/bind/WSRP_v1_ServiceDescription_Binding_SOAPImpl.java" />
+                    <delete
+                      file="${src.gen.dir}/org/exoplatform/services/wsrp/bind/WSRP_v1_Registration_Binding_SOAPImpl.java" />
+                    <delete file="${src.gen.dir}/org/exoplatform/services/wsrp/bind/WSRP_v1_Markup_Binding_SOAPImpl.java" />
+                    <delete
+                      file="${src.gen.dir}/org/exoplatform/services/wsrp/bind/WSRP_v1_PortletManagement_Binding_SOAPImpl.java" />
+                  </tasks>
+                  <sourceRoot>${src.gen.dir}</sourceRoot>
+                </configuration>
+                <goals>
+                  <goal>run</goal>
+                </goals>
+              </execution>
+              <execution>
+                <id>2</id>
+                <phase>compile</phase>
+                <configuration>
+                  <tasks>
+                    <taskdef name="hibernatedoclet" classname="xdoclet.modules.hibernate.HibernateDocletTask"
+                      classpathref="maven.compile.classpath" />
+                    <hibernatedoclet destdir="${basedir}/target/classes" excludedtags="@version,@author,@todo"
+                      mergedir="target/classes" force="true" verbose="false">
+                      <fileset dir="${basedir}/src/main/java">
+                        <include name="org/exoplatform/services/wsrp/consumer/impl/WSRP1ProducerData.java" />
+                        <include name="org/exoplatform/services/wsrp/producer/impl/WSRP1StateData.java" />
+                        <!--                        <include name="**/*.java" />-->
+                      </fileset>
+                      <hibernate version="3.0" />
+                    </hibernatedoclet>
+                  </tasks>
+                </configuration>
+                <goals>
+                  <goal>run</goal>
+                </goals>
+              </execution>
+              <execution>
+                <id>3</id>
+                <phase>generate-test-sources</phase>
+                <configuration>
+                  <tasks>
+                    <mkdir dir="${basedir}/target/test-classes/" />
+                    <copy todir="${basedir}/target/test-classes/">
+                      <fileset dir="${basedir}/war_template/src">
+                        <include name="**/*.properties" />
+                        <include name="**/*.xml" />
+                      </fileset>
+                    </copy>
+                    <javac fork="true" srcdir="${basedir}/war_template/src" destdir="${basedir}/target/test-classes/"
+                      debug="${maven.compile.debug}" deprecation="${maven.compile.deprecation}"
+                      optimize="${maven.compile.optimize}">
+                      <classpath>
+                        <path refid="maven.dependency.classpath" />
+                        <pathelement path="${maven.build.dest}" />
+                      </classpath>
+                    </javac>
+                  </tasks>
+                </configuration>
+                <goals>
+                  <goal>run</goal>
+                </goals>
+              </execution>
+
+              <execution>
+                <id>4</id>
+                <phase>generate-test-sources</phase>
+                <configuration>
+                  <tasks>
+                    <war destfile="target/hello.war" webxml="war_template/WEB-INF/web.xml">
+                      <classes dir="target/test-classes">
+                        <exclude name="wsrp/**/*" />
+                      </classes>
+                      <zipfileset dir="war_template/WEB-INF" includes="**/*" prefix="WEB-INF" />
+                      <!-- zipfileset dir="war_template/WEB-INF" includes="conf**/*" prefix="WEB-INF/classes" / -->
+                    </war>
+                  </tasks>
+                </configuration>
+                <goals>
+                  <goal>run</goal>
+                </goals>
+              </execution>
+
+              <execution>
+                <id>5</id>
+                <phase>generate-test-sources</phase>
+                <configuration>
+                  <tasks>
+                    <jar destfile="${project.build.directory}/test/exo.pc.component.plugins.wsrp1.jar"
+                      basedir="target/classes" />
+                  </tasks>
+                </configuration>
+                <goals>
+                  <goal>run</goal>
+                </goals>
+              </execution>
+            </executions>
+            <dependencies>
+              <dependency>
+                <groupId>ant</groupId>
+                <artifactId>ant-nodeps</artifactId>
+                <version>1.6.5</version>
+              </dependency>
+            </dependencies>
+          </plugin>
+
+          <plugin>
+            <groupId>org.apache.maven.plugins</groupId>
+            <artifactId>maven-dependency-plugin</artifactId>
+            <executions>
+              <execution>
+                <id>copy</id>
+                <phase>generate-test-sources</phase>
+                <goals>
+                  <goal>copy-dependencies</goal>
+                </goals>
+                <configuration>
+                  <useRepositoryLayout>false</useRepositoryLayout>
+                  <excludeTransitive>false</excludeTransitive>
+                  <excludeGroupIds>xerces</excludeGroupIds>
+                  <outputDirectory>${project.build.directory}/test</outputDirectory>
+                </configuration>
+              </execution>
+            </executions>
+          </plugin>
+
+          <plugin>
+            <groupId>org.apache.maven.plugins</groupId>
+            <artifactId>maven-surefire-plugin</artifactId>
+            <configuration>
+              <systemProperties>
+                <property>
+                  <name>testPath</name>
+                  <value>${basedir}</value>
+                </property>
+                <property>
+                  <name>mock.portal.dir</name>
+                  <value>${war.dir}</value>
+                </property>
+                <property>
+                  <name>maven.exoplatform.dir</name>
+                  <value>${war.dir}</value>
+                </property>
+                <property>
+                  <name>exo.test.cargo.skip</name>
+                  <value>${exo.test.cargo.skip}</value>
+                </property>
+              </systemProperties>
+              <includes>
+                <include>**/AllTestsPortlet.java</include>
+                <!--            <include>**/SuiteForTestProducer.java</include>-->
+                <!--            <include>**/SuiteForTestConsumer.java</include>-->
+                <!--            <include>**/TestPerformBlockingInteraction.java</include>-->
+                <!-- include>**/Test*.java</include -->
+              </includes>
+            </configuration>
+          </plugin>
+        </plugins>
+      </build>
+    </profile>
+    
+    <profile>
+      <id>nocargo</id>
+      <activation>
+        <activeByDefault>false</activeByDefault>
+      </activation>
+          
+      <dependencies>
+
+        <dependency>
+          <groupId>org.exoplatform.kernel</groupId>
+          <artifactId>exo.kernel.commons</artifactId>
+          <version>${org.exoplatform.kernel.version}</version>
+          <scope>compile</scope>
+        </dependency>
+
+        <dependency>
+          <groupId>org.exoplatform.kernel</groupId>
+          <artifactId>exo.kernel.container</artifactId>
+          <version>${org.exoplatform.kernel.version}</version>
+          <scope>compile</scope>
+        </dependency>
+
+        <dependency>
+          <groupId>org.exoplatform.kernel</groupId>
+          <artifactId>exo.kernel.component.common</artifactId>
+          <version>${org.exoplatform.kernel.version}</version>
+        </dependency>
+
+        <dependency>
+          <groupId>org.exoplatform.kernel</groupId>
+          <artifactId>exo.kernel.component.cache</artifactId>
+          <version>${org.exoplatform.kernel.version}</version>
+        </dependency>
+
+        <dependency>
+          <groupId>org.exoplatform.core</groupId>
+          <artifactId>exo.core.component.organization.api</artifactId>
+          <version>${org.exoplatform.core.version}</version>
+        </dependency>
+
+        <dependency>
+          <groupId>org.exoplatform.core</groupId>
+          <artifactId>exo.core.component.organization.jdbc</artifactId>
+          <version>${org.exoplatform.core.version}</version>
+        </dependency>
+
+        <dependency>
+          <groupId>org.exoplatform.core</groupId>
+          <artifactId>exo.core.component.database</artifactId>
+          <version>${org.exoplatform.core.version}</version>
+        </dependency>
+
+        <dependency>
+          <groupId>org.exoplatform.core</groupId>
+          <artifactId>exo.core.component.resources.api</artifactId>
+          <version>${org.exoplatform.core.version}</version>
+        </dependency>
+
+        <dependency>
+          <groupId>org.exoplatform.core</groupId>
+          <artifactId>exo.core.component.security.core</artifactId>
+          <version>${org.exoplatform.core.version}</version>
+        </dependency>
+
+        <dependency>
+          <groupId>org.exoplatform.portletcontainer</groupId>
+          <artifactId>exo.pc.component.core</artifactId>
+          <version>${project.version}</version>
+        </dependency>
+
+        <dependency>
+          <groupId>org.exoplatform.portletcontainer</groupId>
+          <artifactId>exo.pc.component.plugins.pc</artifactId>
+          <version>${project.version}</version>
+        </dependency>
+
+        <dependency>
+          <groupId>org.codehaus.cargo</groupId>
+          <artifactId>cargo-core-api-container</artifactId>
+          <version>0.9</version>
+        </dependency>
+
+        <dependency>
+          <groupId>org.codehaus.cargo</groupId>
+          <artifactId>cargo-core-api-generic</artifactId>
+          <version>0.9</version>
+        </dependency>
+
+        <dependency>
+          <groupId>org.codehaus.cargo</groupId>
+          <artifactId>cargo-core-container-tomcat</artifactId>
+          <version>0.9</version>
+        </dependency>
+
+
+        <!-- ************************ soap ************************ -->
+
+        <dependency>
+          <groupId>axis</groupId>
+          <artifactId>axis</artifactId>
+          <version>1.4-0231</version>
+        </dependency>
+
+        <dependency>
+          <groupId>wsdl4j</groupId>
+          <artifactId>wsdl4j</artifactId>
+          <version>1.5.1</version>
+        </dependency>
+
+        <dependency>
+          <groupId>commons-discovery</groupId>
+          <artifactId>commons-discovery</artifactId>
+          <version>0.2</version>
+        </dependency>
+
+
+      </dependencies>
+
+      <properties>
+        <src.gen.dir>${basedir}/target/generated</src.gen.dir>
+        <war.dir>${basedir}/war_template</war.dir>
+      </properties>
+
+
+      <build>
+
+        <resources>
+          <resource>
+            <directory>target/generated</directory>
+            <includes>
+              <include>**/*.wsdd</include>
+            </includes>
+          </resource>
+          <resource>
+            <directory>src/main/resources</directory>
+            <includes>
+              <include>**/*.xml</include>
+            </includes>
+          </resource>
+        </resources>
+
+        <plugins>
+
+          <plugin>
+            <groupId>org.apache.maven.plugins</groupId>
+            <artifactId>maven-antrun-plugin</artifactId>
+            <version>1.3</version>
+            <executions>
+              <execution>
+                <id>0</id>
+                <phase>generate-sources</phase>
+                <configuration>
+                  <tasks if="settings.activeProxy.host">
+                    <echo>=== PROXY === [${settings.activeProxy.host}:${settings.activeProxy.port}] ===</echo>
+
+                    <property name="activeProxy.host" value="${settings.activeProxy.host}" />
+                    <property name="activeProxy.port" value="${settings.activeProxy.port}" />
+                    <property name="activeProxy.user" value="${settings.activeProxy.username}" />
+                    <property name="activeProxy.password" value="${settings.activeProxy.password}" />
+                    <property name="activeProxy.nonProxyHosts" value="${settings.activeProxy.nonProxyHosts}" />
+
+                    <taskdef name="setproxy" classname="org.apache.tools.ant.taskdefs.optional.net.SetProxy" />
+                    <setproxy proxyhost="${settings.activeProxy.host}" proxyport="${settings.activeProxy.port}" proxypassword="${settings.activeProxy.password}" proxyuser="${settings.activeProxy.username}"
+                      nonproxyhosts="${settings.activeProxy.nonProxyHosts}" />
+
+                    <mkdir dir="${src.gen.dir}" />
+                    <java fork="yes" dir="wsdl" classname="org.apache.axis.wsdl.WSDL2Java">
+    <!--                  <sysproperty key="proxySet" value="" />-->
+    <!--                  <sysproperty key="proxyHost" value="${exo.proxy.host}" />-->
+    <!--                  <sysproperty key="proxyPort" value="${exo.proxy.port}" />-->
+                      <arg line="-v -t -O -1 -a --server-side --deployScope 'Application' -W -o ${src.gen.dir} wsrp_service.wsdl" />
+                      <classpath refid="maven.dependency.classpath" />
+                    </java>
+                    <delete file="${src.gen.dir}/org/exoplatform/services/wsrp/bind/WSRP_v1_ServiceDescription_Binding_SOAPImpl.java" />
+                    <delete file="${src.gen.dir}/org/exoplatform/services/wsrp/bind/WSRP_v1_Registration_Binding_SOAPImpl.java" />
+                    <delete file="${src.gen.dir}/org/exoplatform/services/wsrp/bind/WSRP_v1_Markup_Binding_SOAPImpl.java" />
+                    <delete file="${src.gen.dir}/org/exoplatform/services/wsrp/bind/WSRP_v1_PortletManagement_Binding_SOAPImpl.java" />
+                  </tasks>
+                  <sourceRoot>${src.gen.dir}</sourceRoot>
+                </configuration>
+                <goals>
+                  <goal>run</goal>
+                </goals>
+              </execution>
+              <execution>
+                <id>1</id>
+                <phase>generate-sources</phase>
+                <configuration>
+                  <tasks if="${settings.activeProxy.host}">
+                    <echo>=== NON-PROXY ===</echo>
+                    <mkdir dir="${src.gen.dir}" />
+                    <java fork="yes" dir="wsdl" classname="org.apache.axis.wsdl.WSDL2Java">
+                      <arg line="-v -t -O -1 -a --server-side --deployScope 'Application' -W -o ${src.gen.dir} wsrp_service.wsdl" />
+                      <classpath refid="maven.dependency.classpath" />
+                    </java>
+                    <delete file="${src.gen.dir}/org/exoplatform/services/wsrp/bind/WSRP_v1_ServiceDescription_Binding_SOAPImpl.java" />
+                    <delete file="${src.gen.dir}/org/exoplatform/services/wsrp/bind/WSRP_v1_Registration_Binding_SOAPImpl.java" />
+                    <delete file="${src.gen.dir}/org/exoplatform/services/wsrp/bind/WSRP_v1_Markup_Binding_SOAPImpl.java" />
+                    <delete file="${src.gen.dir}/org/exoplatform/services/wsrp/bind/WSRP_v1_PortletManagement_Binding_SOAPImpl.java" />
+                  </tasks>
+                  <sourceRoot>${src.gen.dir}</sourceRoot>
+                </configuration>
+                <goals>
+                  <goal>run</goal>
+                </goals>
+              </execution>
+              <execution>
+                <id>2</id>
+                <phase>compile</phase>
+                <configuration>
+                  <tasks>
+                    <taskdef name="hibernatedoclet" classname="xdoclet.modules.hibernate.HibernateDocletTask" classpathref="maven.compile.classpath" />
+                    <hibernatedoclet destdir="${basedir}/target/classes" excludedtags="@version,@author,@todo" mergedir="target/classes" force="true"
+                      verbose="false">
+                      <fileset dir="${basedir}/src/main/java">
+                        <include name="org/exoplatform/services/wsrp/consumer/impl/WSRP1ProducerData.java" />
+                        <include name="org/exoplatform/services/wsrp/producer/impl/WSRP1StateData.java" />
+                      </fileset>
+                      <hibernate version="3.0" />
+                    </hibernatedoclet>
+                  </tasks>
+                </configuration>
+                <goals>
+                  <goal>run</goal>
+                </goals>
+              </execution>
+              <execution>
+                <id>3</id>
+                <phase>generate-test-sources</phase>
+                <configuration>
+                  <tasks>
+                    <mkdir dir="${basedir}/target/test-classes/" />
+                    <copy todir="${basedir}/target/test-classes/">
+                      <fileset dir="${basedir}/war_template/src">
+                        <include name="**/*.properties" />
+                        <include name="**/*.xml" />
+                      </fileset>
+                    </copy>
+                    <javac fork="true" srcdir="${basedir}/war_template/src" destdir="${basedir}/target/test-classes/" debug="${maven.compile.debug}"
+                      deprecation="${maven.compile.deprecation}" optimize="${maven.compile.optimize}">
+                      <classpath>
+                        <path refid="maven.dependency.classpath" />
+                        <pathelement path="${maven.build.dest}" />
+                      </classpath>
+                    </javac>
+                  </tasks>
+                </configuration>
+                <goals>
+                  <goal>run</goal>
+                </goals>
+              </execution>
+
+              <execution>
+                <id>4</id>
+                <phase>generate-test-sources</phase>
+                <configuration>
+                  <tasks>
+                    <war destfile="target/hello.war" webxml="war_template/WEB-INF/web.xml">
+                      <classes dir="target/test-classes">
+                        <exclude name="wsrp/**/*" />
+                      </classes>
+                      <zipfileset dir="war_template/WEB-INF" includes="**/*" prefix="WEB-INF" />
+                      <!-- zipfileset dir="war_template/WEB-INF" includes="conf**/*" prefix="WEB-INF/classes" / -->
+                    </war>
+                  </tasks>
+                </configuration>
+                <goals>
+                  <goal>run</goal>
+                </goals>
+              </execution>
+            </executions>
+            <dependencies>
+              <dependency>
+                <groupId>ant</groupId>
+                <artifactId>ant-nodeps</artifactId>
+                <version>1.6.5</version>
+              </dependency>
+            </dependencies>
+          </plugin>
+
+          <plugin>
+            <groupId>org.apache.maven.plugins</groupId>
+            <artifactId>maven-surefire-plugin</artifactId>
+            <configuration>
+              <systemProperties>
+                <property>
+                  <name>testPath</name>
+                  <value>${basedir}</value>
+                </property>
+                <property>
+                  <name>mock.portal.dir</name>
+                  <value>${war.dir}</value>
+                </property>
+                <property>
+                  <name>maven.exoplatform.dir</name>
+                  <value>${war.dir}</value>
+                </property>
+                <property>
+                  <name>exo.test.cargo.skip</name>
+                  <value>${exo.test.cargo.skip}</value>
+                </property>
+              </systemProperties>
+              <includes>
+                <include>**/AllTestsPortlet.java</include>
+                <!--            <include>**/SuiteForTestProducer.java</include>-->
+                <!--            <include>**/SuiteForTestConsumer.java</include>-->
+                <!--            <include>**/TestPerformBlockingInteraction.java</include>-->
+                <!-- include>**/Test*.java</include -->
+              </includes>
+            </configuration>
+          </plugin>
+
+        </plugins>
+
+      </build>
+    </profile>
+    
+    
+    <profile>
+      <id>axis1</id>
+      <activation>
+        <activeByDefault>false</activeByDefault>
+      </activation>
+      <repositories>
+        <repository>
+          <id>maven.org</id>
+          <name>maven.org repository</name>
+          <url>http://repo1.maven.org/maven2</url>
+          <layout>default</layout>
+        </repository>
+      </repositories>
+
+      <dependencies>
+
+        <dependency>
+          <groupId>org.exoplatform.kernel</groupId>
+          <artifactId>exo.kernel.commons</artifactId>
+          <version>${org.exoplatform.kernel.version}</version>
+          <scope>compile</scope>
+        </dependency>
+
+        <dependency>
+          <groupId>org.exoplatform.kernel</groupId>
+          <artifactId>exo.kernel.container</artifactId>
+          <version>${org.exoplatform.kernel.version}</version>
+          <scope>compile</scope>
+        </dependency>
+        
+        <dependency>
+          <groupId>org.exoplatform.kernel</groupId>
+          <artifactId>exo.kernel.component.cache</artifactId>
+          <version>${org.exoplatform.kernel.version}</version>
+        </dependency>
+
+        <dependency>
+          <groupId>org.exoplatform.core</groupId>
+          <artifactId>exo.core.component.xml-processing</artifactId>
+          <version>${org.exoplatform.core.version}</version>
+          <scope>compile</scope>
+        </dependency>
+
+        <dependency>
+          <groupId>org.exoplatform.core</groupId>
+          <artifactId>exo.core.component.organization.api</artifactId>
+          <version>${org.exoplatform.core.version}</version>
+        </dependency>
+
+<!--        <dependency>-->
+<!--          <groupId>org.exoplatform.core</groupId>-->
+<!--          <artifactId>exo.core.component.common</artifactId>-->
+<!--          <version>${org.exoplatform.core.version}</version>-->
+<!--        </dependency>-->
+
+        <dependency>
+          <groupId>org.exoplatform.core</groupId>
+          <artifactId>exo.core.component.database</artifactId>
+          <version>${org.exoplatform.core.version}</version>
+        </dependency>
+
+        <dependency>
+          <groupId>org.exoplatform.core</groupId>
+          <artifactId>exo.core.component.resources.api</artifactId>
+          <version>${org.exoplatform.core.version}</version>
+        </dependency>
+
+        <dependency>
+          <groupId>org.exoplatform.core</groupId>
+          <artifactId>exo.core.component.organization.jdbc</artifactId>
+          <version>${org.exoplatform.core.version}</version>
+        </dependency>
+
+        <dependency>
+           <groupId>org.exoplatform.portletcontainer</groupId>
+           <artifactId>exo.pc.component.core</artifactId>
+           <version>${project.version}</version>
+        </dependency>
+
+        <dependency>
+          <groupId>org.exoplatform.portletcontainer</groupId>
+          <artifactId>exo.pc.component.plugins.pc</artifactId>
+          <version>${project.version}</version>
+        </dependency>
+
+        <!-- ************************ soap ************************ -->
+
+        <dependency>
+          <groupId>axis</groupId>
+          <artifactId>axis</artifactId>
+          <version>1.4</version>
+          <!-- version>1.2-RC1</version -->
+        </dependency>
+        
+        <dependency>
+          <groupId>wsdl4j</groupId>
+          <artifactId>wsdl4j</artifactId>
+          <version>1.4</version>
+        </dependency>
+        
+        <dependency>
+          <groupId>soap</groupId>
+          <artifactId>soap</artifactId>
+          <version>2.3</version>
+        </dependency>
+        
+        <dependency>
+          <groupId>javax.xml</groupId>
+          <artifactId>saaj-api</artifactId>
+          <version>1.1</version>
+        </dependency>
+        
+        <dependency>
+          <groupId>commons-discovery</groupId>
+          <artifactId>commons-discovery</artifactId>
+          <version>0.2</version>
+        </dependency>
+
+        <dependency>
+          <groupId>javax.xml</groupId>
+          <artifactId>jaxrpc-api</artifactId>
+          <version>1.1</version>
+        </dependency>
+
+        <dependency>
+          <groupId>jtidy</groupId>
+          <artifactId>jtidy</artifactId>
+          <version>4aug2000r7-dev</version>
+        </dependency>
+        
+
+      </dependencies>
+
+      <properties>
+        <src.gen.dir>${basedir}/target/generated</src.gen.dir>
+        <war.dir>${basedir}/war_template</war.dir>
+      </properties>
+
+      <build>
+      
+        <resources>
+          <resource>
+            <directory>target/generated</directory>
+            <includes>
+              <include>**/*.wsdd</include>
+            </includes>
+          </resource>
+        </resources>
+
+        <plugins>
+        
+        
+          <plugin>
+            <artifactId>maven-antrun-plugin</artifactId>
+            <executions>
+				      <execution>
+				        <id>0</id>
+				        <phase>generate-sources</phase>
+				        <configuration>
+                  <tasks if="exo.proxy.host">
+                    <echo>=== PROXY === ${exo.proxy.host}:${exo.proxy.port}</echo>
+				            <mkdir dir="${src.gen.dir}" />
+				            <java fork="yes" dir="wsdl" classname="org.apache.axis.wsdl.WSDL2Java">
+                      <sysproperty key="proxySet" value="" />
+                      <sysproperty key="proxyHost" value="${exo.proxy.host}" />
+                      <sysproperty key="proxyPort" value="${exo.proxy.port}" />
+                      <arg line="-v -t -O -1 -a --server-side --deployScope 'Application' -W -o ${src.gen.dir} wsrp_service.wsdl" />
+				      			  <classpath refid="maven.dependency.classpath" />
+				          	</java>
+				          	
+                    <delete file="${src.gen.dir}/org/exoplatform/services/wsrp/bind/WSRP_v1_ServiceDescription_Binding_SOAPImpl.java" />
+                    <delete file="${src.gen.dir}/org/exoplatform/services/wsrp/bind/WSRP_v1_Registration_Binding_SOAPImpl.java" />
+                    <delete file="${src.gen.dir}/org/exoplatform/services/wsrp/bind/WSRP_v1_Markup_Binding_SOAPImpl.java" />
+                    <delete file="${src.gen.dir}/org/exoplatform/services/wsrp/bind/WSRP_v1_PortletManagement_Binding_SOAPImpl.java" />
+				         	</tasks>
+				          <sourceRoot>${src.gen.dir}</sourceRoot>
+				        </configuration>
+				        <goals>
+				          <goal>run</goal>
+				        </goals>
+				      </execution>
+              <execution>
+                <id>1</id>
+                <phase>generate-sources</phase>
+                <configuration>
+                  <tasks if="${exo.proxy.host}">
+                    <echo>=== NON-PROXY ===</echo>
+                    <mkdir dir="${src.gen.dir}" />
+                    <java fork="yes" dir="wsdl" classname="org.apache.axis.wsdl.WSDL2Java">
+                      <arg line="-v -t -O -1 -a --server-side --deployScope 'Application' -W -o ${src.gen.dir} wsrp_service.wsdl" />
+                      <classpath refid="maven.dependency.classpath" />
+                    </java>
+                    
+                    <delete file="${src.gen.dir}/org/exoplatform/services/wsrp/bind/WSRP_v1_ServiceDescription_Binding_SOAPImpl.java" />
+                    <delete file="${src.gen.dir}/org/exoplatform/services/wsrp/bind/WSRP_v1_Registration_Binding_SOAPImpl.java" />
+                    <delete file="${src.gen.dir}/org/exoplatform/services/wsrp/bind/WSRP_v1_Markup_Binding_SOAPImpl.java" />
+                    <delete file="${src.gen.dir}/org/exoplatform/services/wsrp/bind/WSRP_v1_PortletManagement_Binding_SOAPImpl.java" />
+                  </tasks>
+                  <sourceRoot>${src.gen.dir}</sourceRoot>
+                </configuration>
+                <goals>
+                  <goal>run</goal>
+                </goals>
+              </execution>
+              <execution>
+                <id>2</id>
+                <phase>compile</phase>
+                <configuration>
+                  <tasks>
+                    <taskdef name="hibernatedoclet"
+                      classname="xdoclet.modules.hibernate.HibernateDocletTask"
+                      classpathref="maven.compile.classpath"/>
+                    <hibernatedoclet destdir="${basedir}/target/classes"
+                      excludedtags="@version,@author,@todo" mergedir="target/classes"
+                      force="true" verbose="false">
+                      <fileset dir="${basedir}/src/main/java">
+                        <include name="**/*.java"/>
+                      </fileset>
+                      <hibernate version="3.0"/>
+                    </hibernatedoclet>
+                  </tasks>
+                </configuration>
+                <goals>
+                  <goal>run</goal>
+                </goals>
+              </execution>
+              <execution>
+                <id>3</id>
+                <phase>generate-test-sources</phase>
+                <configuration>
+                  <tasks>
+                    <mkdir dir="${basedir}/target/test-classes/"/>
+                    <copy todir="${basedir}/target/test-classes/">
+                      <fileset dir="${basedir}/war_template/src">
+                        <include name="**/*.properties"/>
+                        <include name="**/*.xml"/>
+                      </fileset>
+                    </copy>
+                    <javac fork="true" srcdir="${basedir}/war_template/src" destdir="${basedir}/target/test-classes/"
+                               debug="${maven.compile.debug}"
+                               deprecation="${maven.compile.deprecation}"
+                               optimize="${maven.compile.optimize}">
+                      <classpath>
+                        <path refid="maven.dependency.classpath"/>
+                        <pathelement path="${maven.build.dest}"/>
+                      </classpath>
+                    </javac>
+                  </tasks>
+                </configuration>
+                <goals>
+                  <goal>run</goal>
+                </goals>
+              </execution>
+            </executions>
+          </plugin>
+          
+          <plugin>
+            <groupId>org.apache.maven.plugins</groupId>
+            <artifactId>maven-surefire-plugin</artifactId>
+            <configuration>
+              <systemProperties>
+                <property>
+                  <name>testPath</name>
+                  <value>${basedir}</value>
+                </property>
+                <property>
+                  <name>mock.portal.dir</name>
+                  <value>${war.dir}</value>
+                </property>
+                <property>
+                  <name>maven.exoplatform.dir</name>
+                  <value>${war.dir}</value>
+                </property>
+              </systemProperties>
+              <includes>
+                <include>**/Test*.java</include>
+              </includes>
+              <skip>true</skip>
+            </configuration>
+          </plugin>
+          
+	        <plugin>
+	          <groupId>org.apache.maven.plugins</groupId>
+	          <artifactId>maven-compiler-plugin</artifactId>
+	          <configuration>
+	            <source>1.5</source>
+	            <target>1.5</target>
+	          </configuration>
+	        </plugin>
+	        
+        </plugins>
+        
+      </build>
+    </profile>
+    <profile>
+      <id>axis2</id>
+      <activation>
+        <activeByDefault>false</activeByDefault>
+      </activation>
+      <dependencies>
+
+          <dependency>
+            <groupId>org.exoplatform.kernel</groupId>
+            <artifactId>exo.kernel.commons</artifactId>
+            <version>${org.exoplatform.kernel.version}</version>
+            <scope>compile</scope>
+          </dependency>
+
+          <dependency>
+            <groupId>org.exoplatform.kernel</groupId>
+            <artifactId>exo.kernel.container</artifactId>
+            <version>${org.exoplatform.kernel.version}</version>
+            <scope>compile</scope>
+          </dependency>
+
+          <dependency>
+            <groupId>org.exoplatform.kernel</groupId>
+            <artifactId>exo.kernel.component.cache</artifactId>
+            <version>${org.exoplatform.kernel.version}</version>
+          </dependency>
+
+          <dependency>
+            <groupId>org.exoplatform.core</groupId>
+            <artifactId>exo.core.component.xml-processing</artifactId>
+            <version>${org.exoplatform.core.version}</version>
+            <scope>compile</scope>
+          </dependency>
+
+          <dependency>
+            <groupId>org.exoplatform.core</groupId>
+            <artifactId>exo.core.component.organization.api</artifactId>
+            <version>${org.exoplatform.core.version}</version>
+          </dependency>
+
+<!--          <dependency>-->
+<!--            <groupId>org.exoplatform.core</groupId>-->
+<!--            <artifactId>exo.core.component.common</artifactId>-->
+<!--            <version>${org.exoplatform.core.versionn}</version>-->
+<!--          </dependency>-->
+
+          <dependency>
+            <groupId>org.exoplatform.core</groupId>
+            <artifactId>exo.core.component.database</artifactId>
+            <version>${org.exoplatform.core.version}</version>
+          </dependency>
+
+          <dependency>
+            <groupId>org.exoplatform.core</groupId>
+            <artifactId>exo.core.component.resources.api</artifactId>
+            <version>${org.exoplatform.core.version}</version>
+          </dependency>
+
+          <dependency>
+            <groupId>org.exoplatform.core</groupId>
+            <artifactId>exo.core.component.organization.jdbc</artifactId>
+            <version>${org.exoplatform.core.version}</version>
+          </dependency>
+
+          <dependency>
+            <groupId>org.exoplatform.portletcontainer</groupId>
+            <artifactId>exo.pc.component.core</artifactId>
+            <version>${project.version}</version>
+          </dependency>
+
+          <dependency>
+            <groupId>org.exoplatform.portletcontainer</groupId>
+            <artifactId>exo.pc.component.plugins.pc</artifactId>
+            <version>${project.version}</version>
+          </dependency>
+
+          <!-- ************************ soap ************************ -->
+
+          <dependency>
+            <groupId>org.apache.axis2</groupId>
+            <artifactId>axis2</artifactId>
+            <version>SNAPSHOT</version>
+          </dependency>
+          <dependency>
+            <groupId>org.apache.axis2</groupId>
+            <artifactId>axis2-codegen</artifactId>
+            <version>SNAPSHOT</version>
+          </dependency>
+          <dependency>
+            <groupId>org.apache.axis2</groupId>
+            <artifactId>axis2-kernel</artifactId>
+            <version>SNAPSHOT</version>
+          </dependency>
+          <dependency>
+            <groupId>org.apache.axis2.maven2</groupId>
+            <artifactId>axis2-wsdl2code-maven-plugin</artifactId>
+            <version>1.1</version>
+          </dependency>
+          <dependency>
+            <groupId>org.apache.axis2.maven2</groupId>
+            <artifactId>axis2-aar-maven-plugin</artifactId>
+            <version>1.1</version>
+          </dependency>
+          <dependency>
+            <groupId>org.apache.ws.commons.neethi</groupId>
+            <artifactId>neethi</artifactId>
+            <version>2.0</version>
+          </dependency>
+          <dependency>
+            <groupId>org.apache.ws.commons</groupId>
+            <artifactId>XmlSchema</artifactId>
+            <version>1.1</version>
+          </dependency>
+          <dependency>
+            <groupId>org.apache.ws.commons.axiom</groupId>
+            <artifactId>axiom</artifactId>
+            <version>1.2.4</version>
+          </dependency>
+
+
+        </dependencies>
+
+        <properties>
+          <war.dir>${basedir}/war_template</war.dir>
+          <src.gen.dir>${basedir}/target/generated</src.gen.dir>
+        </properties>
+
+
+        <build>
+
+          <resources>
+            <resource>
+              <directory>target/generated</directory>
+              <includes>
+                <include>**/*.wsdd</include>
+              </includes>
+            </resource>
+          </resources>
+
+          <plugins>
+
+            <!-- plugin>
+              <groupId>org.apache.axis2.maven2</groupId>
+              <artifactId>axis2-wsdl2code-maven-plugin</artifactId>
+              <configuration>
+              <packageName>org.exoplatform.services.wsrp.bind</packageName>
+              </configuration>
+              <executions>
+              <execution>
+              <goals>
+              <goal>wsdl2code</goal>
+              </goals>
+              </execution>
+              </executions>
+              </plugin -->
+
+            <!-- plugin>
+              <groupId>org.apache.axis2</groupId>
+              <artifactId>axis2-aar-maven-plugin</artifactId>
+              <version>1.2</version>
+              <extensions>true</extensions>
+              <configuration>
+              <servicesXmlFile>target/generated/resources/services.xml</servicesXmlFile>
+              <wsdlFile>wsdl/wsrp_service.wsdl</wsdlFile>
+              <includeDependencies>false</includeDependencies>
+              </configuration>
+              </plugin -->
+
+            <plugin>
+              <artifactId>maven-antrun-plugin</artifactId>
+              <executions>
+                <execution>
+                  <id>0</id>
+                  <phase>generate-sources</phase>
+                  <configuration>
+                    <tasks if="exo.proxy.host">
+                      <echo>=== PROXY === ${exo.proxy.host}:${exo.proxy.port}</echo>
+                      <mkdir dir="${src.gen.dir}" />
+                      <java fork="yes" dir="wsdl" classname="org.apache.axis2.wsdl.WSDL2Java">
+                        <sysproperty key="proxySet" value="" />
+                        <sysproperty key="proxyHost" value="${exo.proxy.host}" />
+                        <sysproperty key="proxyPort" value="${exo.proxy.port}" />
+                        <arg
+                          line="-s -ss -sd -ssi -g -S -R -d none -t -o ${src.gen.dir} -ns2p urn:oasis:names:tc:wsrp:v1:intf=org.exoplatform.services.wsrp.intf,urn:oasis:names:tc:wsrp:v1:types=org.exoplatform.services.wsrp.type,urn:oasis:names:tc:wsrp:v1:bind=org.exoplatform.services.wsrp.bind,urn:oasis:names:tc:wsrp:v1:wsdl=org.exoplatform.services.wsrp.wsdl -p org.exoplatform.services.wsrp.wsdl -uri wsrp_service.wsdl" />
+                        <classpath refid="maven.dependency.classpath" />
+                      </java>
+                    </tasks>
+                    <sourceRoot>${src.gen.dir}</sourceRoot>
+                  </configuration>
+                  <goals>
+                    <goal>run</goal>
+                  </goals>
+                </execution>
+                <execution>
+                  <id>1</id>
+                  <phase>generate-sources</phase>
+                  <configuration>
+                    <tasks if="${exo.proxy.host}">
+                      <echo>=== NON-PROXY ===</echo>
+                      <mkdir dir="${src.gen.dir}" />
+                      <java fork="yes" dir="wsdl" classname="org.apache.axis2.wsdl.WSDL2Java">
+                        <arg
+                          line="-s -ss -sd -ssi -g -S -R -d none -t -o ${src.gen.dir} -ns2p urn:oasis:names:tc:wsrp:v1:intf=org.exoplatform.services.wsrp.intf,urn:oasis:names:tc:wsrp:v1:types=org.exoplatform.services.wsrp.type,urn:oasis:names:tc:wsrp:v1:bind=org.exoplatform.services.wsrp.bind,urn:oasis:names:tc:wsrp:v1:wsdl=org.exoplatform.services.wsrp.wsdl -p org.exoplatform.services.wsrp.wsdl -uri wsrp_service.wsdl" />
+                        <classpath refid="maven.dependency.classpath" />
+                      </java>
+                    </tasks>
+                    <sourceRoot>${src.gen.dir}</sourceRoot>
+                  </configuration>
+                  <goals>
+                    <goal>run</goal>
+                  </goals>
+                </execution>
+                <execution>
+                  <id>2</id>
+                  <phase>compile</phase>
+                  <configuration>
+                    <tasks>
+                      <taskdef name="hibernatedoclet" classname="xdoclet.modules.hibernate.HibernateDocletTask" classpathref="maven.compile.classpath" />
+                      <hibernatedoclet destdir="${basedir}/target/classes" excludedtags="@version,@author,@todo" mergedir="target/classes" force="true"
+                        verbose="false">
+                        <fileset dir="${basedir}/src/main/java">
+                          <include name="**/*.java" />
+                        </fileset>
+                        <hibernate version="3.0" />
+                      </hibernatedoclet>
+                    </tasks>
+                  </configuration>
+                  <goals>
+                    <goal>run</goal>
+                  </goals>
+                </execution>
+                <execution>
+                  <id>3</id>
+                  <phase>generate-test-sources</phase>
+                  <configuration>
+                    <tasks>
+                      <mkdir dir="${basedir}/target/test-classes/" />
+                      <copy todir="${basedir}/target/test-classes/">
+                        <fileset dir="${basedir}/war_template/src">
+                          <include name="**/*.properties" />
+                          <include name="**/*.xml" />
+                        </fileset>
+                      </copy>
+                      <javac fork="true" srcdir="${basedir}/war_template/src" destdir="${basedir}/target/test-classes/" debug="${maven.compile.debug}"
+                        deprecation="${maven.compile.deprecation}" optimize="${maven.compile.optimize}">
+                        <classpath>
+                          <path refid="maven.dependency.classpath" />
+                          <pathelement path="${maven.build.dest}" />
+                        </classpath>
+                      </javac>
+                    </tasks>
+                  </configuration>
+                  <goals>
+                    <goal>run</goal>
+                  </goals>
+                </execution>
+              </executions>
+            </plugin>
+
+            <plugin>
+              <groupId>org.apache.maven.plugins</groupId>
+              <artifactId>maven-surefire-plugin</artifactId>
+              <configuration>
+                <systemProperties>
+                  <property>
+                    <name>testPath</name>
+                    <value>${basedir}</value>
+                  </property>
+                  <property>
+                    <name>mock.portal.dir</name>
+                    <value>${war.dir}</value>
+                  </property>
+                  <property>
+                    <name>maven.exoplatform.dir</name>
+                    <value>${war.dir}</value>
+                  </property>
+                </systemProperties>
+                <includes>
+                  <include>**/Test*.java</include>
+                </includes>
+                <skip>true</skip>
+              </configuration>
+            </plugin>
+
+            <plugin>
+              <groupId>org.apache.maven.plugins</groupId>
+              <artifactId>maven-compiler-plugin</artifactId>
+              <configuration>
+                <source>1.5</source>
+                <target>1.5</target>
+              </configuration>
+            </plugin>
+
+          </plugins>
+
+        </build>
+    </profile>
+
+    <profile>
+      <id>cxf</id>
+      <activation>
+        <activeByDefault>false</activeByDefault>
+      </activation>
+      <repositories>
+        <repository>
+          <id>apache-snapshots</id>
+          <name>Apache SNAPSHOT Repository</name>
+          <url>http://people.apache.org/repo/m2-snapshot-repository/</url>
+          <snapshots>
+            <enabled>true</enabled>
+          </snapshots>
+        </repository>
+        <repository>
+          <id>apache-incubating</id>
+          <name>Apache Incubating Repository</name>
+          <url>http://people.apache.org/repo/m2-incubating-repository/</url>
+        </repository>
+      </repositories>
+      <pluginRepositories>
+        <pluginRepository>
+          <id>apache-plugin-snapshots</id>
+          <name>Apache Maven Plugin Snapshots</name>
+          <url>http://people.apache.org/repo/m2-snapshot-repository</url>
+          <releases>
+            <enabled>false</enabled>
+          </releases>
+          <snapshots>
+            <enabled>true</enabled>
+          </snapshots>
+        </pluginRepository>
+      </pluginRepositories>
+
+      <dependencies>
+
+        <dependency>
+          <groupId>org.exoplatform.kernel</groupId>
+          <artifactId>exo.kernel.commons</artifactId>
+          <version>${org.exoplatform.kernel.version}</version>
+          <scope>compile</scope>
+        </dependency>
+
+        <dependency>
+          <groupId>org.exoplatform.kernel</groupId>
+          <artifactId>exo.kernel.container</artifactId>
+          <version>${org.exoplatform.kernel.version}</version>
+          <scope>compile</scope>
+        </dependency>
+
+        <dependency>
+          <groupId>org.exoplatform.kernel</groupId>
+          <artifactId>exo.kernel.component.cache</artifactId>
+          <version>${org.exoplatform.kernel.version}</version>
+        </dependency>
+
+        <dependency>
+          <groupId>org.exoplatform.core</groupId>
+          <artifactId>exo.core.component.xml-processing</artifactId>
+          <version>${org.exoplatform.core.version}</version>
+          <scope>compile</scope>
+        </dependency>
+
+        <dependency>
+          <groupId>org.exoplatform.core</groupId>
+          <artifactId>exo.core.component.organization.api</artifactId>
+          <version>${org.exoplatform.core.version}</version>
+        </dependency>
+
+<!--        <dependency>-->
+<!--          <groupId>org.exoplatform.core</groupId>-->
+<!--          <artifactId>exo.core.component.common</artifactId>-->
+<!--          <version>${org.exoplatform.core.version}</version>-->
+<!--        </dependency>-->
+
+        <dependency>
+          <groupId>org.exoplatform.core</groupId>
+          <artifactId>exo.core.component.database</artifactId>
+          <version>${org.exoplatform.core.version}</version>
+        </dependency>
+
+        <dependency>
+          <groupId>org.exoplatform.core</groupId>
+          <artifactId>exo.core.component.resources.api</artifactId>
+          <version>${org.exoplatform.core.version}</version>
+        </dependency>
+
+        <dependency>
+          <groupId>org.exoplatform.core</groupId>
+          <artifactId>exo.core.component.organization.jdbc</artifactId>
+          <version>${org.exoplatform.core.version}</version>
+        </dependency>
+
+        <dependency>
+          <groupId>org.exoplatform.portletcontainer</groupId>
+          <artifactId>exo.pc.component.core</artifactId>
+          <version>${project.version}</version>
+        </dependency>
+
+        <dependency>
+          <groupId>org.exoplatform.portletcontainer</groupId>
+          <artifactId>exo.pc.component.plugins.pc</artifactId>
+          <version>${project.version}</version>
+        </dependency>
+
+        <!-- ************************ soap ************************ -->
+
+        <dependency>
+          <groupId>org.apache.cxf</groupId>
+          <artifactId>cxf-rt-frontend-jaxws</artifactId>
+          <version>2.3.1</version>
+        </dependency>
+        <dependency>
+          <groupId>org.apache.cxf</groupId>
+          <artifactId>cxf-rt-transports-http</artifactId>
+          <version>2.3.1</version>
+        </dependency>
+        <dependency>
+          <groupId>org.apache.cxf</groupId>
+          <artifactId>cxf-rt-transports-http-jetty</artifactId>
+          <version>2.3.1</version>
+        </dependency>
+
+
+      </dependencies>
+
+
+      <properties>
+        <src.gen.dir>${basedir}/target/generated</src.gen.dir>
+        <war.dir>${basedir}/war_template</war.dir>
+      </properties>
+
+
+      <build>
+
+        <resources>
+          <resource>
+            <directory>target/generated</directory>
+            <includes>
+              <include>**/*.wsdd</include>
+            </includes>
+          </resource>
+        </resources>
+
+        <plugins>
+
+
+          <plugin>
+            <groupId>org.apache.cxf</groupId>
+            <artifactId>cxf-codegen-plugin</artifactId>
+            <version>2.3.1</version>
+            <executions>
+              <execution>
+                <id>generate-sources</id>
+                <phase>generate-sources</phase>
+                <configuration>
+                  <sourceRoot>${src.gen.dir}</sourceRoot>
+                  <wsdlOptions>
+                    <wsdlOption>
+                      <wsdl>${basedir}/wsdl/wsrp_service.wsdl</wsdl>
+                      <extraargs>
+                        <extraarg>-all</extraarg>
+                        <extraarg>-p</extraarg>
+                        <extraarg>urn:oasis:names:tc:wsrp:v1:types=org.exoplatform.services.wsrp.type</extraarg>
+                        <extraarg>-p</extraarg>
+                        <extraarg>urn:oasis:names:tc:wsrp:v1:intf=org.exoplatform.services.wsrp.intf</extraarg>
+                        <extraarg>-p</extraarg>
+                        <extraarg>urn:oasis:names:tc:wsrp:v1:bind=org.exoplatform.services.wsrp.bind</extraarg>
+                        <extraarg>-p</extraarg>
+                        <extraarg>urn:oasis:names:tc:wsrp:v1:wsdl=org.exoplatform.services.wsrp.wsdl</extraarg>
+                      </extraargs>
+                    </wsdlOption>
+                  </wsdlOptions>
+                </configuration>
+                <goals>
+                  <goal>wsdl2java</goal>
+                </goals>
+              </execution>
+            </executions>
+          </plugin>
+
+
+          <plugin>
+            <artifactId>maven-antrun-plugin</artifactId>
+            <executions>
+              <execution>
+                <id>1</id>
+                <phase>compile</phase>
+                <configuration>
+                  <tasks>
+                    <taskdef name="hibernatedoclet" classname="xdoclet.modules.hibernate.HibernateDocletTask" classpathref="maven.compile.classpath" />
+                    <hibernatedoclet destdir="${basedir}/target/classes" excludedtags="@version,@author,@todo" mergedir="target/classes" force="true"
+                      verbose="false">
+                      <fileset dir="${basedir}/src/main/java">
+                        <include name="**/*.java" />
+                      </fileset>
+                      <hibernate version="3.0" />
+                    </hibernatedoclet>
+                  </tasks>
+                </configuration>
+                <goals>
+                  <goal>run</goal>
+                </goals>
+              </execution>
+              <execution>
+                <id>2</id>
+                <phase>generate-test-sources</phase>
+                <configuration>
+                  <tasks>
+                    <mkdir dir="${basedir}/target/test-classes/" />
+                    <copy todir="${basedir}/target/test-classes/">
+                      <fileset dir="${basedir}/war_template/src">
+                        <include name="**/*.properties" />
+                        <include name="**/*.xml" />
+                      </fileset>
+                    </copy>
+                    <javac fork="true" srcdir="${basedir}/war_template/src" destdir="${basedir}/target/test-classes/" debug="${maven.compile.debug}"
+                      deprecation="${maven.compile.deprecation}" optimize="${maven.compile.optimize}">
+                      <classpath>
+                        <path refid="maven.dependency.classpath" />
+                        <pathelement path="${maven.build.dest}" />
+                      </classpath>
+                    </javac>
+                  </tasks>
+                </configuration>
+                <goals>
+                  <goal>run</goal>
+                </goals>
+              </execution>
+            </executions>
+          </plugin>
+
+          <plugin>
+            <groupId>org.apache.maven.plugins</groupId>
+            <artifactId>maven-surefire-plugin</artifactId>
+            <configuration>
+              <systemProperties>
+                <property>
+                  <name>testPath</name>
+                  <value>${basedir}</value>
+                </property>
+                <property>
+                  <name>mock.portal.dir</name>
+                  <value>${war.dir}</value>
+                </property>
+                <property>
+                  <name>maven.exoplatform.dir</name>
+                  <value>${war.dir}</value>
+                </property>
+              </systemProperties>
+              <includes>
+                <include>**/Test*.java</include>
+              </includes>
+              <skip>true</skip>
+            </configuration>
+          </plugin>
+
+          <plugin>
+            <groupId>org.apache.maven.plugins</groupId>
+            <artifactId>maven-compiler-plugin</artifactId>
+            <configuration>
+              <source>1.5</source>
+              <target>1.5</target>
+            </configuration>
+          </plugin>
+
+        </plugins>
+
+      </build>
+  
+    </profile>
+
+    <profile>
+      <id>xfire-jaxb</id>
+      <activation>
+        <activeByDefault>false</activeByDefault>
+      </activation>
+      
+       <repositories>
+    <repository>
+      <id>codehaus</id>
+      <name>Codehaus maven repository</name>
+      <url>http://dist.codehaus.org/</url>
+      <layout>legacy</layout>
+    </repository>
+    <repository>
+      <id>apache-snapshots</id>
+      <name>Snapshot repository</name>
+      <url>http://people.apache.org/maven-snapshot-repository/</url>
+    </repository>
+  </repositories>
+  <pluginRepositories>
+    <pluginRepository>
+      <id>snapshot</id>
+      <name>Snapshot repository</name>
+      <url>http://snapshots.maven.codehaus.org/maven2/</url>
+    </pluginRepository>
+  </pluginRepositories>
+
+  <dependencies>
+
+    <dependency>
+      <groupId>org.exoplatform.kernel</groupId>
+      <artifactId>exo.kernel.commons</artifactId>
+      <version>${org.exoplatform.kernel.version}</version>
+      <scope>compile</scope>
+    </dependency>
+
+    <dependency>
+      <groupId>org.exoplatform.kernel</groupId>
+      <artifactId>exo.kernel.container</artifactId>
+      <version>${org.exoplatform.kernel.version}</version>
+      <scope>compile</scope>
+    </dependency>
+
+    <dependency>
+      <groupId>org.exoplatform.kernel</groupId>
+      <artifactId>exo.kernel.component.cache</artifactId>
+      <version>${org.exoplatform.kernel.version}</version>
+    </dependency>
+
+    <dependency>
+      <groupId>org.exoplatform.core</groupId>
+      <artifactId>exo.core.component.xml-processing</artifactId>
+      <version>${org.exoplatform.core.version}</version>
+      <scope>compile</scope>
+    </dependency>
+
+    <dependency>
+      <groupId>org.exoplatform.core</groupId>
+      <artifactId>exo.core.component.organization.api</artifactId>
+      <version>${org.exoplatform.core.version}</version>
+    </dependency>
+
+<!--    <dependency>-->
+<!--      <groupId>org.exoplatform.core</groupId>-->
+<!--      <artifactId>exo.core.component.common</artifactId>-->
+<!--      <version>${org.exoplatform.core.version}</version>-->
+<!--    </dependency>-->
+
+    <dependency>
+      <groupId>org.exoplatform.core</groupId>
+      <artifactId>exo.core.component.database</artifactId>
+      <version>${org.exoplatform.core.version}</version>
+    </dependency>
+
+    <dependency>
+      <groupId>org.exoplatform.core</groupId>
+      <artifactId>exo.core.component.resources.api</artifactId>
+      <version>${org.exoplatform.core.version}</version>
+    </dependency>
+
+    <dependency>
+      <groupId>org.exoplatform.core</groupId>
+      <artifactId>exo.core.component.organization.jdbc</artifactId>
+      <version>${org.exoplatform.core.version}</version>
+    </dependency>
+
+    <dependency>
+      <groupId>org.exoplatform.portletcontainer</groupId>
+      <artifactId>exo.pc.component.core</artifactId>
+      <version>${project.version}</version>
+    </dependency>
+
+    <dependency>
+      <groupId>org.exoplatform.portletcontainer</groupId>
+      <artifactId>exo.pc.component.plugins.pc</artifactId>
+      <version>${project.version}</version>
+    </dependency>
+
+    <!-- ************************ soap ************************ -->
+
+    <dependency>
+      <groupId>org.codehaus.mojo</groupId>
+      <artifactId>xfire-maven-plugin</artifactId>
+      <version>1.0-SNAPSHOT</version>
+    </dependency>
+
+    <dependency>
+      <groupId>wsdl4j</groupId>
+      <artifactId>wsdl4j</artifactId>
+      <version>1.4</version>
+    </dependency>
+
+    <dependency>
+      <groupId>soap</groupId>
+      <artifactId>soap</artifactId>
+      <version>2.3</version>
+    </dependency>
+
+    <dependency>
+      <groupId>javax.xml</groupId>
+      <artifactId>saaj-api</artifactId>
+      <version>1.1</version>
+    </dependency>
+
+    <dependency>
+      <groupId>commons-discovery</groupId>
+      <artifactId>commons-discovery</artifactId>
+      <version>0.2</version>
+    </dependency>
+
+    <dependency>
+      <groupId>javax.xml</groupId>
+      <artifactId>jaxrpc-api</artifactId>
+      <version>1.1</version>
+    </dependency>
+
+    <dependency>
+      <groupId>jtidy</groupId>
+      <artifactId>jtidy</artifactId>
+      <version>4aug2000r7-dev</version>
+    </dependency>
+
+
+  </dependencies>
+
+
+
+  <properties>
+    <src.gen.dir>${basedir}/target/generated</src.gen.dir>
+    <war.dir>${basedir}/war_template</war.dir>
+  </properties>
+
+
+  <build>
+
+    <resources>
+      <resource>
+        <directory>target/generated</directory>
+        <includes>
+          <include>**/*.wsdd</include>
+        </includes>
+      </resource>
+    </resources>
+
+    <plugins>
+
+      <plugin>
+        <groupId>org.codehaus.mojo</groupId>
+        <artifactId>xfire-maven-plugin</artifactId>
+        <executions>
+          <execution>
+            <goals>
+              <goal>wsgen</goal>
+            </goals>
+          </execution>
+        </executions>
+        <configuration>
+          <package>org.exoplatform.services.wsrp.wsdl</package>
+          <profile>org.codehaus.xfire.gen.jsr181.Jsr181Profile</profile>
+          <binding>jaxb</binding>
+          <!-- externalBindings>${basedir}/wsdl/wsrp-bindings.xjb</externalBindings -->
+          <outputDirectory>${src.gen.dir}</outputDirectory>
+          <wsdls>
+            <wsdl>${basedir}/wsdl/wsrp_service.wsdl</wsdl>
+          </wsdls>
+        </configuration>
+      </plugin>
+
+      <plugin>
+        <artifactId>maven-antrun-plugin</artifactId>
+        <executions>
+          <execution>
+            <id>0</id>
+            <phase>compile</phase>
+            <configuration>
+              <tasks>
+                <taskdef name="hibernatedoclet" classname="xdoclet.modules.hibernate.HibernateDocletTask" classpathref="maven.compile.classpath" />
+                <hibernatedoclet destdir="${basedir}/target/classes" excludedtags="@version,@author,@todo" mergedir="target/classes" force="true"
+                  verbose="false">
+                  <fileset dir="${basedir}/src/main/java">
+                    <include name="**/*.java" />
+                  </fileset>
+                  <hibernate version="3.0" />
+                </hibernatedoclet>
+              </tasks>
+            </configuration>
+            <goals>
+              <goal>run</goal>
+            </goals>
+          </execution>
+          <execution>
+            <id>1</id>
+            <phase>generate-test-sources</phase>
+            <configuration>
+              <tasks>
+                <mkdir dir="${basedir}/target/test-classes/" />
+                <copy todir="${basedir}/target/test-classes/">
+                  <fileset dir="${basedir}/war_template/src">
+                    <include name="**/*.properties" />
+                    <include name="**/*.xml" />
+                  </fileset>
+                </copy>
+                <javac fork="true" srcdir="${basedir}/war_template/src" destdir="${basedir}/target/test-classes/" debug="${maven.compile.debug}"
+                  deprecation="${maven.compile.deprecation}" optimize="${maven.compile.optimize}">
+                  <classpath>
+                    <path refid="maven.dependency.classpath" />
+                    <pathelement path="${maven.build.dest}" />
+                  </classpath>
+                </javac>
+              </tasks>
+            </configuration>
+            <goals>
+              <goal>run</goal>
+            </goals>
+          </execution>
+        </executions>
+      </plugin>
+
+      <plugin>
+        <groupId>org.apache.maven.plugins</groupId>
+        <artifactId>maven-surefire-plugin</artifactId>
+        <configuration>
+          <systemProperties>
+            <property>
+              <name>testPath</name>
+              <value>${basedir}</value>
+            </property>
+            <property>
+              <name>mock.portal.dir</name>
+              <value>${war.dir}</value>
+            </property>
+            <property>
+              <name>maven.exoplatform.dir</name>
+              <value>${war.dir}</value>
+            </property>
+          </systemProperties>
+          <includes>
+            <include>**/Test*.java</include>
+          </includes>
+          <skip>true</skip>
+        </configuration>
+      </plugin>
+
+      <plugin>
+        <groupId>org.apache.maven.plugins</groupId>
+        <artifactId>maven-compiler-plugin</artifactId>
+        <configuration>
+          <source>1.5</source>
+          <target>1.5</target>
+        </configuration>
+      </plugin>
+
+    </plugins>
+
+  </build>
+    </profile>
+
+    <profile>
+      <id>xfire-xmlbeans</id>
+      <activation>
+        <activeByDefault>false</activeByDefault>
+      </activation>
+    
+    <repositories>
+      <repository>
+        <id>codehaus</id>
+        <name>Codehaus maven repository</name>
+        <url>http://dist.codehaus.org/</url>
+        <layout>legacy</layout>
+      </repository>
+      <repository>
+        <id>apache-snapshots</id>
+        <name>Snapshot repository</name>
+        <url>http://people.apache.org/maven-snapshot-repository/</url>
+      </repository>
+    </repositories>
+    <pluginRepositories>
+      <pluginRepository>
+        <id>snapshot</id>
+        <name>Snapshot repository</name>
+        <url>http://snapshots.maven.codehaus.org/maven2/</url>
+      </pluginRepository>
+    </pluginRepositories>
+
+    <dependencies>
+
+      <dependency>
+        <groupId>org.exoplatform.kernel</groupId>
+        <artifactId>exo.kernel.commons</artifactId>
+        <version>${org.exoplatform.kernel.version}</version>
+        <scope>compile</scope>
+      </dependency>
+
+      <dependency>
+        <groupId>org.exoplatform.kernel</groupId>
+        <artifactId>exo.kernel.container</artifactId>
+        <version>${org.exoplatform.kernel.version}</version>
+        <scope>compile</scope>
+      </dependency>
+
+      <dependency>
+        <groupId>org.exoplatform.kernel</groupId>
+        <artifactId>exo.kernel.component.cache</artifactId>
+        <version>${org.exoplatform.kernel.version}</version>
+      </dependency>
+
+      <dependency>
+        <groupId>org.exoplatform.core</groupId>
+        <artifactId>exo.core.component.xml-processing</artifactId>
+        <version>${org.exoplatform.core.version}</version>
+        <scope>compile</scope>
+      </dependency>
+
+      <dependency>
+        <groupId>org.exoplatform.core</groupId>
+        <artifactId>exo.core.component.organization.api</artifactId>
+        <version>${org.exoplatform.core.version}</version>
+      </dependency>
+
+<!--      <dependency>-->
+<!--        <groupId>org.exoplatform.core</groupId>-->
+<!--        <artifactId>exo.core.component.common</artifactId>-->
+<!--        <version>${org.exoplatform.core.version}</version>-->
+<!--      </dependency>-->
+
+      <dependency>
+        <groupId>org.exoplatform.core</groupId>
+        <artifactId>exo.core.component.database</artifactId>
+        <version>${org.exoplatform.core.version}</version>
+      </dependency>
+
+      <dependency>
+        <groupId>org.exoplatform.core</groupId>
+        <artifactId>exo.core.component.resources.api</artifactId>
+        <version>${org.exoplatform.core.version}</version>
+      </dependency>
+
+      <dependency>
+        <groupId>org.exoplatform.core</groupId>
+        <artifactId>exo.core.component.organization.jdbc</artifactId>
+        <version>${org.exoplatform.core.version}</version>
+      </dependency>
+
+      <dependency>
+        <groupId>org.exoplatform.portletcontainer</groupId>
+        <artifactId>exo.pc.component.core</artifactId>
+        <version>${project.version}</version>
+      </dependency>
+
+      <dependency>
+        <groupId>org.exoplatform.portletcontainer</groupId>
+        <artifactId>exo.pc.component.plugins.pc</artifactId>
+        <version>${project.version}</version>
+      </dependency>
+
+      <!-- ************************ soap ************************ -->
+
+      <dependency>
+        <groupId>org.codehaus.mojo</groupId>
+        <artifactId>xfire-maven-plugin</artifactId>
+        <version>1.0-SNAPSHOT</version>
+      </dependency>
+
+      <dependency>
+        <groupId>wsdl4j</groupId>
+        <artifactId>wsdl4j</artifactId>
+        <version>1.4</version>
+      </dependency>
+
+      <dependency>
+        <groupId>soap</groupId>
+        <artifactId>soap</artifactId>
+        <version>2.3</version>
+      </dependency>
+
+      <dependency>
+        <groupId>javax.xml</groupId>
+        <artifactId>saaj-api</artifactId>
+        <version>1.1</version>
+      </dependency>
+
+      <dependency>
+        <groupId>commons-discovery</groupId>
+        <artifactId>commons-discovery</artifactId>
+        <version>0.2</version>
+      </dependency>
+
+      <dependency>
+        <groupId>javax.xml</groupId>
+        <artifactId>jaxrpc-api</artifactId>
+        <version>1.1</version>
+      </dependency>
+
+      <dependency>
+        <groupId>jtidy</groupId>
+        <artifactId>jtidy</artifactId>
+        <version>4aug2000r7-dev</version>
+      </dependency>
+
+
+    </dependencies>
+
+    <properties>
+      <src.gen.dir>${basedir}/target/generated</src.gen.dir>
+      <war.dir>${basedir}/war_template</war.dir>
+    </properties>
+
+
+    <build>
+
+      <resources>
+        <resource>
+          <directory>target/generated</directory>
+          <includes>
+            <include>**/*.wsdd</include>
+          </includes>
+        </resource>
+      </resources>
+
+      <plugins>
+
+        <plugin>
+          <groupId>org.codehaus.mojo</groupId>
+          <artifactId>xmlbeans-maven-plugin</artifactId>
+          <version>2.0</version>
+          <executions>
+            <execution>
+              <phase>generate-sources</phase>
+              <goals>
+                <goal>xmlbeans</goal>
+              </goals>
+            </execution>
+          </executions>
+          <configuration>
+            <verbose>true</verbose>
+            <schemaDirectory>wsdl</schemaDirectory>
+            <sourceGenerationDirectory>${src.gen.dir}</sourceGenerationDirectory>
+          </configuration>
+          <dependencies>
+            <dependency>
+              <groupId>stax</groupId>
+              <artifactId>stax</artifactId>
+              <version>1.1.2-dev</version>
+              <exclusions>
+                <exclusion>
+                  <groupId>xmlbeans</groupId>
+                  <artifactId>xmlbeans-jsr173-api</artifactId>
+                </exclusion>
+              </exclusions>
+            </dependency>
+          </dependencies>
+        </plugin>
+
+        <!-- plugin>
+          <groupId>org.codehaus.mojo</groupId>
+          <artifactId>xfire-maven-plugin</artifactId>
+          <executions>
+          <execution>
+          <goals>
+          <goal>wsgen</goal>
+          </goals>
+          </execution>
+          </executions>
+          <configuration>
+          <package>org.exoplatform.services.wsrp.wsdl</package>
+          <profile>org.codehaus.xfire.gen.jsr181.Jsr181Profile</profile>
+          <binding>xmlbeans</binding>
+          <externalBindings>${basedir}/wsdl/wsrp-bindings.xjb</externalBindings>
+          <outputDirectory>${src.gen.dir}</outputDirectory>
+          <wsdls>
+          <wsdl>${basedir}/wsdl/wsrp_service.wsdl</wsdl>
+          </wsdls>
+          </configuration>
+          </plugin -->
+
+        <plugin>
+          <artifactId>maven-antrun-plugin</artifactId>
+          <executions>
+
+            <execution>
+              <id>0</id>
+              <phase>generate-sources</phase>
+              <configuration>
+                <java classpathref="maven.compile.classpath" dir="${basedir}">
+                  <arg line="${basedir}/src/main/binding.xml" />
+                </java>
+                <tasks>
+                  <taskdef name="wsgen" classname="org.codehaus.xfire.gen.WsGenTask" classpathref="maven.compile.classpath" />
+                  <wsgen outputDirectory="${src.gen.dir}" wsdl="${basedir}/wsdl/wsrp_service.wsdl" package="org.exoplatform.services.wsrp.wsdl"
+                    overwrite="true" />
+                </tasks>
+                <sourceRoot>${src.gen.dir}</sourceRoot>
+              </configuration>
+              <goals>
+                <goal>run</goal>
+              </goals>
+            </execution>
+
+            <execution>
+              <id>1</id>
+              <phase>compile</phase>
+              <configuration>
+                <tasks>
+                  <taskdef name="hibernatedoclet" classname="xdoclet.modules.hibernate.HibernateDocletTask" classpathref="maven.compile.classpath" />
+                  <hibernatedoclet destdir="${basedir}/target/classes" excludedtags="@version,@author,@todo" mergedir="target/classes" force="true"
+                    verbose="false">
+                    <fileset dir="${basedir}/src/main/java">
+                      <include name="**/*.java" />
+                    </fileset>
+                    <hibernate version="3.0" />
+                  </hibernatedoclet>
+                </tasks>
+              </configuration>
+              <goals>
+                <goal>run</goal>
+              </goals>
+            </execution>
+            <execution>
+              <id>2</id>
+              <phase>generate-test-sources</phase>
+              <configuration>
+                <tasks>
+                  <mkdir dir="${basedir}/target/test-classes/" />
+                  <copy todir="${basedir}/target/test-classes/">
+                    <fileset dir="${basedir}/war_template/src">
+                      <include name="**/*.properties" />
+                      <include name="**/*.xml" />
+                    </fileset>
+                  </copy>
+                  <javac fork="true" srcdir="${basedir}/war_template/src" destdir="${basedir}/target/test-classes/" debug="${maven.compile.debug}"
+                    deprecation="${maven.compile.deprecation}" optimize="${maven.compile.optimize}">
+                    <classpath>
+                      <path refid="maven.dependency.classpath" />
+                      <pathelement path="${maven.build.dest}" />
+                    </classpath>
+                  </javac>
+                </tasks>
+              </configuration>
+              <goals>
+                <goal>run</goal>
+              </goals>
+            </execution>
+          </executions>
+        </plugin>
+
+        <plugin>
+          <groupId>org.apache.maven.plugins</groupId>
+          <artifactId>maven-surefire-plugin</artifactId>
+          <configuration>
+            <systemProperties>
+              <property>
+                <name>testPath</name>
+                <value>${basedir}</value>
+              </property>
+              <property>
+                <name>mock.portal.dir</name>
+                <value>${war.dir}</value>
+              </property>
+              <property>
+                <name>maven.exoplatform.dir</name>
+                <value>${war.dir}</value>
+              </property>
+            </systemProperties>
+            <includes>
+              <include>**/Test*.java</include>
+            </includes>
+            <skip>true</skip>
+          </configuration>
+        </plugin>
+
+          <plugin>
+            <groupId>org.apache.maven.plugins</groupId>
+            <artifactId>maven-compiler-plugin</artifactId>
+            <configuration>
+              <source>1.5</source>
+              <target>1.5</target>
+            </configuration>
+          </plugin>
+
+        </plugins>
+
+      </build>
+    </profile>
+  </profiles>
+  
+  
+  
+  <build>
+    <resources>
+      <resource>
+        <directory>target/generated</directory>
+        <includes>
+          <include>**/*.wsdd</include>
+        </includes>
+      </resource>
+      <resource>
+        <directory>src/main/resources</directory>
+        <includes>
+          <include>**/*.xml</include>
+        </includes>
+      </resource>
+    </resources>
+    <plugins>
+      <plugin>
+        <groupId>org.apache.maven.plugins</groupId>
+        <artifactId>maven-antrun-plugin</artifactId>
+        <executions>
+          <execution>
+            <id>0</id>
+            <phase>generate-sources</phase>
+            <configuration>
+              <tasks if="settings.activeProxy.host">
+                <echo>=== PROXY === [${settings.activeProxy.host}:${settings.activeProxy.port}] ===</echo>
+                <!--                <property name="activeProxy.host" value="${settings.activeProxy.host}" />-->
+                <!--                <property name="activeProxy.port" value="${settings.activeProxy.port}" />-->
+                <!--                <property name="activeProxy.user" value="${settings.activeProxy.username}" />-->
+                <!--                <property name="activeProxy.password" value="${settings.activeProxy.password}" />-->
+                <!--                <property name="activeProxy.nonProxyHosts" value="${settings.activeProxy.nonProxyHosts}" />-->
+                <!--                <taskdef name="setproxy" classname="org.apache.tools.ant.taskdefs.optional.net.SetProxy" />-->
+                <!--                <setproxy proxyhost="${settings.activeProxy.host}" proxyport="${settings.activeProxy.port}" proxypassword="${settings.activeProxy.password}" proxyuser="${settings.activeProxy.username}"-->
+                <!--                  nonproxyhosts="${settings.activeProxy.nonProxyHosts}" />-->
+                <mkdir dir="${src.gen.dir}" />
+                <java fork="yes" dir="wsdl" classname="org.apache.axis.wsdl.WSDL2Java">
+                  <sysproperty key="proxySet" value="" />
+                  <sysproperty key="proxyHost" value="${settings.activeProxy.host}" />
+                  <sysproperty key="proxyPort" value="${settings.activeProxy.port}" />
+                  <arg line="-v -t -O -1 -a --server-side --deployScope 'Application' -W -o ${src.gen.dir} wsrp_service.wsdl" />
+                  <classpath refid="maven.dependency.classpath" />
+                </java>
+                <delete file="${src.gen.dir}/org/exoplatform/services/wsrp/bind/WSRP_v1_ServiceDescription_Binding_SOAPImpl.java" />
+                <delete file="${src.gen.dir}/org/exoplatform/services/wsrp/bind/WSRP_v1_Registration_Binding_SOAPImpl.java" />
+                <delete file="${src.gen.dir}/org/exoplatform/services/wsrp/bind/WSRP_v1_Markup_Binding_SOAPImpl.java" />
+                <delete file="${src.gen.dir}/org/exoplatform/services/wsrp/bind/WSRP_v1_PortletManagement_Binding_SOAPImpl.java" />
+              </tasks>
+              <sourceRoot>${src.gen.dir}</sourceRoot>
+            </configuration>
+            <goals>
+              <goal>run</goal>
+            </goals>
+          </execution>
+          <execution>
+            <id>1</id>
+            <phase>generate-sources</phase>
+            <configuration>
+              <tasks if="${settings.activeProxy.host}">
+                <echo>=== NON-PROXY ===</echo>
+                <mkdir dir="${src.gen.dir}" />
+                <java fork="yes" dir="wsdl" classname="org.apache.axis.wsdl.WSDL2Java">
+                  <arg line="-v -t -O -1 -a --server-side --deployScope 'Application' -W -o ${src.gen.dir} wsrp_service.wsdl" />
+                  <classpath refid="maven.dependency.classpath" />
+                </java>
+                <delete file="${src.gen.dir}/org/exoplatform/services/wsrp/bind/WSRP_v1_ServiceDescription_Binding_SOAPImpl.java" />
+                <delete file="${src.gen.dir}/org/exoplatform/services/wsrp/bind/WSRP_v1_Registration_Binding_SOAPImpl.java" />
+                <delete file="${src.gen.dir}/org/exoplatform/services/wsrp/bind/WSRP_v1_Markup_Binding_SOAPImpl.java" />
+                <delete file="${src.gen.dir}/org/exoplatform/services/wsrp/bind/WSRP_v1_PortletManagement_Binding_SOAPImpl.java" />
+              </tasks>
+              <sourceRoot>${src.gen.dir}</sourceRoot>
+            </configuration>
+            <goals>
+              <goal>run</goal>
+            </goals>
+          </execution>
+          <execution>
+            <id>2</id>
+            <phase>compile</phase>
+            <configuration>
+              <tasks>
+                <taskdef name="hibernatedoclet" classname="xdoclet.modules.hibernate.HibernateDocletTask" classpathref="maven.compile.classpath" />
+                <hibernatedoclet destdir="${basedir}/target/classes" excludedtags="@version,@author,@todo" mergedir="target/classes" force="true" verbose="false">
+                  <fileset dir="${basedir}/src/main/java">
+                    <include name="org/exoplatform/services/wsrp/consumer/impl/WSRP1ProducerData.java" />
+                    <include name="org/exoplatform/services/wsrp/producer/impl/WSRP1StateData.java" />
+                  </fileset>
+                  <!--                        <include name="**/*.java" />-->
+                  <hibernate version="3.0" />
+                </hibernatedoclet>
+              </tasks>
+            </configuration>
+            <goals>
+              <goal>run</goal>
+            </goals>
+          </execution>
+          <execution>
+            <id>3</id>
+            <phase>generate-test-sources</phase>
+            <configuration>
+              <tasks>
+                <mkdir dir="${basedir}/target/test-classes/" />
+                <copy todir="${basedir}/target/test-classes/">
+                  <fileset dir="${basedir}/war_template/src">
+                    <include name="**/*.properties" />
+                    <include name="**/*.xml" />
+                  </fileset>
+                </copy>
+                <javac fork="true" srcdir="${basedir}/war_template/src" destdir="${basedir}/target/test-classes/" debug="${maven.compile.debug}" deprecation="${maven.compile.deprecation}" optimize="${maven.compile.optimize}">
+                  <classpath>
+                    <path refid="maven.dependency.classpath" />
+                    <pathelement path="${maven.build.dest}" />
+                  </classpath>
+                </javac>
+              </tasks>
+            </configuration>
+            <goals>
+              <goal>run</goal>
+            </goals>
+          </execution>
+          <execution>
+            <id>4</id>
+            <phase>generate-test-sources</phase>
+            <configuration>
+              <tasks>
+                <war destfile="target/hello.war" webxml="war_template/WEB-INF/web.xml">
+                  <classes dir="target/test-classes">
+                    <exclude name="wsrp/**/*" />
+                  </classes>
+                  <zipfileset dir="war_template/WEB-INF" includes="**/*" prefix="WEB-INF" />
+                </war>
+              </tasks>
+            </configuration>
+            <!-- zipfileset dir="war_template/WEB-INF" includes="conf**/*" prefix="WEB-INF/classes" / -->
+            <goals>
+              <goal>run</goal>
+            </goals>
+          </execution>
+          <execution>
+            <id>5</id>
+            <phase>generate-test-sources</phase>
+            <configuration>
+              <tasks>
+                <mkdir dir="${project.build.directory}/test" />
+                <jar destfile="${project.build.directory}/test/exo.pc.component.plugins.wsrp1.jar" basedir="target/classes" />
+              </tasks>
+            </configuration>
+            <goals>
+              <goal>run</goal>
+            </goals>
+          </execution>
+        </executions>
+      </plugin>
+      <!--        <dependencies>-->
+      <!--          <dependency>-->
+      <!--            <groupId>ant</groupId>-->
+      <!--            <artifactId>ant-nodeps</artifactId>-->
+      <!--            <version>1.6.5</version>-->
+      <!--          </dependency>-->
+      <!--        </dependencies>-->
+      <plugin>
+        <groupId>org.apache.maven.plugins</groupId>
+        <artifactId>maven-dependency-plugin</artifactId>
+        <executions>
+          <execution>
+            <id>copy</id>
+            <phase>generate-test-sources</phase>
+            <goals>
+              <goal>copy-dependencies</goal>
+            </goals>
+            <configuration>
+              <useRepositoryLayout>false</useRepositoryLayout>
+              <excludeTransitive>false</excludeTransitive>
+              <excludeGroupIds>xerces</excludeGroupIds>
+              <outputDirectory>${project.build.directory}/test</outputDirectory>
+            </configuration>
+          </execution>
+        </executions>
+      </plugin>
+      <plugin>
+        <groupId>org.apache.maven.plugins</groupId>
+        <artifactId>maven-surefire-plugin</artifactId>
+        <configuration>
+          <systemProperties>
+            <property>
+              <name>testPath</name>
+              <value>${basedir}</value>
+            </property>
+            <property>
+              <name>mock.portal.dir</name>
+              <value>${war.dir}</value>
+            </property>
+            <property>
+              <name>maven.exoplatform.dir</name>
+              <value>${war.dir}</value>
+            </property>
+            <property>
+              <name>exo.test.cargo.skip</name>
+              <value>${exo.test.cargo.skip}</value>
+            </property>
+          </systemProperties>
+          <includes>
+            <include>**/AllTestsPortlet.java</include>
+          </includes>
+        </configuration>
+      </plugin>
+    </plugins>
+  </build>
+
+
+
+</project>
Index: component/plugins/wsrp1/pom_cxf.xml
===================================================================
--- component/plugins/wsrp1/pom_cxf.xml	(revision 65590)
+++ component/plugins/wsrp1/pom_cxf.xml	(working copy)
@@ -1,289 +0,0 @@
-<project>
-  <parent>
-    <groupId>org.exoplatform.portletcontainer</groupId>
-    <artifactId>config</artifactId>
-    <version>2.0</version>
-  </parent>
-  <modelVersion>4.0.0</modelVersion>
-  <artifactId>exo.pc.component.plugins.wsrp1</artifactId>
-  <packaging>jar</packaging>
-  <name>eXo Portlet Container 2 plugins.wsrp1</name>
-  <url>http://www.exoplatform.org</url>
-  <description>eXo Portlet Container 2 wsrp1 plugin</description>
-
-  <repositories>
-    <repository>
-      <id>apache-snapshots</id>
-      <name>Apache SNAPSHOT Repository</name>
-      <url>http://people.apache.org/repo/m2-snapshot-repository/</url>
-      <snapshots>
-        <enabled>true</enabled>
-      </snapshots>
-    </repository>
-    <repository>
-      <id>apache-incubating</id>
-      <name>Apache Incubating Repository</name>
-      <url>http://people.apache.org/repo/m2-incubating-repository/</url>
-    </repository>
-  </repositories>
-  <pluginRepositories>
-    <pluginRepository>
-      <id>apache-plugin-snapshots</id>
-      <name>Apache Maven Plugin Snapshots</name>
-      <url>http://people.apache.org/repo/m2-snapshot-repository</url>
-      <releases>
-        <enabled>false</enabled>
-      </releases>
-      <snapshots>
-        <enabled>true</enabled>
-      </snapshots>
-    </pluginRepository>
-  </pluginRepositories>
-
-  <dependencies>
-
-    <dependency>
-      <groupId>org.exoplatform.kernel</groupId>
-      <artifactId>exo.kernel.commons</artifactId>
-      <version>${exo.platform.version}</version>
-      <scope>compile</scope>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.kernel</groupId>
-      <artifactId>exo.kernel.container</artifactId>
-      <version>${exo.platform.version}</version>
-      <scope>compile</scope>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.kernel</groupId>
-      <artifactId>exo.kernel.component.cache</artifactId>
-      <version>${exo.platform.version}</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.core</groupId>
-      <artifactId>exo.core.component.xml-processing</artifactId>
-      <version>${exo.platform.version}</version>
-      <scope>compile</scope>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.core</groupId>
-      <artifactId>exo.core.component.organization.api</artifactId>
-      <version>${exo.platform.version}</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.core</groupId>
-      <artifactId>exo.core.component.common</artifactId>
-      <version>${exo.platform.version}</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.core</groupId>
-      <artifactId>exo.core.component.database</artifactId>
-      <version>${exo.platform.version}</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.core</groupId>
-      <artifactId>exo.core.component.resources.api</artifactId>
-      <version>${exo.platform.version}</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.core</groupId>
-      <artifactId>exo.core.component.organization.jdbc</artifactId>
-      <version>${exo.platform.version}</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.portletcontainer</groupId>
-      <artifactId>exo.pc.component.core</artifactId>
-      <version>${exo.portlet-container.version}</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.portletcontainer</groupId>
-      <artifactId>exo.pc.component.plugins.pc</artifactId>
-      <version>${exo.portlet-container.version}</version>
-    </dependency>
-
-    <!-- ************************ soap ************************ -->
-
-    <dependency>
-      <groupId>org.apache.cxf</groupId>
-      <artifactId>cxf-rt-frontend-jaxws</artifactId>
-      <version>2.0-incubator-RC-SNAPSHOT</version>
-    </dependency>
-    <dependency>
-      <groupId>org.apache.cxf</groupId>
-      <artifactId>cxf-rt-transports-http</artifactId>
-      <version>2.0-incubator-RC-SNAPSHOT</version>
-    </dependency>
-    <dependency>
-      <groupId>org.apache.cxf</groupId>
-      <artifactId>cxf-rt-transports-http-jetty</artifactId>
-      <version>2.0-incubator-RC-SNAPSHOT</version>
-    </dependency>
-
-
-  </dependencies>
-
-  <profiles>
-    <profile>
-      <id>wsrp1</id>
-      <activation>
-        <activeByDefault>true</activeByDefault>
-      </activation>
-      <properties>
-        <src.gen.dir>${basedir}/target/generated</src.gen.dir>
-      </properties>
-    </profile>
-  </profiles>
-
-  <properties>
-    <war.dir>${basedir}/war_template</war.dir>
-  </properties>
-
-
-  <build>
-
-    <resources>
-      <resource>
-        <directory>target/generated</directory>
-        <includes>
-          <include>**/*.wsdd</include>
-        </includes>
-      </resource>
-    </resources>
-
-    <plugins>
-
-
-      <plugin>
-        <groupId>org.apache.cxf</groupId>
-        <artifactId>cxf-codegen-plugin</artifactId>
-        <version>2.0-incubator-RC-SNAPSHOT</version>
-        <executions>
-          <execution>
-            <id>generate-sources</id>
-            <phase>generate-sources</phase>
-            <configuration>
-              <sourceRoot>${src.gen.dir}</sourceRoot>
-              <wsdlOptions>
-                <wsdlOption>
-                  <wsdl>${basedir}/wsdl/wsrp_service.wsdl</wsdl>
-                  <extraargs>
-                    <extraarg>-all</extraarg>
-                    <extraarg>-p</extraarg>
-                    <extraarg>urn:oasis:names:tc:wsrp:v1:types=org.exoplatform.services.wsrp.type</extraarg>
-                    <extraarg>-p</extraarg>
-                    <extraarg>urn:oasis:names:tc:wsrp:v1:intf=org.exoplatform.services.wsrp.intf</extraarg>
-                    <extraarg>-p</extraarg>
-                    <extraarg>urn:oasis:names:tc:wsrp:v1:bind=org.exoplatform.services.wsrp.bind</extraarg>
-                    <extraarg>-p</extraarg>
-                    <extraarg>urn:oasis:names:tc:wsrp:v1:wsdl=org.exoplatform.services.wsrp.wsdl</extraarg>
-                  </extraargs>
-                </wsdlOption>
-              </wsdlOptions>
-            </configuration>
-            <goals>
-              <goal>wsdl2java</goal>
-            </goals>
-          </execution>
-        </executions>
-      </plugin>
-
-
-      <plugin>
-        <artifactId>maven-antrun-plugin</artifactId>
-        <executions>
-          <execution>
-            <id>1</id>
-            <phase>compile</phase>
-            <configuration>
-              <tasks>
-                <taskdef name="hibernatedoclet" classname="xdoclet.modules.hibernate.HibernateDocletTask" classpathref="maven.compile.classpath" />
-                <hibernatedoclet destdir="${basedir}/target/classes" excludedtags="@version,@author,@todo" mergedir="target/classes" force="true"
-                  verbose="false">
-                  <fileset dir="${basedir}/src/main/java">
-                    <include name="**/*.java" />
-                  </fileset>
-                  <hibernate version="3.0" />
-                </hibernatedoclet>
-              </tasks>
-            </configuration>
-            <goals>
-              <goal>run</goal>
-            </goals>
-          </execution>
-          <execution>
-            <id>2</id>
-            <phase>generate-test-sources</phase>
-            <configuration>
-              <tasks>
-                <mkdir dir="${basedir}/target/test-classes/" />
-                <copy todir="${basedir}/target/test-classes/">
-                  <fileset dir="${basedir}/war_template/src">
-                    <include name="**/*.properties" />
-                    <include name="**/*.xml" />
-                  </fileset>
-                </copy>
-                <javac fork="true" srcdir="${basedir}/war_template/src" destdir="${basedir}/target/test-classes/" debug="${maven.compile.debug}"
-                  deprecation="${maven.compile.deprecation}" optimize="${maven.compile.optimize}">
-                  <classpath>
-                    <path refid="maven.dependency.classpath" />
-                    <pathelement path="${maven.build.dest}" />
-                  </classpath>
-                </javac>
-              </tasks>
-            </configuration>
-            <goals>
-              <goal>run</goal>
-            </goals>
-          </execution>
-        </executions>
-      </plugin>
-
-      <plugin>
-        <groupId>org.apache.maven.plugins</groupId>
-        <artifactId>maven-surefire-plugin</artifactId>
-        <configuration>
-          <systemProperties>
-            <property>
-              <name>testPath</name>
-              <value>${basedir}</value>
-            </property>
-            <property>
-              <name>mock.portal.dir</name>
-              <value>${war.dir}</value>
-            </property>
-            <property>
-              <name>maven.exoplatform.dir</name>
-              <value>${war.dir}</value>
-            </property>
-          </systemProperties>
-          <includes>
-            <include>**/Test*.java</include>
-          </includes>
-          <skip>true</skip>
-        </configuration>
-      </plugin>
-
-      <plugin>
-        <groupId>org.apache.maven.plugins</groupId>
-        <artifactId>maven-compiler-plugin</artifactId>
-        <configuration>
-          <source>1.5</source>
-          <target>1.5</target>
-        </configuration>
-      </plugin>
-
-    </plugins>
-
-  </build>
-
-</project>
Index: component/plugins/wsrp1/pom_xfire_jaxb.xml
===================================================================
--- component/plugins/wsrp1/pom_xfire_jaxb.xml	(revision 65590)
+++ component/plugins/wsrp1/pom_xfire_jaxb.xml	(working copy)
@@ -1,293 +0,0 @@
-<project>
-  <parent>
-    <groupId>org.exoplatform.portletcontainer</groupId>
-    <artifactId>config</artifactId>
-    <version>2.0</version>
-  </parent>
-  <modelVersion>4.0.0</modelVersion>
-  <artifactId>exo.pc.component.plugins.wsrp1</artifactId>
-  <packaging>jar</packaging>
-  <name>eXo Portlet Container 2 plugins.wsrp1</name>
-  <url>http://www.exoplatform.org</url>
-  <description>eXo Portlet Container 2 wsrp1 plugin</description>
-
-  <repositories>
-    <repository>
-      <id>codehaus</id>
-      <name>Codehaus maven repository</name>
-      <url>http://dist.codehaus.org/</url>
-      <layout>legacy</layout>
-    </repository>
-    <repository>
-      <id>apache-snapshots</id>
-      <name>Snapshot repository</name>
-      <url>http://people.apache.org/maven-snapshot-repository/</url>
-    </repository>
-  </repositories>
-  <pluginRepositories>
-    <pluginRepository>
-      <id>snapshot</id>
-      <name>Snapshot repository</name>
-      <url>http://snapshots.maven.codehaus.org/maven2/</url>
-    </pluginRepository>
-  </pluginRepositories>
-
-  <dependencies>
-
-    <dependency>
-      <groupId>org.exoplatform.kernel</groupId>
-      <artifactId>exo.kernel.commons</artifactId>
-      <version>${exo.platform.version}</version>
-      <scope>compile</scope>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.kernel</groupId>
-      <artifactId>exo.kernel.container</artifactId>
-      <version>${exo.platform.version}</version>
-      <scope>compile</scope>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.kernel</groupId>
-      <artifactId>exo.kernel.component.cache</artifactId>
-      <version>${exo.platform.version}</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.core</groupId>
-      <artifactId>exo.core.component.xml-processing</artifactId>
-      <version>${exo.platform.version}</version>
-      <scope>compile</scope>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.core</groupId>
-      <artifactId>exo.core.component.organization.api</artifactId>
-      <version>${exo.platform.version}</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.core</groupId>
-      <artifactId>exo.core.component.common</artifactId>
-      <version>${exo.platform.version}</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.core</groupId>
-      <artifactId>exo.core.component.database</artifactId>
-      <version>${exo.platform.version}</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.core</groupId>
-      <artifactId>exo.core.component.resources.api</artifactId>
-      <version>${exo.platform.version}</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.core</groupId>
-      <artifactId>exo.core.component.organization.jdbc</artifactId>
-      <version>${exo.platform.version}</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.portletcontainer</groupId>
-      <artifactId>exo.pc.component.core</artifactId>
-      <version>${exo.portlet-container.version}</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.portletcontainer</groupId>
-      <artifactId>exo.pc.component.plugins.pc</artifactId>
-      <version>${exo.portlet-container.version}</version>
-    </dependency>
-
-    <!-- ************************ soap ************************ -->
-
-    <dependency>
-      <groupId>org.codehaus.mojo</groupId>
-      <artifactId>xfire-maven-plugin</artifactId>
-      <version>1.0-SNAPSHOT</version>
-    </dependency>
-
-    <dependency>
-      <groupId>wsdl4j</groupId>
-      <artifactId>wsdl4j</artifactId>
-      <version>1.4</version>
-    </dependency>
-
-    <dependency>
-      <groupId>soap</groupId>
-      <artifactId>soap</artifactId>
-      <version>2.3</version>
-    </dependency>
-
-    <dependency>
-      <groupId>javax.xml</groupId>
-      <artifactId>saaj-api</artifactId>
-      <version>1.1</version>
-    </dependency>
-
-    <dependency>
-      <groupId>commons-discovery</groupId>
-      <artifactId>commons-discovery</artifactId>
-      <version>0.2</version>
-    </dependency>
-
-    <dependency>
-      <groupId>javax.xml</groupId>
-      <artifactId>jaxrpc-api</artifactId>
-      <version>1.1</version>
-    </dependency>
-
-    <dependency>
-      <groupId>jtidy</groupId>
-      <artifactId>jtidy</artifactId>
-      <version>4aug2000r7-dev</version>
-    </dependency>
-
-
-  </dependencies>
-
-  <profiles>
-    <profile>
-      <id>wsrp1</id>
-      <activation>
-        <activeByDefault>true</activeByDefault>
-      </activation>
-      <properties>
-        <src.gen.dir>${basedir}/target/generated</src.gen.dir>
-      </properties>
-    </profile>
-  </profiles>
-
-  <properties>
-    <war.dir>${basedir}/war_template</war.dir>
-  </properties>
-
-
-  <build>
-
-    <resources>
-      <resource>
-        <directory>target/generated</directory>
-        <includes>
-          <include>**/*.wsdd</include>
-        </includes>
-      </resource>
-    </resources>
-
-    <plugins>
-
-      <plugin>
-        <groupId>org.codehaus.mojo</groupId>
-        <artifactId>xfire-maven-plugin</artifactId>
-        <executions>
-          <execution>
-            <goals>
-              <goal>wsgen</goal>
-            </goals>
-          </execution>
-        </executions>
-        <configuration>
-          <package>org.exoplatform.services.wsrp.wsdl</package>
-          <profile>org.codehaus.xfire.gen.jsr181.Jsr181Profile</profile>
-          <binding>jaxb</binding>
-          <!-- externalBindings>${basedir}/wsdl/wsrp-bindings.xjb</externalBindings -->
-          <outputDirectory>${src.gen.dir}</outputDirectory>
-          <wsdls>
-            <wsdl>${basedir}/wsdl/wsrp_service.wsdl</wsdl>
-          </wsdls>
-        </configuration>
-      </plugin>
-
-      <plugin>
-        <artifactId>maven-antrun-plugin</artifactId>
-        <executions>
-          <execution>
-            <id>0</id>
-            <phase>compile</phase>
-            <configuration>
-              <tasks>
-                <taskdef name="hibernatedoclet" classname="xdoclet.modules.hibernate.HibernateDocletTask" classpathref="maven.compile.classpath" />
-                <hibernatedoclet destdir="${basedir}/target/classes" excludedtags="@version,@author,@todo" mergedir="target/classes" force="true"
-                  verbose="false">
-                  <fileset dir="${basedir}/src/main/java">
-                    <include name="**/*.java" />
-                  </fileset>
-                  <hibernate version="3.0" />
-                </hibernatedoclet>
-              </tasks>
-            </configuration>
-            <goals>
-              <goal>run</goal>
-            </goals>
-          </execution>
-          <execution>
-            <id>1</id>
-            <phase>generate-test-sources</phase>
-            <configuration>
-              <tasks>
-                <mkdir dir="${basedir}/target/test-classes/" />
-                <copy todir="${basedir}/target/test-classes/">
-                  <fileset dir="${basedir}/war_template/src">
-                    <include name="**/*.properties" />
-                    <include name="**/*.xml" />
-                  </fileset>
-                </copy>
-                <javac fork="true" srcdir="${basedir}/war_template/src" destdir="${basedir}/target/test-classes/" debug="${maven.compile.debug}"
-                  deprecation="${maven.compile.deprecation}" optimize="${maven.compile.optimize}">
-                  <classpath>
-                    <path refid="maven.dependency.classpath" />
-                    <pathelement path="${maven.build.dest}" />
-                  </classpath>
-                </javac>
-              </tasks>
-            </configuration>
-            <goals>
-              <goal>run</goal>
-            </goals>
-          </execution>
-        </executions>
-      </plugin>
-
-      <plugin>
-        <groupId>org.apache.maven.plugins</groupId>
-        <artifactId>maven-surefire-plugin</artifactId>
-        <configuration>
-          <systemProperties>
-            <property>
-              <name>testPath</name>
-              <value>${basedir}</value>
-            </property>
-            <property>
-              <name>mock.portal.dir</name>
-              <value>${war.dir}</value>
-            </property>
-            <property>
-              <name>maven.exoplatform.dir</name>
-              <value>${war.dir}</value>
-            </property>
-          </systemProperties>
-          <includes>
-            <include>**/Test*.java</include>
-          </includes>
-          <skip>true</skip>
-        </configuration>
-      </plugin>
-
-      <plugin>
-        <groupId>org.apache.maven.plugins</groupId>
-        <artifactId>maven-compiler-plugin</artifactId>
-        <configuration>
-          <source>1.5</source>
-          <target>1.5</target>
-        </configuration>
-      </plugin>
-
-    </plugins>
-
-  </build>
-
-</project>
\ No newline at end of file
Index: component/plugins/wsrp1/pom-noncargo.xml
===================================================================
--- component/plugins/wsrp1/pom-noncargo.xml	(revision 65590)
+++ component/plugins/wsrp1/pom-noncargo.xml	(working copy)
@@ -1,334 +0,0 @@
-<project>
-  <parent>
-    <groupId>org.exoplatform.portletcontainer</groupId>
-    <artifactId>config</artifactId>
-    <version>2.0.13-SNAPSHOT</version>
-  </parent>
-  <modelVersion>4.0.0</modelVersion>
-  <artifactId>exo.pc.component.plugins.wsrp1</artifactId>
-  <packaging>jar</packaging>
-  <name>eXo Portlet Container 2 Plugins WSRP1</name>
-  <description>eXo Portlet Container 2 wsrp1 plugin</description>
-
-  <dependencies>
-
-    <dependency>
-      <groupId>org.exoplatform.kernel</groupId>
-      <artifactId>exo.kernel.commons</artifactId>
-      <version>${org.exoplatform.kernel.version}</version>
-      <scope>compile</scope>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.kernel</groupId>
-      <artifactId>exo.kernel.container</artifactId>
-      <version>${org.exoplatform.kernel.version}</version>
-      <scope>compile</scope>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.kernel</groupId>
-      <artifactId>exo.kernel.component.common</artifactId>
-      <version>${org.exoplatform.kernel.version}</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.kernel</groupId>
-      <artifactId>exo.kernel.component.cache</artifactId>
-      <version>${org.exoplatform.kernel.version}</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.core</groupId>
-      <artifactId>exo.core.component.organization.api</artifactId>
-      <version>${org.exoplatform.core.version}</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.core</groupId>
-      <artifactId>exo.core.component.organization.jdbc</artifactId>
-      <version>${org.exoplatform.core.version}</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.core</groupId>
-      <artifactId>exo.core.component.database</artifactId>
-      <version>${org.exoplatform.core.version}</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.core</groupId>
-      <artifactId>exo.core.component.resources.api</artifactId>
-      <version>${org.exoplatform.core.version}</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.core</groupId>
-      <artifactId>exo.core.component.security.core</artifactId>
-      <version>${org.exoplatform.core.version}</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.portletcontainer</groupId>
-      <artifactId>exo.pc.component.core</artifactId>
-      <version>${org.exoplatform.pc.version}</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.portletcontainer</groupId>
-      <artifactId>exo.pc.component.plugins.pc</artifactId>
-      <version>${org.exoplatform.pc.version}</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.codehaus.cargo</groupId>
-      <artifactId>cargo-core-api-container</artifactId>
-      <version>0.9-SNAPSHOT</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.codehaus.cargo</groupId>
-      <artifactId>cargo-core-api-generic</artifactId>
-      <version>0.9-SNAPSHOT</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.codehaus.cargo</groupId>
-      <artifactId>cargo-core-container-tomcat</artifactId>
-      <version>0.9-SNAPSHOT</version>
-    </dependency>
-
-
-    <!-- ************************ soap ************************ -->
-
-    <dependency>
-      <groupId>axis</groupId>
-      <artifactId>axis</artifactId>
-      <version>1.4-0231</version>
-    </dependency>
-
-    <dependency>
-      <groupId>wsdl4j</groupId>
-      <artifactId>wsdl4j</artifactId>
-      <version>1.5.1</version>
-    </dependency>
-
-    <dependency>
-      <groupId>commons-discovery</groupId>
-      <artifactId>commons-discovery</artifactId>
-      <version>0.2</version>
-    </dependency>
-
-
-  </dependencies>
-
-  <profiles>
-    <profile>
-      <id>wsrp1</id>
-      <activation>
-        <activeByDefault>true</activeByDefault>
-      </activation>
-      <properties>
-        <src.gen.dir>${basedir}/target/generated</src.gen.dir>
-      </properties>
-    </profile>
-  </profiles>
-
-  <properties>
-    <war.dir>${basedir}/war_template</war.dir>
-  </properties>
-
-
-  <build>
-
-    <resources>
-      <resource>
-        <directory>target/generated</directory>
-        <includes>
-          <include>**/*.wsdd</include>
-        </includes>
-      </resource>
-      <resource>
-        <directory>src/main/resources</directory>
-        <includes>
-          <include>**/*.xml</include>
-        </includes>
-      </resource>
-    </resources>
-
-    <plugins>
-
-      <plugin>
-        <groupId>org.apache.maven.plugins</groupId>
-        <artifactId>maven-antrun-plugin</artifactId>
-        <version>1.3</version>
-        <executions>
-          <execution>
-            <id>0</id>
-            <phase>generate-sources</phase>
-            <configuration>
-              <tasks if="settings.activeProxy.host">
-                <echo>=== PROXY === [${settings.activeProxy.host}:${settings.activeProxy.port}] ===</echo>
-
-                <property name="activeProxy.host" value="${settings.activeProxy.host}" />
-                <property name="activeProxy.port" value="${settings.activeProxy.port}" />
-                <property name="activeProxy.user" value="${settings.activeProxy.username}" />
-                <property name="activeProxy.password" value="${settings.activeProxy.password}" />
-                <property name="activeProxy.nonProxyHosts" value="${settings.activeProxy.nonProxyHosts}" />
-
-                <taskdef name="setproxy" classname="org.apache.tools.ant.taskdefs.optional.net.SetProxy" />
-                <setproxy proxyhost="${settings.activeProxy.host}" proxyport="${settings.activeProxy.port}" proxypassword="${settings.activeProxy.password}" proxyuser="${settings.activeProxy.username}"
-                  nonproxyhosts="${settings.activeProxy.nonProxyHosts}" />
-
-                <mkdir dir="${src.gen.dir}" />
-                <java fork="yes" dir="wsdl" classname="org.apache.axis.wsdl.WSDL2Java">
-<!--                  <sysproperty key="proxySet" value="" />-->
-<!--                  <sysproperty key="proxyHost" value="${exo.proxy.host}" />-->
-<!--                  <sysproperty key="proxyPort" value="${exo.proxy.port}" />-->
-                  <arg line="-v -t -O -1 -a --server-side --deployScope 'Application' -W -o ${src.gen.dir} wsrp_service.wsdl" />
-                  <classpath refid="maven.dependency.classpath" />
-                </java>
-                <delete file="${src.gen.dir}/org/exoplatform/services/wsrp/bind/WSRP_v1_ServiceDescription_Binding_SOAPImpl.java" />
-                <delete file="${src.gen.dir}/org/exoplatform/services/wsrp/bind/WSRP_v1_Registration_Binding_SOAPImpl.java" />
-                <delete file="${src.gen.dir}/org/exoplatform/services/wsrp/bind/WSRP_v1_Markup_Binding_SOAPImpl.java" />
-                <delete file="${src.gen.dir}/org/exoplatform/services/wsrp/bind/WSRP_v1_PortletManagement_Binding_SOAPImpl.java" />
-              </tasks>
-              <sourceRoot>${src.gen.dir}</sourceRoot>
-            </configuration>
-            <goals>
-              <goal>run</goal>
-            </goals>
-          </execution>
-          <execution>
-            <id>1</id>
-            <phase>generate-sources</phase>
-            <configuration>
-              <tasks if="${settings.activeProxy.host}">
-                <echo>=== NON-PROXY ===</echo>
-                <mkdir dir="${src.gen.dir}" />
-                <java fork="yes" dir="wsdl" classname="org.apache.axis.wsdl.WSDL2Java">
-                  <arg line="-v -t -O -1 -a --server-side --deployScope 'Application' -W -o ${src.gen.dir} wsrp_service.wsdl" />
-                  <classpath refid="maven.dependency.classpath" />
-                </java>
-                <delete file="${src.gen.dir}/org/exoplatform/services/wsrp/bind/WSRP_v1_ServiceDescription_Binding_SOAPImpl.java" />
-                <delete file="${src.gen.dir}/org/exoplatform/services/wsrp/bind/WSRP_v1_Registration_Binding_SOAPImpl.java" />
-                <delete file="${src.gen.dir}/org/exoplatform/services/wsrp/bind/WSRP_v1_Markup_Binding_SOAPImpl.java" />
-                <delete file="${src.gen.dir}/org/exoplatform/services/wsrp/bind/WSRP_v1_PortletManagement_Binding_SOAPImpl.java" />
-              </tasks>
-              <sourceRoot>${src.gen.dir}</sourceRoot>
-            </configuration>
-            <goals>
-              <goal>run</goal>
-            </goals>
-          </execution>
-          <execution>
-            <id>2</id>
-            <phase>compile</phase>
-            <configuration>
-              <tasks>
-                <taskdef name="hibernatedoclet" classname="xdoclet.modules.hibernate.HibernateDocletTask" classpathref="maven.compile.classpath" />
-                <hibernatedoclet destdir="${basedir}/target/classes" excludedtags="@version,@author,@todo" mergedir="target/classes" force="true"
-                  verbose="false">
-                  <fileset dir="${basedir}/src/main/java">
-                    <include name="org/exoplatform/services/wsrp/consumer/impl/WSRP1ProducerData.java" />
-                    <include name="org/exoplatform/services/wsrp/producer/impl/WSRP1StateData.java" />
-                  </fileset>
-                  <hibernate version="3.0" />
-                </hibernatedoclet>
-              </tasks>
-            </configuration>
-            <goals>
-              <goal>run</goal>
-            </goals>
-          </execution>
-          <execution>
-            <id>3</id>
-            <phase>generate-test-sources</phase>
-            <configuration>
-              <tasks>
-                <mkdir dir="${basedir}/target/test-classes/" />
-                <copy todir="${basedir}/target/test-classes/">
-                  <fileset dir="${basedir}/war_template/src">
-                    <include name="**/*.properties" />
-                    <include name="**/*.xml" />
-                  </fileset>
-                </copy>
-                <javac fork="true" srcdir="${basedir}/war_template/src" destdir="${basedir}/target/test-classes/" debug="${maven.compile.debug}"
-                  deprecation="${maven.compile.deprecation}" optimize="${maven.compile.optimize}">
-                  <classpath>
-                    <path refid="maven.dependency.classpath" />
-                    <pathelement path="${maven.build.dest}" />
-                  </classpath>
-                </javac>
-              </tasks>
-            </configuration>
-            <goals>
-              <goal>run</goal>
-            </goals>
-          </execution>
-
-          <execution>
-            <id>4</id>
-            <phase>generate-test-sources</phase>
-            <configuration>
-              <tasks>
-                <war destfile="target/hello.war" webxml="war_template/WEB-INF/web.xml">
-                  <classes dir="target/test-classes">
-                    <exclude name="wsrp/**/*" />
-                  </classes>
-                  <zipfileset dir="war_template/WEB-INF" includes="**/*" prefix="WEB-INF" />
-                  <!-- zipfileset dir="war_template/WEB-INF" includes="conf**/*" prefix="WEB-INF/classes" / -->
-                </war>
-              </tasks>
-            </configuration>
-            <goals>
-              <goal>run</goal>
-            </goals>
-          </execution>
-        </executions>
-        <dependencies>
-          <dependency>
-            <groupId>ant</groupId>
-            <artifactId>ant-nodeps</artifactId>
-            <version>1.6.5</version>
-          </dependency>
-        </dependencies>
-      </plugin>
-
-      <plugin>
-        <groupId>org.apache.maven.plugins</groupId>
-        <artifactId>maven-surefire-plugin</artifactId>
-        <configuration>
-          <systemProperties>
-            <property>
-              <name>testPath</name>
-              <value>${basedir}</value>
-            </property>
-            <property>
-              <name>mock.portal.dir</name>
-              <value>${war.dir}</value>
-            </property>
-            <property>
-              <name>maven.exoplatform.dir</name>
-              <value>${war.dir}</value>
-            </property>
-            <property>
-              <name>exo.test.cargo.skip</name>
-              <value>${exo.test.cargo.skip}</value>
-            </property>
-          </systemProperties>
-          <includes>
-            <include>**/AllTestsPortlet.java</include>
-            <!--            <include>**/SuiteForTestProducer.java</include>-->
-            <!--            <include>**/SuiteForTestConsumer.java</include>-->
-            <!--            <include>**/TestPerformBlockingInteraction.java</include>-->
-            <!-- include>**/Test*.java</include -->
-          </includes>
-        </configuration>
-      </plugin>
-
-    </plugins>
-
-  </build>
-
-</project>
Index: component/plugins/wsrp2/nocargo.sh
===================================================================
--- component/plugins/wsrp2/nocargo.sh	(revision 0)
+++ component/plugins/wsrp2/nocargo.sh	(revision 65565)
@@ -0,0 +1 @@
+mvn clean install -Pnocargo

Property changes on: component/plugins/wsrp2/nocargo.sh
___________________________________________________________________
Added: svn:eol-style
   + native

Index: component/plugins/wsrp2/cargo.sh
===================================================================
--- component/plugins/wsrp2/cargo.sh	(revision 0)
+++ component/plugins/wsrp2/cargo.sh	(revision 65565)
@@ -0,0 +1 @@
+mvn clean install -Pcargo

Property changes on: component/plugins/wsrp2/cargo.sh
___________________________________________________________________
Added: svn:eol-style
   + native

Index: component/plugins/wsrp2/readme.txt
===================================================================
--- component/plugins/wsrp2/readme.txt	(revision 0)
+++ component/plugins/wsrp2/readme.txt	(revision 65565)
@@ -0,0 +1,2 @@
+Please, use cargo.sh script to build old pom-cargo.xml.
+Please, use nocargo.sh script to build old pom-nocargo.xml.

Property changes on: component/plugins/wsrp2/readme.txt
___________________________________________________________________
Added: svn:eol-style
   + native

Index: component/plugins/wsrp2/pom-cargo.xml
===================================================================
--- component/plugins/wsrp2/pom-cargo.xml	(revision 65590)
+++ component/plugins/wsrp2/pom-cargo.xml	(working copy)
@@ -1,372 +0,0 @@
-<project>
-  <parent>
-    <groupId>org.exoplatform.portletcontainer</groupId>
-    <artifactId>config</artifactId>
-    <version>2.0.13-SNAPSHOT</version>
-  </parent>
-  <modelVersion>4.0.0</modelVersion>
-  <artifactId>exo.pc.component.plugins.wsrp2</artifactId>
-  <packaging>jar</packaging>
-  <name>eXo Portlet Container 2 Plugins WSRP2</name>
-  <description>eXo Portlet Container 2 wsrp2 plugin</description>
-
-  <dependencies>
-
-    <dependency>
-      <groupId>org.exoplatform.kernel</groupId>
-      <artifactId>exo.kernel.commons</artifactId>
-      <version>${org.exoplatform.kernel.version}</version>
-      <scope>compile</scope>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.kernel</groupId>
-      <artifactId>exo.kernel.container</artifactId>
-      <version>${org.exoplatform.kernel.version}</version>
-      <scope>compile</scope>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.kernel</groupId>
-      <artifactId>exo.kernel.component.common</artifactId>
-      <version>${org.exoplatform.kernel.version}</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.kernel</groupId>
-      <artifactId>exo.kernel.component.cache</artifactId>
-      <version>${org.exoplatform.kernel.version}</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.core</groupId>
-      <artifactId>exo.core.component.organization.api</artifactId>
-      <version>${org.exoplatform.core.version}</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.core</groupId>
-      <artifactId>exo.core.component.organization.jdbc</artifactId>
-      <version>${org.exoplatform.core.version}</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.core</groupId>
-      <artifactId>exo.core.component.database</artifactId>
-      <version>${org.exoplatform.core.version}</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.core</groupId>
-      <artifactId>exo.core.component.resources.api</artifactId>
-      <version>${org.exoplatform.core.version}</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.core</groupId>
-      <artifactId>exo.core.component.security.core</artifactId>
-      <version>${org.exoplatform.core.version}</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.portletcontainer</groupId>
-      <artifactId>exo.pc.component.core</artifactId>
-      <version>${org.exoplatform.pc.version}</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.portletcontainer</groupId>
-      <artifactId>exo.pc.component.plugins.pc</artifactId>
-      <version>${org.exoplatform.pc.version}</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.codehaus.cargo</groupId>
-      <artifactId>cargo-core-api-container</artifactId>
-      <version>0.9-SNAPSHOT</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.codehaus.cargo</groupId>
-      <artifactId>cargo-core-api-generic</artifactId>
-      <version>0.9-SNAPSHOT</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.codehaus.cargo</groupId>
-      <artifactId>cargo-core-container-tomcat</artifactId>
-      <version>0.9-SNAPSHOT</version>
-    </dependency>
-
-    <dependency>
-      <groupId>javax.activation</groupId>
-      <artifactId>activation</artifactId>
-      <version>1.1</version>
-    </dependency>
-
-    <!-- ************************ soap ************************ -->
-
-    <dependency>
-      <groupId>axis</groupId>
-      <artifactId>axis</artifactId>
-      <version>1.4-0231</version>
-    </dependency>
-
-    <dependency>
-      <groupId>wsdl4j</groupId>
-      <artifactId>wsdl4j</artifactId>
-      <version>1.5.1</version>
-    </dependency>
-
-    <dependency>
-      <groupId>commons-discovery</groupId>
-      <artifactId>commons-discovery</artifactId>
-      <version>0.2</version>
-    </dependency>
-
-  </dependencies>
-
-  <profiles>
-    <profile>
-      <id>wsrp2</id>
-      <activation>
-        <activeByDefault>true</activeByDefault>
-      </activation>
-      <properties>
-        <src.gen.dir>${basedir}/target/generated</src.gen.dir>
-      </properties>
-    </profile>
-  </profiles>
-
-  <properties>
-    <war.dir>${basedir}/war_template</war.dir>
-  </properties>
-
-  <build>
-
-    <resources>
-      <resource>
-        <directory>target/generated</directory>
-        <includes>
-          <include>**/*.wsdd</include>
-        </includes>
-      </resource>
-      <resource>
-        <directory>src/main/resources</directory>
-        <includes>
-          <include>**/*.xml</include>
-        </includes>
-      </resource>
-    </resources>
-
-    <!-- testSourceDirectory>src/notest</testSourceDirectory -->
-
-    <plugins>
-
-      <plugin>
-        <groupId>org.apache.maven.plugins</groupId>
-        <artifactId>maven-antrun-plugin</artifactId>
-        <version>1.3</version>
-        <executions>
-          <execution>
-            <id>0</id>
-            <phase>generate-sources</phase>
-            <configuration>
-              <tasks if="settings.activeProxy.host">
-                <echo>=== PROXY === [${settings.activeProxy.host}:${settings.activeProxy.port}] ===</echo>
-
-                <property name="activeProxy.host" value="${settings.activeProxy.host}" />
-                <property name="activeProxy.port" value="${settings.activeProxy.port}" />
-                <property name="activeProxy.user" value="${settings.activeProxy.username}" />
-                <property name="activeProxy.password" value="${settings.activeProxy.password}" />
-                <property name="activeProxy.nonProxyHosts" value="${settings.activeProxy.nonProxyHosts}" />
-
-                <taskdef name="setproxy" classname="org.apache.tools.ant.taskdefs.optional.net.SetProxy" />
-                <setproxy proxyhost="${settings.activeProxy.host}" proxyport="${settings.activeProxy.port}" proxypassword="${settings.activeProxy.password}" proxyuser="${settings.activeProxy.username}"
-                  nonproxyhosts="${settings.activeProxy.nonProxyHosts}" />
-
-                <mkdir dir="${src.gen.dir}" />
-                <java fork="yes" dir="wsdl" classname="org.apache.axis.wsdl.WSDL2Java">
-<!--                  <sysproperty key="proxySet" value="" />-->
-<!--                  <sysproperty key="proxyHost" value="${exo.proxy.host}" />-->
-<!--                  <sysproperty key="proxyPort" value="${exo.proxy.port}" />-->
-                  <arg line="-v -t -O -1 -a --server-side --deployScope 'Application' -W -o ${src.gen.dir} wsrp_service.wsdl" />
-                  <classpath refid="maven.dependency.classpath" />
-                </java>
-                <delete file="${src.gen.dir}/org/exoplatform/services/wsrp2/bind/WSRP_v2_ServiceDescription_Binding_SOAPImpl.java" />
-                <delete file="${src.gen.dir}/org/exoplatform/services/wsrp2/bind/WSRP_v2_Registration_Binding_SOAPImpl.java" />
-                <delete file="${src.gen.dir}/org/exoplatform/services/wsrp2/bind/WSRP_v2_Markup_Binding_SOAPImpl.java" />
-                <delete file="${src.gen.dir}/org/exoplatform/services/wsrp2/bind/WSRP_v2_PortletManagement_Binding_SOAPImpl.java" />
-              </tasks>
-              <sourceRoot>${src.gen.dir}</sourceRoot>
-            </configuration>
-            <goals>
-              <goal>run</goal>
-            </goals>
-          </execution>
-          <execution>
-            <id>1</id>
-            <phase>generate-sources</phase>
-            <configuration>
-              <tasks if="${settings.activeProxy.host}">
-                <echo>=== NON-PROXY ===</echo>
-                <mkdir dir="${src.gen.dir}" />
-                <java fork="yes" dir="wsdl" classname="org.apache.axis.wsdl.WSDL2Java">
-                  <arg line="-v -t -O -1 -a --server-side --deployScope 'Application' -W -o ${src.gen.dir} wsrp_service.wsdl" />
-                  <classpath refid="maven.dependency.classpath" />
-                </java>
-                <delete file="${src.gen.dir}/org/exoplatform/services/wsrp2/bind/WSRP_v2_ServiceDescription_Binding_SOAPImpl.java" />
-                <delete file="${src.gen.dir}/org/exoplatform/services/wsrp2/bind/WSRP_v2_Registration_Binding_SOAPImpl.java" />
-                <delete file="${src.gen.dir}/org/exoplatform/services/wsrp2/bind/WSRP_v2_Markup_Binding_SOAPImpl.java" />
-                <delete file="${src.gen.dir}/org/exoplatform/services/wsrp2/bind/WSRP_v2_PortletManagement_Binding_SOAPImpl.java" />
-              </tasks>
-              <sourceRoot>${src.gen.dir}</sourceRoot>
-            </configuration>
-            <goals>
-              <goal>run</goal>
-            </goals>
-          </execution>
-          <execution>
-            <id>2</id>
-            <phase>compile</phase>
-            <configuration>
-              <tasks>
-                <taskdef name="hibernatedoclet" classname="xdoclet.modules.hibernate.HibernateDocletTask" classpathref="maven.compile.classpath" />
-                <hibernatedoclet destdir="${basedir}/target/classes" excludedtags="@version,@author,@todo" mergedir="target/classes" force="true"
-                  verbose="false">
-                  <fileset dir="${basedir}/src/main/java">
-                    <include name="org/exoplatform/services/wsrp2/consumer/impl/WSRP2ProducerData.java" />
-                    <include name="org/exoplatform/services/wsrp2/producer/impl/WSRP2StateData.java" />
-                  </fileset>
-                  <hibernate version="3.0" />
-                </hibernatedoclet>
-              </tasks>
-            </configuration>
-            <goals>
-              <goal>run</goal>
-            </goals>
-          </execution>
-          <execution>
-            <id>3</id>
-            <phase>generate-test-sources</phase>
-            <configuration>
-              <tasks>
-                <mkdir dir="${basedir}/target/test-classes/" />
-                <copy todir="${basedir}/target/test-classes/">
-                  <fileset dir="${basedir}/war_template/src">
-                    <include name="**/*.properties" />
-                    <include name="**/*.xml" />
-                  </fileset>
-                </copy>
-                <javac fork="true" srcdir="${basedir}/war_template/src" destdir="${basedir}/target/test-classes/" debug="${maven.compile.debug}"
-                  deprecation="${maven.compile.deprecation}" optimize="${maven.compile.optimize}">
-                  <classpath>
-                    <path refid="maven.dependency.classpath" />
-                    <pathelement path="${maven.build.dest}" />
-                  </classpath>
-                </javac>
-              </tasks>
-            </configuration>
-            <goals>
-              <goal>run</goal>
-            </goals>
-          </execution>
-
-          <execution>
-            <id>4</id>
-            <phase>generate-test-sources</phase>
-            <configuration>
-              <tasks>
-                <war destfile="target/hello.war" webxml="war_template/WEB-INF/web.xml">
-                  <classes dir="target/test-classes">
-                    <exclude name="wsrp2/**/*" />
-                  </classes>
-                  <zipfileset dir="war_template/WEB-INF" includes="**/*" prefix="WEB-INF" />
-                  <!-- zipfileset dir="war_template/WEB-INF" includes="conf**/*" prefix="WEB-INF/classes" / -->
-                </war>
-              </tasks>
-            </configuration>
-            <goals>
-              <goal>run</goal>
-            </goals>
-          </execution>
-
-          <execution>
-            <id>5</id>
-            <phase>generate-test-sources</phase>
-            <configuration>
-              <tasks>
-                <jar destfile="${project.build.directory}/test/exo.pc.component.plugins.wsrp2.jar" basedir="target/classes" />
-              </tasks>
-            </configuration>
-            <goals>
-              <goal>run</goal>
-            </goals>
-          </execution>
-        </executions>
-        <dependencies>
-          <dependency>
-            <groupId>ant</groupId>
-            <artifactId>ant-nodeps</artifactId>
-            <version>1.6.5</version>
-          </dependency>
-        </dependencies>
-      </plugin>
-
-
-      <plugin>
-        <groupId>org.apache.maven.plugins</groupId>
-        <artifactId>maven-dependency-plugin</artifactId>
-        <executions>
-          <execution>
-            <id>copy</id>
-            <phase>generate-test-sources</phase>
-            <goals>
-              <goal>copy-dependencies</goal>
-            </goals>
-            <configuration>
-              <useRepositoryLayout>false</useRepositoryLayout>
-              <excludeTransitive>false</excludeTransitive>
-              <excludeGroupIds>xerces</excludeGroupIds>
-              <outputDirectory>${project.build.directory}/test</outputDirectory>
-            </configuration>
-          </execution>
-        </executions>
-      </plugin>
-
-      <plugin>
-        <groupId>org.apache.maven.plugins</groupId>
-        <artifactId>maven-surefire-plugin</artifactId>
-        <configuration>
-          <systemProperties>
-            <property>
-              <name>testPath</name>
-              <value>${basedir}</value>
-            </property>
-            <property>
-              <name>mock.portal.dir</name>
-              <value>${war.dir}</value>
-            </property>
-            <property>
-              <name>maven.exoplatform.dir</name>
-              <value>${war.dir}</value>
-            </property>
-            <property>
-              <name>exo.test.cargo.skip</name>
-              <value>${exo.test.cargo.skip}</value>
-            </property>
-          </systemProperties>
-          <includes>
-            <include>**/AllTestsPortlet.java</include>
-            <!--            <include>**/SuiteForTestProducer.java</include>-->
-            <!--            <include>**/SuiteForTestConsumer.java</include>-->
-            <!--            <include>**/TestPerformBlockingInteraction.java</include>-->
-            <!-- include>**/Test*.java</include -->
-          </includes>
-        </configuration>
-      </plugin>
-    </plugins>
-
-  </build>
-
-</project>
Index: component/plugins/wsrp2/pom.xml
===================================================================
--- component/plugins/wsrp2/pom.xml	(revision 65590)
+++ component/plugins/wsrp2/pom.xml	(working copy)
@@ -29,6 +29,7 @@
   <name>eXo PC Plugins WSRP2</name>
   <description>eXo PC wsrp2 plugin</description>
   <properties>
+    <src.gen.dir>${basedir}/target/generated</src.gen.dir>
     <war.dir>${basedir}/war_template</war.dir>
   </properties>
   <dependencies>
@@ -82,12 +83,12 @@
     <dependency>
       <groupId>org.exoplatform.portletcontainer</groupId>
       <artifactId>exo.pc.component.core</artifactId>
-      <version>2.0.13-SNAPSHOT</version>
+      <version>${project.version}</version>
     </dependency>
     <dependency>
       <groupId>org.exoplatform.portletcontainer</groupId>
       <artifactId>exo.pc.component.plugins.pc</artifactId>
-      <version>2.0.13-SNAPSHOT</version>
+      <version>${project.version}</version>
     </dependency>
     <dependency>
       <groupId>org.codehaus.cargo</groupId>
@@ -186,6 +187,684 @@
       <version>2.0</version>
     </dependency>
   </dependencies>
+  
+  <profiles>
+    <profile>
+      <id>cargo</id>
+      <activation>
+        <activeByDefault>false</activeByDefault>
+      </activation>
+      <dependencies>
+
+        <dependency>
+          <groupId>org.exoplatform.kernel</groupId>
+          <artifactId>exo.kernel.commons</artifactId>
+          <version>${org.exoplatform.kernel.version}</version>
+          <scope>compile</scope>
+        </dependency>
+
+        <dependency>
+          <groupId>org.exoplatform.kernel</groupId>
+          <artifactId>exo.kernel.container</artifactId>
+          <version>${org.exoplatform.kernel.version}</version>
+          <scope>compile</scope>
+        </dependency>
+
+        <dependency>
+          <groupId>org.exoplatform.kernel</groupId>
+          <artifactId>exo.kernel.component.common</artifactId>
+          <version>${org.exoplatform.kernel.version}</version>
+        </dependency>
+
+        <dependency>
+          <groupId>org.exoplatform.kernel</groupId>
+          <artifactId>exo.kernel.component.cache</artifactId>
+          <version>${org.exoplatform.kernel.version}</version>
+        </dependency>
+
+        <dependency>
+          <groupId>org.exoplatform.core</groupId>
+          <artifactId>exo.core.component.organization.api</artifactId>
+          <version>${org.exoplatform.core.version}</version>
+        </dependency>
+
+        <dependency>
+          <groupId>org.exoplatform.core</groupId>
+          <artifactId>exo.core.component.organization.jdbc</artifactId>
+          <version>${org.exoplatform.core.version}</version>
+        </dependency>
+
+        <dependency>
+          <groupId>org.exoplatform.core</groupId>
+          <artifactId>exo.core.component.database</artifactId>
+          <version>${org.exoplatform.core.version}</version>
+        </dependency>
+
+        <dependency>
+          <groupId>org.exoplatform.core</groupId>
+          <artifactId>exo.core.component.resources.api</artifactId>
+          <version>${org.exoplatform.core.version}</version>
+        </dependency>
+
+        <dependency>
+          <groupId>org.exoplatform.core</groupId>
+          <artifactId>exo.core.component.security.core</artifactId>
+          <version>${org.exoplatform.core.version}</version>
+        </dependency>
+
+        <dependency>
+          <groupId>org.exoplatform.portletcontainer</groupId>
+          <artifactId>exo.pc.component.core</artifactId>
+          <version>${project.version}</version>
+        </dependency>
+
+        <dependency>
+          <groupId>org.exoplatform.portletcontainer</groupId>
+          <artifactId>exo.pc.component.plugins.pc</artifactId>
+          <version>${project.version}</version>
+        </dependency>
+
+        <dependency>
+          <groupId>org.codehaus.cargo</groupId>
+          <artifactId>cargo-core-api-container</artifactId>
+          <version>0.9</version>
+        </dependency>
+
+        <dependency>
+          <groupId>org.codehaus.cargo</groupId>
+          <artifactId>cargo-core-api-generic</artifactId>
+          <version>0.9</version>
+        </dependency>
+
+        <dependency>
+          <groupId>org.codehaus.cargo</groupId>
+          <artifactId>cargo-core-container-tomcat</artifactId>
+          <version>0.9</version>
+        </dependency>
+
+        <dependency>
+          <groupId>javax.activation</groupId>
+          <artifactId>activation</artifactId>
+          <version>1.1</version>
+        </dependency>
+
+        <!-- ************************ soap ************************ -->
+
+        <dependency>
+          <groupId>axis</groupId>
+          <artifactId>axis</artifactId>
+          <version>1.4-0231</version>
+        </dependency>
+
+        <dependency>
+          <groupId>wsdl4j</groupId>
+          <artifactId>wsdl4j</artifactId>
+          <version>1.5.1</version>
+        </dependency>
+
+        <dependency>
+          <groupId>commons-discovery</groupId>
+          <artifactId>commons-discovery</artifactId>
+          <version>0.2</version>
+        </dependency>
+
+      </dependencies>
+
+      <properties>
+        <src.gen.dir>${basedir}/target/generated</src.gen.dir>
+        <war.dir>${basedir}/war_template</war.dir>
+      </properties>
+
+      <build>
+
+        <resources>
+          <resource>
+            <directory>target/generated</directory>
+            <includes>
+              <include>**/*.wsdd</include>
+            </includes>
+          </resource>
+          <resource>
+            <directory>src/main/resources</directory>
+            <includes>
+              <include>**/*.xml</include>
+            </includes>
+          </resource>
+        </resources>
+
+        <!-- testSourceDirectory>src/notest</testSourceDirectory -->
+
+        <plugins>
+
+          <plugin>
+            <groupId>org.apache.maven.plugins</groupId>
+            <artifactId>maven-antrun-plugin</artifactId>
+            <version>1.3</version>
+            <executions>
+              <execution>
+                <id>0</id>
+                <phase>generate-sources</phase>
+                <configuration>
+                  <tasks if="settings.activeProxy.host">
+                    <echo>=== PROXY === [${settings.activeProxy.host}:${settings.activeProxy.port}] ===</echo>
+
+                    <property name="activeProxy.host" value="${settings.activeProxy.host}" />
+                    <property name="activeProxy.port" value="${settings.activeProxy.port}" />
+                    <property name="activeProxy.user" value="${settings.activeProxy.username}" />
+                    <property name="activeProxy.password" value="${settings.activeProxy.password}" />
+                    <property name="activeProxy.nonProxyHosts" value="${settings.activeProxy.nonProxyHosts}" />
+
+                    <taskdef name="setproxy" classname="org.apache.tools.ant.taskdefs.optional.net.SetProxy" />
+                    <setproxy proxyhost="${settings.activeProxy.host}" proxyport="${settings.activeProxy.port}" proxypassword="${settings.activeProxy.password}" proxyuser="${settings.activeProxy.username}"
+                      nonproxyhosts="${settings.activeProxy.nonProxyHosts}" />
+
+                    <mkdir dir="${src.gen.dir}" />
+                    <java fork="yes" dir="wsdl" classname="org.apache.axis.wsdl.WSDL2Java">
+    <!--                  <sysproperty key="proxySet" value="" />-->
+    <!--                  <sysproperty key="proxyHost" value="${exo.proxy.host}" />-->
+    <!--                  <sysproperty key="proxyPort" value="${exo.proxy.port}" />-->
+                      <arg line="-v -t -O -1 -a --server-side --deployScope 'Application' -W -o ${src.gen.dir} wsrp_service.wsdl" />
+                      <classpath refid="maven.dependency.classpath" />
+                    </java>
+                    <delete file="${src.gen.dir}/org/exoplatform/services/wsrp2/bind/WSRP_v2_ServiceDescription_Binding_SOAPImpl.java" />
+                    <delete file="${src.gen.dir}/org/exoplatform/services/wsrp2/bind/WSRP_v2_Registration_Binding_SOAPImpl.java" />
+                    <delete file="${src.gen.dir}/org/exoplatform/services/wsrp2/bind/WSRP_v2_Markup_Binding_SOAPImpl.java" />
+                    <delete file="${src.gen.dir}/org/exoplatform/services/wsrp2/bind/WSRP_v2_PortletManagement_Binding_SOAPImpl.java" />
+                  </tasks>
+                  <sourceRoot>${src.gen.dir}</sourceRoot>
+                </configuration>
+                <goals>
+                  <goal>run</goal>
+                </goals>
+              </execution>
+              <execution>
+                <id>1</id>
+                <phase>generate-sources</phase>
+                <configuration>
+                  <tasks if="${settings.activeProxy.host}">
+                    <echo>=== NON-PROXY ===</echo>
+                    <mkdir dir="${src.gen.dir}" />
+                    <java fork="yes" dir="wsdl" classname="org.apache.axis.wsdl.WSDL2Java">
+                      <arg line="-v -t -O -1 -a --server-side --deployScope 'Application' -W -o ${src.gen.dir} wsrp_service.wsdl" />
+                      <classpath refid="maven.dependency.classpath" />
+                    </java>
+                    <delete file="${src.gen.dir}/org/exoplatform/services/wsrp2/bind/WSRP_v2_ServiceDescription_Binding_SOAPImpl.java" />
+                    <delete file="${src.gen.dir}/org/exoplatform/services/wsrp2/bind/WSRP_v2_Registration_Binding_SOAPImpl.java" />
+                    <delete file="${src.gen.dir}/org/exoplatform/services/wsrp2/bind/WSRP_v2_Markup_Binding_SOAPImpl.java" />
+                    <delete file="${src.gen.dir}/org/exoplatform/services/wsrp2/bind/WSRP_v2_PortletManagement_Binding_SOAPImpl.java" />
+                  </tasks>
+                  <sourceRoot>${src.gen.dir}</sourceRoot>
+                </configuration>
+                <goals>
+                  <goal>run</goal>
+                </goals>
+              </execution>
+              <execution>
+                <id>2</id>
+                <phase>compile</phase>
+                <configuration>
+                  <tasks>
+                    <taskdef name="hibernatedoclet" classname="xdoclet.modules.hibernate.HibernateDocletTask" classpathref="maven.compile.classpath" />
+                    <hibernatedoclet destdir="${basedir}/target/classes" excludedtags="@version,@author,@todo" mergedir="target/classes" force="true"
+                      verbose="false">
+                      <fileset dir="${basedir}/src/main/java">
+                        <include name="org/exoplatform/services/wsrp2/consumer/impl/WSRP2ProducerData.java" />
+                        <include name="org/exoplatform/services/wsrp2/producer/impl/WSRP2StateData.java" />
+                      </fileset>
+                      <hibernate version="3.0" />
+                    </hibernatedoclet>
+                  </tasks>
+                </configuration>
+                <goals>
+                  <goal>run</goal>
+                </goals>
+              </execution>
+              <execution>
+                <id>3</id>
+                <phase>generate-test-sources</phase>
+                <configuration>
+                  <tasks>
+                    <mkdir dir="${basedir}/target/test-classes/" />
+                    <copy todir="${basedir}/target/test-classes/">
+                      <fileset dir="${basedir}/war_template/src">
+                        <include name="**/*.properties" />
+                        <include name="**/*.xml" />
+                      </fileset>
+                    </copy>
+                    <javac fork="true" srcdir="${basedir}/war_template/src" destdir="${basedir}/target/test-classes/" debug="${maven.compile.debug}"
+                      deprecation="${maven.compile.deprecation}" optimize="${maven.compile.optimize}">
+                      <classpath>
+                        <path refid="maven.dependency.classpath" />
+                        <pathelement path="${maven.build.dest}" />
+                      </classpath>
+                    </javac>
+                  </tasks>
+                </configuration>
+                <goals>
+                  <goal>run</goal>
+                </goals>
+              </execution>
+
+              <execution>
+                <id>4</id>
+                <phase>generate-test-sources</phase>
+                <configuration>
+                  <tasks>
+                    <war destfile="target/hello.war" webxml="war_template/WEB-INF/web.xml">
+                      <classes dir="target/test-classes">
+                        <exclude name="wsrp2/**/*" />
+                      </classes>
+                      <zipfileset dir="war_template/WEB-INF" includes="**/*" prefix="WEB-INF" />
+                      <!-- zipfileset dir="war_template/WEB-INF" includes="conf**/*" prefix="WEB-INF/classes" / -->
+                    </war>
+                  </tasks>
+                </configuration>
+                <goals>
+                  <goal>run</goal>
+                </goals>
+              </execution>
+
+              <execution>
+                <id>5</id>
+                <phase>generate-test-sources</phase>
+                <configuration>
+                  <tasks>
+                    <jar destfile="${project.build.directory}/test/exo.pc.component.plugins.wsrp2.jar" basedir="target/classes" />
+                  </tasks>
+                </configuration>
+                <goals>
+                  <goal>run</goal>
+                </goals>
+              </execution>
+            </executions>
+            <dependencies>
+              <dependency>
+                <groupId>ant</groupId>
+                <artifactId>ant-nodeps</artifactId>
+                <version>1.6.5</version>
+              </dependency>
+            </dependencies>
+          </plugin>
+
+
+          <plugin>
+            <groupId>org.apache.maven.plugins</groupId>
+            <artifactId>maven-dependency-plugin</artifactId>
+            <executions>
+              <execution>
+                <id>copy</id>
+                <phase>generate-test-sources</phase>
+                <goals>
+                  <goal>copy-dependencies</goal>
+                </goals>
+                <configuration>
+                  <useRepositoryLayout>false</useRepositoryLayout>
+                  <excludeTransitive>false</excludeTransitive>
+                  <excludeGroupIds>xerces</excludeGroupIds>
+                  <outputDirectory>${project.build.directory}/test</outputDirectory>
+                </configuration>
+              </execution>
+            </executions>
+          </plugin>
+
+          <plugin>
+            <groupId>org.apache.maven.plugins</groupId>
+            <artifactId>maven-surefire-plugin</artifactId>
+            <configuration>
+              <systemProperties>
+                <property>
+                  <name>testPath</name>
+                  <value>${basedir}</value>
+                </property>
+                <property>
+                  <name>mock.portal.dir</name>
+                  <value>${war.dir}</value>
+                </property>
+                <property>
+                  <name>maven.exoplatform.dir</name>
+                  <value>${war.dir}</value>
+                </property>
+                <property>
+                  <name>exo.test.cargo.skip</name>
+                  <value>${exo.test.cargo.skip}</value>
+                </property>
+              </systemProperties>
+              <includes>
+                <include>**/AllTestsPortlet.java</include>
+                <!--            <include>**/SuiteForTestProducer.java</include>-->
+                <!--            <include>**/SuiteForTestConsumer.java</include>-->
+                <!--            <include>**/TestPerformBlockingInteraction.java</include>-->
+                <!-- include>**/Test*.java</include -->
+              </includes>
+            </configuration>
+          </plugin>
+        </plugins>
+
+      </build>
+    </profile>
+    
+    <profile>
+      <id>nocargo</id>
+      <activation>
+        <activeByDefault>false</activeByDefault>
+      </activation>
+      
+      <dependencies>
+
+        <dependency>
+          <groupId>org.exoplatform.kernel</groupId>
+          <artifactId>exo.kernel.commons</artifactId>
+          <version>${org.exoplatform.kernel.version}</version>
+          <scope>compile</scope>
+        </dependency>
+
+        <dependency>
+          <groupId>org.exoplatform.kernel</groupId>
+          <artifactId>exo.kernel.container</artifactId>
+          <version>${org.exoplatform.kernel.version}</version>
+          <scope>compile</scope>
+        </dependency>
+
+        <dependency>
+          <groupId>org.exoplatform.kernel</groupId>
+          <artifactId>exo.kernel.component.common</artifactId>
+          <version>${org.exoplatform.kernel.version}</version>
+        </dependency>
+
+        <dependency>
+          <groupId>org.exoplatform.kernel</groupId>
+          <artifactId>exo.kernel.component.cache</artifactId>
+          <version>${org.exoplatform.kernel.version}</version>
+        </dependency>
+
+        <dependency>
+          <groupId>org.exoplatform.core</groupId>
+          <artifactId>exo.core.component.organization.api</artifactId>
+          <version>${org.exoplatform.core.version}</version>
+        </dependency>
+
+        <dependency>
+          <groupId>org.exoplatform.core</groupId>
+          <artifactId>exo.core.component.organization.jdbc</artifactId>
+          <version>${org.exoplatform.core.version}</version>
+        </dependency>
+
+        <dependency>
+          <groupId>org.exoplatform.core</groupId>
+          <artifactId>exo.core.component.database</artifactId>
+          <version>${org.exoplatform.core.version}</version>
+        </dependency>
+
+        <dependency>
+          <groupId>org.exoplatform.core</groupId>
+          <artifactId>exo.core.component.resources.api</artifactId>
+          <version>${org.exoplatform.core.version}</version>
+        </dependency>
+
+        <dependency>
+          <groupId>org.exoplatform.core</groupId>
+          <artifactId>exo.core.component.security.core</artifactId>
+          <version>${org.exoplatform.core.version}</version>
+        </dependency>
+
+        <dependency>
+          <groupId>org.exoplatform.portletcontainer</groupId>
+          <artifactId>exo.pc.component.core</artifactId>
+          <version>${project.version}</version>
+        </dependency>
+
+        <dependency>
+          <groupId>org.exoplatform.portletcontainer</groupId>
+          <artifactId>exo.pc.component.plugins.pc</artifactId>
+          <version>${project.version}</version>
+        </dependency>
+
+        <dependency>
+          <groupId>org.codehaus.cargo</groupId>
+          <artifactId>cargo-core-api-container</artifactId>
+          <version>0.9</version>
+        </dependency>
+
+        <dependency>
+          <groupId>org.codehaus.cargo</groupId>
+          <artifactId>cargo-core-api-generic</artifactId>
+          <version>0.9</version>
+        </dependency>
+
+        <dependency>
+          <groupId>org.codehaus.cargo</groupId>
+          <artifactId>cargo-core-container-tomcat</artifactId>
+          <version>0.9</version>
+        </dependency>
+
+        <dependency>
+          <groupId>javax.activation</groupId>
+          <artifactId>activation</artifactId>
+          <version>1.1</version>
+        </dependency>
+
+        <!-- ************************ soap ************************ -->
+
+        <dependency>
+          <groupId>axis</groupId>
+          <artifactId>axis</artifactId>
+          <version>1.4-0231</version>
+        </dependency>
+
+        <dependency>
+          <groupId>wsdl4j</groupId>
+          <artifactId>wsdl4j</artifactId>
+          <version>1.5.1</version>
+        </dependency>
+
+        <dependency>
+          <groupId>commons-discovery</groupId>
+          <artifactId>commons-discovery</artifactId>
+          <version>0.2</version>
+        </dependency>
+
+      </dependencies>
+
+      <properties>
+        <src.gen.dir>${basedir}/target/generated</src.gen.dir>
+        <war.dir>${basedir}/war_template</war.dir>
+      </properties>
+
+      <build>
+
+        <resources>
+          <resource>
+            <directory>target/generated</directory>
+            <includes>
+              <include>**/*.wsdd</include>
+            </includes>
+          </resource>
+          <resource>
+            <directory>src/main/resources</directory>
+            <includes>
+              <include>**/*.xml</include>
+            </includes>
+          </resource>
+        </resources>
+
+        <plugins>
+
+          <plugin>
+            <groupId>org.apache.maven.plugins</groupId>
+            <artifactId>maven-antrun-plugin</artifactId>
+            <version>1.3</version>
+            <executions>
+              <execution>
+                <id>0</id>
+                <phase>generate-sources</phase>
+                <configuration>
+                  <tasks if="settings.activeProxy.host">
+                    <echo>=== PROXY === [${settings.activeProxy.host}:${settings.activeProxy.port}] ===</echo>
+
+                    <property name="activeProxy.host" value="${settings.activeProxy.host}" />
+                    <property name="activeProxy.port" value="${settings.activeProxy.port}" />
+                    <property name="activeProxy.user" value="${settings.activeProxy.username}" />
+                    <property name="activeProxy.password" value="${settings.activeProxy.password}" />
+                    <property name="activeProxy.nonProxyHosts" value="${settings.activeProxy.nonProxyHosts}" />
+
+                    <taskdef name="setproxy" classname="org.apache.tools.ant.taskdefs.optional.net.SetProxy" />
+                    <setproxy proxyhost="${settings.activeProxy.host}" proxyport="${settings.activeProxy.port}" proxypassword="${settings.activeProxy.password}" proxyuser="${settings.activeProxy.username}"
+                      nonproxyhosts="${settings.activeProxy.nonProxyHosts}" />
+
+                    <mkdir dir="${src.gen.dir}" />
+                    <java fork="yes" dir="wsdl" classname="org.apache.axis.wsdl.WSDL2Java">
+    <!--                  <sysproperty key="proxySet" value="" />-->
+    <!--                  <sysproperty key="proxyHost" value="${exo.proxy.host}" />-->
+    <!--                  <sysproperty key="proxyPort" value="${exo.proxy.port}" />-->
+                      <arg line="-v -t -O -1 -a --server-side --deployScope 'Application' -W -o ${src.gen.dir} wsrp_service.wsdl" />
+                      <classpath refid="maven.dependency.classpath" />
+                    </java>
+                    <delete file="${src.gen.dir}/org/exoplatform/services/wsrp2/bind/WSRP_v2_ServiceDescription_Binding_SOAPImpl.java" />
+                    <delete file="${src.gen.dir}/org/exoplatform/services/wsrp2/bind/WSRP_v2_Registration_Binding_SOAPImpl.java" />
+                    <delete file="${src.gen.dir}/org/exoplatform/services/wsrp2/bind/WSRP_v2_Markup_Binding_SOAPImpl.java" />
+                    <delete file="${src.gen.dir}/org/exoplatform/services/wsrp2/bind/WSRP_v2_PortletManagement_Binding_SOAPImpl.java" />
+                  </tasks>
+                  <sourceRoot>${src.gen.dir}</sourceRoot>
+                </configuration>
+                <goals>
+                  <goal>run</goal>
+                </goals>
+              </execution>
+              <execution>
+                <id>1</id>
+                <phase>generate-sources</phase>
+                <configuration>
+                  <tasks if="${settings.activeProxy.host}">
+                    <echo>=== NON-PROXY ===</echo>
+                    <mkdir dir="${src.gen.dir}" />
+                    <java fork="yes" dir="wsdl" classname="org.apache.axis.wsdl.WSDL2Java">
+                      <arg line="-v -t -O -1 -a --server-side --deployScope 'Application' -W -o ${src.gen.dir} wsrp_service.wsdl" />
+                      <classpath refid="maven.dependency.classpath" />
+                    </java>
+                    <delete file="${src.gen.dir}/org/exoplatform/services/wsrp2/bind/WSRP_v2_ServiceDescription_Binding_SOAPImpl.java" />
+                    <delete file="${src.gen.dir}/org/exoplatform/services/wsrp2/bind/WSRP_v2_Registration_Binding_SOAPImpl.java" />
+                    <delete file="${src.gen.dir}/org/exoplatform/services/wsrp2/bind/WSRP_v2_Markup_Binding_SOAPImpl.java" />
+                    <delete file="${src.gen.dir}/org/exoplatform/services/wsrp2/bind/WSRP_v2_PortletManagement_Binding_SOAPImpl.java" />
+                  </tasks>
+                  <sourceRoot>${src.gen.dir}</sourceRoot>
+                </configuration>
+                <goals>
+                  <goal>run</goal>
+                </goals>
+              </execution>
+              <execution>
+                <id>2</id>
+                <phase>compile</phase>
+                <configuration>
+                  <tasks>
+                    <taskdef name="hibernatedoclet" classname="xdoclet.modules.hibernate.HibernateDocletTask" classpathref="maven.compile.classpath" />
+                    <hibernatedoclet destdir="${basedir}/target/classes" excludedtags="@version,@author,@todo" mergedir="target/classes" force="true"
+                      verbose="false">
+                      <fileset dir="${basedir}/src/main/java">
+                        <include name="org/exoplatform/services/wsrp2/consumer/impl/WSRP2ProducerData.java" />
+                        <include name="org/exoplatform/services/wsrp2/producer/impl/WSRP2StateData.java" />
+                      </fileset>
+                      <hibernate version="3.0" />
+                    </hibernatedoclet>
+                  </tasks>
+                </configuration>
+                <goals>
+                  <goal>run</goal>
+                </goals>
+              </execution>
+              <execution>
+                <id>3</id>
+                <phase>generate-test-sources</phase>
+                <configuration>
+                  <tasks>
+                    <mkdir dir="${basedir}/target/test-classes/" />
+                    <copy todir="${basedir}/target/test-classes/">
+                      <fileset dir="${basedir}/war_template/src">
+                        <include name="**/*.properties" />
+                        <include name="**/*.xml" />
+                      </fileset>
+                    </copy>
+                    <javac fork="true" srcdir="${basedir}/war_template/src" destdir="${basedir}/target/test-classes/" debug="${maven.compile.debug}"
+                      deprecation="${maven.compile.deprecation}" optimize="${maven.compile.optimize}">
+                      <classpath>
+                        <path refid="maven.dependency.classpath" />
+                        <pathelement path="${maven.build.dest}" />
+                      </classpath>
+                    </javac>
+                  </tasks>
+                </configuration>
+                <goals>
+                  <goal>run</goal>
+                </goals>
+              </execution>
+
+              <execution>
+                <id>4</id>
+                <phase>generate-test-sources</phase>
+                <configuration>
+                  <tasks>
+                    <war destfile="target/hello.war" webxml="war_template/WEB-INF/web.xml">
+                      <classes dir="target/test-classes">
+                        <exclude name="wsrp2/**/*" />
+                      </classes>
+                      <zipfileset dir="war_template/WEB-INF" includes="**/*" prefix="WEB-INF" />
+                      <!-- zipfileset dir="war_template/WEB-INF" includes="conf**/*" prefix="WEB-INF/classes" / -->
+                    </war>
+                  </tasks>
+                </configuration>
+                <goals>
+                  <goal>run</goal>
+                </goals>
+              </execution>
+            </executions>
+            <dependencies>
+              <dependency>
+                <groupId>ant</groupId>
+                <artifactId>ant-nodeps</artifactId>
+                <version>1.6.5</version>
+              </dependency>
+            </dependencies>
+          </plugin>
+
+          <plugin>
+            <groupId>org.apache.maven.plugins</groupId>
+            <artifactId>maven-surefire-plugin</artifactId>
+            <configuration>
+              <systemProperties>
+                <property>
+                  <name>testPath</name>
+                  <value>${basedir}</value>
+                </property>
+                <property>
+                  <name>mock.portal.dir</name>
+                  <value>${war.dir}</value>
+                </property>
+                <property>
+                  <name>maven.exoplatform.dir</name>
+                  <value>${war.dir}</value>
+                </property>
+                <property>
+                  <name>exo.test.cargo.skip</name>
+                  <value>${exo.test.cargo.skip}</value>
+                </property>
+              </systemProperties>
+              <includes>
+                <include>**/AllTestsPortlet.java</include>
+                <!--            <include>**/SuiteForTestProducer.java</include>-->
+                <!--            <include>**/SuiteForTestConsumer.java</include>-->
+                <!--            <include>**/TestPerformBlockingInteraction.java</include>-->
+                <!-- include>**/Test*.java</include -->
+              </includes>
+            </configuration>
+          </plugin>
+
+        </plugins>
+
+      </build>
+    </profile>
+  </profiles>
+  
+  
   <build>
     <resources>
       <resource>
@@ -397,15 +1076,4 @@
   <!--            <include>**/SuiteForTestConsumer.java</include>-->
   <!--            <include>**/TestRegistrationInterface.java</include>-->
   <!-- include>**/Test*.java</include -->
-  <profiles>
-    <profile>
-      <id>wsrp2</id>
-      <activation>
-        <activeByDefault>true</activeByDefault>
-      </activation>
-      <properties>
-        <src.gen.dir>${basedir}/target/generated</src.gen.dir>
-      </properties>
-    </profile>
-  </profiles>
 </project>
Index: component/plugins/wsrp2/pom-noncargo.xml
===================================================================
--- component/plugins/wsrp2/pom-noncargo.xml	(revision 65590)
+++ component/plugins/wsrp2/pom-noncargo.xml	(working copy)
@@ -1,337 +0,0 @@
-<project>
-  <parent>
-    <groupId>org.exoplatform.portletcontainer</groupId>
-    <artifactId>config</artifactId>
-    <version>2.0.13-SNAPSHOT</version>
-  </parent>
-  <modelVersion>4.0.0</modelVersion>
-  <artifactId>exo.pc.component.plugins.wsrp2</artifactId>
-  <packaging>jar</packaging>
-  <name>eXo Portlet Container 2 Plugins WSRP2</name>
-  <description>eXo Portlet Container 2 wsrp2 plugin</description>
-
-  <dependencies>
-
-    <dependency>
-      <groupId>org.exoplatform.kernel</groupId>
-      <artifactId>exo.kernel.commons</artifactId>
-      <version>${org.exoplatform.kernel.version}</version>
-      <scope>compile</scope>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.kernel</groupId>
-      <artifactId>exo.kernel.container</artifactId>
-      <version>${org.exoplatform.kernel.version}</version>
-      <scope>compile</scope>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.kernel</groupId>
-      <artifactId>exo.kernel.component.common</artifactId>
-      <version>${org.exoplatform.kernel.version}</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.kernel</groupId>
-      <artifactId>exo.kernel.component.cache</artifactId>
-      <version>${org.exoplatform.kernel.version}</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.core</groupId>
-      <artifactId>exo.core.component.organization.api</artifactId>
-      <version>${org.exoplatform.core.version}</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.core</groupId>
-      <artifactId>exo.core.component.organization.jdbc</artifactId>
-      <version>${org.exoplatform.core.version}</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.core</groupId>
-      <artifactId>exo.core.component.database</artifactId>
-      <version>${org.exoplatform.core.version}</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.core</groupId>
-      <artifactId>exo.core.component.resources.api</artifactId>
-      <version>${org.exoplatform.core.version}</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.core</groupId>
-      <artifactId>exo.core.component.security.core</artifactId>
-      <version>${org.exoplatform.core.version}</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.portletcontainer</groupId>
-      <artifactId>exo.pc.component.core</artifactId>
-      <version>${org.exoplatform.pc.version}</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.exoplatform.portletcontainer</groupId>
-      <artifactId>exo.pc.component.plugins.pc</artifactId>
-      <version>${org.exoplatform.pc.version}</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.codehaus.cargo</groupId>
-      <artifactId>cargo-core-api-container</artifactId>
-      <version>0.9-SNAPSHOT</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.codehaus.cargo</groupId>
-      <artifactId>cargo-core-api-generic</artifactId>
-      <version>0.9-SNAPSHOT</version>
-    </dependency>
-
-    <dependency>
-      <groupId>org.codehaus.cargo</groupId>
-      <artifactId>cargo-core-container-tomcat</artifactId>
-      <version>0.9-SNAPSHOT</version>
-    </dependency>
-
-    <dependency>
-      <groupId>javax.activation</groupId>
-      <artifactId>activation</artifactId>
-      <version>1.1</version>
-    </dependency>
-
-    <!-- ************************ soap ************************ -->
-
-    <dependency>
-      <groupId>axis</groupId>
-      <artifactId>axis</artifactId>
-      <version>1.4-0231</version>
-    </dependency>
-
-    <dependency>
-      <groupId>wsdl4j</groupId>
-      <artifactId>wsdl4j</artifactId>
-      <version>1.5.1</version>
-    </dependency>
-
-    <dependency>
-      <groupId>commons-discovery</groupId>
-      <artifactId>commons-discovery</artifactId>
-      <version>0.2</version>
-    </dependency>
-
-  </dependencies>
-
-  <profiles>
-    <profile>
-      <id>wsrp2</id>
-      <activation>
-        <activeByDefault>true</activeByDefault>
-      </activation>
-      <properties>
-        <src.gen.dir>${basedir}/target/generated</src.gen.dir>
-      </properties>
-    </profile>
-  </profiles>
-
-  <properties>
-    <war.dir>${basedir}/war_template</war.dir>
-  </properties>
-
-  <build>
-
-    <resources>
-      <resource>
-        <directory>target/generated</directory>
-        <includes>
-          <include>**/*.wsdd</include>
-        </includes>
-      </resource>
-      <resource>
-        <directory>src/main/resources</directory>
-        <includes>
-          <include>**/*.xml</include>
-        </includes>
-      </resource>
-    </resources>
-
-    <plugins>
-
-      <plugin>
-        <groupId>org.apache.maven.plugins</groupId>
-        <artifactId>maven-antrun-plugin</artifactId>
-        <version>1.3</version>
-        <executions>
-          <execution>
-            <id>0</id>
-            <phase>generate-sources</phase>
-            <configuration>
-              <tasks if="settings.activeProxy.host">
-                <echo>=== PROXY === [${settings.activeProxy.host}:${settings.activeProxy.port}] ===</echo>
-
-                <property name="activeProxy.host" value="${settings.activeProxy.host}" />
-                <property name="activeProxy.port" value="${settings.activeProxy.port}" />
-                <property name="activeProxy.user" value="${settings.activeProxy.username}" />
-                <property name="activeProxy.password" value="${settings.activeProxy.password}" />
-                <property name="activeProxy.nonProxyHosts" value="${settings.activeProxy.nonProxyHosts}" />
-
-                <taskdef name="setproxy" classname="org.apache.tools.ant.taskdefs.optional.net.SetProxy" />
-                <setproxy proxyhost="${settings.activeProxy.host}" proxyport="${settings.activeProxy.port}" proxypassword="${settings.activeProxy.password}" proxyuser="${settings.activeProxy.username}"
-                  nonproxyhosts="${settings.activeProxy.nonProxyHosts}" />
-
-                <mkdir dir="${src.gen.dir}" />
-                <java fork="yes" dir="wsdl" classname="org.apache.axis.wsdl.WSDL2Java">
-<!--                  <sysproperty key="proxySet" value="" />-->
-<!--                  <sysproperty key="proxyHost" value="${exo.proxy.host}" />-->
-<!--                  <sysproperty key="proxyPort" value="${exo.proxy.port}" />-->
-                  <arg line="-v -t -O -1 -a --server-side --deployScope 'Application' -W -o ${src.gen.dir} wsrp_service.wsdl" />
-                  <classpath refid="maven.dependency.classpath" />
-                </java>
-                <delete file="${src.gen.dir}/org/exoplatform/services/wsrp2/bind/WSRP_v2_ServiceDescription_Binding_SOAPImpl.java" />
-                <delete file="${src.gen.dir}/org/exoplatform/services/wsrp2/bind/WSRP_v2_Registration_Binding_SOAPImpl.java" />
-                <delete file="${src.gen.dir}/org/exoplatform/services/wsrp2/bind/WSRP_v2_Markup_Binding_SOAPImpl.java" />
-                <delete file="${src.gen.dir}/org/exoplatform/services/wsrp2/bind/WSRP_v2_PortletManagement_Binding_SOAPImpl.java" />
-              </tasks>
-              <sourceRoot>${src.gen.dir}</sourceRoot>
-            </configuration>
-            <goals>
-              <goal>run</goal>
-            </goals>
-          </execution>
-          <execution>
-            <id>1</id>
-            <phase>generate-sources</phase>
-            <configuration>
-              <tasks if="${settings.activeProxy.host}">
-                <echo>=== NON-PROXY ===</echo>
-                <mkdir dir="${src.gen.dir}" />
-                <java fork="yes" dir="wsdl" classname="org.apache.axis.wsdl.WSDL2Java">
-                  <arg line="-v -t -O -1 -a --server-side --deployScope 'Application' -W -o ${src.gen.dir} wsrp_service.wsdl" />
-                  <classpath refid="maven.dependency.classpath" />
-                </java>
-                <delete file="${src.gen.dir}/org/exoplatform/services/wsrp2/bind/WSRP_v2_ServiceDescription_Binding_SOAPImpl.java" />
-                <delete file="${src.gen.dir}/org/exoplatform/services/wsrp2/bind/WSRP_v2_Registration_Binding_SOAPImpl.java" />
-                <delete file="${src.gen.dir}/org/exoplatform/services/wsrp2/bind/WSRP_v2_Markup_Binding_SOAPImpl.java" />
-                <delete file="${src.gen.dir}/org/exoplatform/services/wsrp2/bind/WSRP_v2_PortletManagement_Binding_SOAPImpl.java" />
-              </tasks>
-              <sourceRoot>${src.gen.dir}</sourceRoot>
-            </configuration>
-            <goals>
-              <goal>run</goal>
-            </goals>
-          </execution>
-          <execution>
-            <id>2</id>
-            <phase>compile</phase>
-            <configuration>
-              <tasks>
-                <taskdef name="hibernatedoclet" classname="xdoclet.modules.hibernate.HibernateDocletTask" classpathref="maven.compile.classpath" />
-                <hibernatedoclet destdir="${basedir}/target/classes" excludedtags="@version,@author,@todo" mergedir="target/classes" force="true"
-                  verbose="false">
-                  <fileset dir="${basedir}/src/main/java">
-                    <include name="org/exoplatform/services/wsrp2/consumer/impl/WSRP2ProducerData.java" />
-                    <include name="org/exoplatform/services/wsrp2/producer/impl/WSRP2StateData.java" />
-                  </fileset>
-                  <hibernate version="3.0" />
-                </hibernatedoclet>
-              </tasks>
-            </configuration>
-            <goals>
-              <goal>run</goal>
-            </goals>
-          </execution>
-          <execution>
-            <id>3</id>
-            <phase>generate-test-sources</phase>
-            <configuration>
-              <tasks>
-                <mkdir dir="${basedir}/target/test-classes/" />
-                <copy todir="${basedir}/target/test-classes/">
-                  <fileset dir="${basedir}/war_template/src">
-                    <include name="**/*.properties" />
-                    <include name="**/*.xml" />
-                  </fileset>
-                </copy>
-                <javac fork="true" srcdir="${basedir}/war_template/src" destdir="${basedir}/target/test-classes/" debug="${maven.compile.debug}"
-                  deprecation="${maven.compile.deprecation}" optimize="${maven.compile.optimize}">
-                  <classpath>
-                    <path refid="maven.dependency.classpath" />
-                    <pathelement path="${maven.build.dest}" />
-                  </classpath>
-                </javac>
-              </tasks>
-            </configuration>
-            <goals>
-              <goal>run</goal>
-            </goals>
-          </execution>
-
-          <execution>
-            <id>4</id>
-            <phase>generate-test-sources</phase>
-            <configuration>
-              <tasks>
-                <war destfile="target/hello.war" webxml="war_template/WEB-INF/web.xml">
-                  <classes dir="target/test-classes">
-                    <exclude name="wsrp2/**/*" />
-                  </classes>
-                  <zipfileset dir="war_template/WEB-INF" includes="**/*" prefix="WEB-INF" />
-                  <!-- zipfileset dir="war_template/WEB-INF" includes="conf**/*" prefix="WEB-INF/classes" / -->
-                </war>
-              </tasks>
-            </configuration>
-            <goals>
-              <goal>run</goal>
-            </goals>
-          </execution>
-        </executions>
-        <dependencies>
-          <dependency>
-            <groupId>ant</groupId>
-            <artifactId>ant-nodeps</artifactId>
-            <version>1.6.5</version>
-          </dependency>
-        </dependencies>
-      </plugin>
-
-      <plugin>
-        <groupId>org.apache.maven.plugins</groupId>
-        <artifactId>maven-surefire-plugin</artifactId>
-        <configuration>
-          <systemProperties>
-            <property>
-              <name>testPath</name>
-              <value>${basedir}</value>
-            </property>
-            <property>
-              <name>mock.portal.dir</name>
-              <value>${war.dir}</value>
-            </property>
-            <property>
-              <name>maven.exoplatform.dir</name>
-              <value>${war.dir}</value>
-            </property>
-            <property>
-              <name>exo.test.cargo.skip</name>
-              <value>${exo.test.cargo.skip}</value>
-            </property>
-          </systemProperties>
-          <includes>
-            <include>**/AllTestsPortlet.java</include>
-            <!--            <include>**/SuiteForTestProducer.java</include>-->
-            <!--            <include>**/SuiteForTestConsumer.java</include>-->
-            <!--            <include>**/TestPerformBlockingInteraction.java</include>-->
-            <!-- include>**/Test*.java</include -->
-          </includes>
-        </configuration>
-      </plugin>
-
-    </plugins>
-
-  </build>
-
-</project>
Index: component/core/with-javadoc-pictures.sh
===================================================================
--- component/core/with-javadoc-pictures.sh	(revision 0)
+++ component/core/with-javadoc-pictures.sh	(revision 65565)
@@ -0,0 +1,3 @@
+# simple script to run maven install with 'with-javadoc-pictures' profile
+
+mvn install -Pwith-javadoc-pictures

Property changes on: component/core/with-javadoc-pictures.sh
___________________________________________________________________
Added: svn:executable
   + *
Added: svn:eol-style
   + native

Index: component/core/readme.txt
===================================================================
--- component/core/readme.txt	(revision 0)
+++ component/core/readme.txt	(revision 65565)
@@ -0,0 +1 @@
+Please, us with-javadoc-pictures.sh to build old pom-with-javadoc-pictures.xml

Property changes on: component/core/readme.txt
___________________________________________________________________
Added: svn:eol-style
   + native

Index: component/core/pom-with-javadoc-pictures.xml
===================================================================
--- component/core/pom-with-javadoc-pictures.xml	(revision 65590)
+++ component/core/pom-with-javadoc-pictures.xml	(working copy)
@@ -1,157 +0,0 @@
-<project>
-  <parent>
-    <groupId>org.exoplatform.portletcontainer</groupId>
-    <artifactId>config</artifactId>
-    <version>2.0.13-SNAPSHOT</version>
-  </parent>
-  <modelVersion>4.0.0</modelVersion>
-  <artifactId>exo.pc.component.core</artifactId>
-  <packaging>jar</packaging>
-  <name>eXo Portlet Container 2 Core</name>
-  <description>eXo Portlet Container 2 Core</description>
-  <dependencies>
-    <dependency>
-      <groupId>org.exoplatform.kernel</groupId>
-      <artifactId>exo.kernel.container</artifactId>
-      <version>${org.exoplatform.kernel.version}</version>
-      <optional>true</optional>
-    </dependency>
-    <dependency>
-      <groupId>javax.portlet</groupId>
-      <artifactId>portlet-api</artifactId>
-      <version>2.0</version>
-      <scope>compile</scope>
-      <exclusions>
-        <exclusion>
-          <groupId>javax.portlet</groupId>
-          <artifactId>portlet-api</artifactId>
-        </exclusion>
-      </exclusions>
-    </dependency>
-    <dependency>
-      <groupId>org.exoplatform.kernel</groupId>
-      <artifactId>exo.kernel.commons</artifactId>
-      <version>${org.exoplatform.kernel.version}</version>
-      <optional>compile</optional>
-    </dependency>
-    <dependency>
-      <groupId>org.exoplatform.kernel</groupId>
-      <artifactId>exo.kernel.component.common</artifactId>
-      <version>${org.exoplatform.kernel.version}</version>
-      <optional>compile</optional>
-    </dependency>
-  </dependencies>
-  <build>
-    <plugins>
-      <plugin>
-        <groupId>org.apache.maven.plugins</groupId>
-        <artifactId>maven-surefire-plugin</artifactId>
-        <configuration>
-          <systemProperties>
-            <property>
-              <name>testPath</name>
-              <value>${basedir}</value>
-            </property>
-            <property>
-              <name>mock.portal.dir</name>
-              <value></value>
-            </property>
-            <property>
-              <name>maven.exoplatform.dir</name>
-              <value></value>
-            </property>
-            <property>
-              <name>emma.coverage.out.file</name>
-              <value>target/emma/coverage.ec</value>
-            </property>
-          </systemProperties>
-          <includes>
-            <include>**/AllTests.java</include>
-            <!-- include>**/Test*.java</include -->
-          </includes>
-        </configuration>
-      </plugin>
-
-    </plugins>
-  </build>
-
-
-  <reporting>
-    <plugins>
-
-
-      <!-- simple diagram -->
-
-            <plugin>
-              <groupId>org.apache.maven.plugins</groupId>
-              <artifactId>maven-javadoc-plugin</artifactId>
-              <configuration>
-                <excludePackageNames>org.exoplatform.services.portletcontainer.test</excludePackageNames>
-                <doclet>org.umlgraph.doclet.UmlGraphDoc</doclet>
-                <docletPath>/home/alexey/java/eXoProjects/portlet-container/trunk/component/core/UmlGraph.jar</docletPath>
-                <additionalparam>-views</additionalparam>
-              </configuration>
-            </plugin>
-
-     
-
-      <!-- medium diagram -->
-      
-<!--            <plugin>-->
-<!--              <artifactId>maven-javadoc-plugin</artifactId>-->
-<!--              <configuration>-->
-<!--                <source>1.5</source>-->
-<!--                <aggregate>true</aggregate>-->
-<!--                <excludePackageNames>org.exoplatform.services.portletcontainer.test</excludePackageNames>-->
-<!--                <doclet>org.umlgraph.doclet.UmlGraphDoc</doclet>-->
-<!--                <docletPath>/home/alexey/java/eXoProjects/portlet-container/trunk/component/core/UmlGraph.jar</docletPath>-->
-<!--                <additionalparam>-->
-<!--                  -inferrel -inferdep -quiet -hide java.* -collpackages java.util.* -qualify -postfixpackage -nodefontsize 9 -nodefontpackagesize 7-->
-<!--                </additionalparam>-->
-<!--              </configuration>-->
-<!--            </plugin>-->
-
-
-
-      <!-- full diagram -->
-<!--            <plugin>-->
-<!--              <groupId>org.apache.maven.plugins</groupId>-->
-<!--              <artifactId>maven-javadoc-plugin</artifactId>-->
-<!--              <version>2.4</version>-->
-<!--              <configuration>-->
-<!--                <aggregate>true</aggregate>-->
-<!--                <source>1.5</source>-->
-<!--                <breakiterator>true</breakiterator>-->
-<!--                <charset>UTF-8</charset>-->
-<!--                <docencoding>UTF-8</docencoding>-->
-<!--                <locale>en_US</locale>-->
-<!--                <excludePackageNames>org.exoplatform.services.portletcontainer.test</excludePackageNames>-->
-<!--                <links>-->
-<!--                  <link>http://java.sun.com/j2se/1.5.0/docs/api/</link>-->
-<!--                  <link>http://java.sun.com/j2ee/sdk_1.2.1/techdocs/api</link>-->
-<!--                  <link>http://commons.apache.org/chain/apidocs</link>-->
-<!--                  <link>http://commons.apache.org/digester/commons-digester-1.6/docs/api</link>-->
-<!--                  <link>http://commons.apache.org/logging/commons-logging-1.1/apidocs</link>-->
-<!--                </links>-->
-<!--                <doclet>org.umlgraph.doclet.UmlGraphDoc</doclet>-->
-<!--                <docletPath>/home/alexey/java/eXoProjects/portlet-container/trunk/component/core/UmlGraph.jar</docletPath>-->
-<!--                <additionalparam>-->
-<!--                  -inferrel -inferdep -quiet -hide java.* -collpackages java.util.* -qualify -postfixpackage -nodefontsize 9 -nodefontpackagesize 7-->
-<!--                  -operations -constructors -visibility -types -link http://java.sun.com/j2se/1.5/docs/api -all-->
-<!--                </additionalparam>-->
-<!--              </configuration>-->
-<!--            </plugin>-->
-
-
-      <!--<docletPath>/home/alexey/java/eXoProjects/portlet-container/trunk/component/core/UmlGraph.jar</docletPath>-->
-
-      <!--          <docletArtifact>-->
-      <!--            <groupId>org.umlgraph</groupId>-->
-      <!--            <artifactId>UmlGraph</artifactId>-->
-      <!--            <version>5.1</version>-->
-      <!--          </docletArtifact>-->
-
-    </plugins>
-  </reporting>
-
-</project>
Index: component/core/pom.xml
===================================================================
--- component/core/pom.xml	(revision 65590)
+++ component/core/pom.xml	(working copy)
@@ -99,6 +99,162 @@
     </dependency>
 
   </dependencies>
+  
+  <profiles>
+    <profile>
+      <id>with-javadoc-pictures</id>
+      <activation>
+        <activeByDefault>false</activeByDefault>
+      </activation>
+      
+      <dependencies>
+        <dependency>
+          <groupId>org.exoplatform.kernel</groupId>
+          <artifactId>exo.kernel.container</artifactId>
+          <version>${org.exoplatform.kernel.version}</version>
+          <optional>true</optional>
+        </dependency>
+        <dependency>
+          <groupId>javax.portlet</groupId>
+          <artifactId>portlet-api</artifactId>
+          <version>2.0</version>
+          <scope>compile</scope>
+          <exclusions>
+            <exclusion>
+              <groupId>javax.portlet</groupId>
+              <artifactId>portlet-api</artifactId>
+            </exclusion>
+          </exclusions>
+        </dependency>
+        <dependency>
+          <groupId>org.exoplatform.kernel</groupId>
+          <artifactId>exo.kernel.commons</artifactId>
+          <version>${org.exoplatform.kernel.version}</version>
+          <optional>compile</optional>
+        </dependency>
+        <dependency>
+          <groupId>org.exoplatform.kernel</groupId>
+          <artifactId>exo.kernel.component.common</artifactId>
+          <version>${org.exoplatform.kernel.version}</version>
+          <optional>compile</optional>
+        </dependency>
+      </dependencies>
+      <build>
+        <plugins>
+          <plugin>
+            <groupId>org.apache.maven.plugins</groupId>
+            <artifactId>maven-surefire-plugin</artifactId>
+            <configuration>
+              <systemProperties>
+                <property>
+                  <name>testPath</name>
+                  <value>${basedir}</value>
+                </property>
+                <property>
+                  <name>mock.portal.dir</name>
+                  <value></value>
+                </property>
+                <property>
+                  <name>maven.exoplatform.dir</name>
+                  <value></value>
+                </property>
+                <property>
+                  <name>emma.coverage.out.file</name>
+                  <value>target/emma/coverage.ec</value>
+                </property>
+              </systemProperties>
+              <includes>
+                <include>**/AllTests.java</include>
+                <!-- include>**/Test*.java</include -->
+              </includes>
+            </configuration>
+          </plugin>
+
+        </plugins>
+      </build>
+
+
+      <reporting>
+        <plugins>
+
+
+          <!-- simple diagram -->
+
+                <plugin>
+                  <groupId>org.apache.maven.plugins</groupId>
+                  <artifactId>maven-javadoc-plugin</artifactId>
+                  <configuration>
+                    <excludePackageNames>org.exoplatform.services.portletcontainer.test</excludePackageNames>
+                    <doclet>org.umlgraph.doclet.UmlGraphDoc</doclet>
+                    <docletPath>/home/alexey/java/eXoProjects/portlet-container/trunk/component/core/UmlGraph.jar</docletPath>
+                    <additionalparam>-views</additionalparam>
+                  </configuration>
+                </plugin>
+
+         
+
+          <!-- medium diagram -->
+          
+          <!--            <plugin>-->
+          <!--              <artifactId>maven-javadoc-plugin</artifactId>-->
+          <!--              <configuration>-->
+          <!--                <source>1.5</source>-->
+          <!--                <aggregate>true</aggregate>-->
+          <!--                <excludePackageNames>org.exoplatform.services.portletcontainer.test</excludePackageNames>-->
+          <!--                <doclet>org.umlgraph.doclet.UmlGraphDoc</doclet>-->
+          <!--                <docletPath>/home/alexey/java/eXoProjects/portlet-container/trunk/component/core/UmlGraph.jar</docletPath>-->
+          <!--                <additionalparam>-->
+          <!--                  -inferrel -inferdep -quiet -hide java.* -collpackages java.util.* -qualify -postfixpackage -nodefontsize 9 -nodefontpackagesize 7-->
+          <!--                </additionalparam>-->
+          <!--              </configuration>-->
+          <!--            </plugin>-->
+
+
+
+                <!-- full diagram -->
+          <!--            <plugin>-->
+          <!--              <groupId>org.apache.maven.plugins</groupId>-->
+          <!--              <artifactId>maven-javadoc-plugin</artifactId>-->
+          <!--              <version>2.4</version>-->
+          <!--              <configuration>-->
+          <!--                <aggregate>true</aggregate>-->
+          <!--                <source>1.5</source>-->
+          <!--                <breakiterator>true</breakiterator>-->
+          <!--                <charset>UTF-8</charset>-->
+          <!--                <docencoding>UTF-8</docencoding>-->
+          <!--                <locale>en_US</locale>-->
+          <!--                <excludePackageNames>org.exoplatform.services.portletcontainer.test</excludePackageNames>-->
+          <!--                <links>-->
+          <!--                  <link>http://java.sun.com/j2se/1.5.0/docs/api/</link>-->
+          <!--                  <link>http://java.sun.com/j2ee/sdk_1.2.1/techdocs/api</link>-->
+          <!--                  <link>http://commons.apache.org/chain/apidocs</link>-->
+          <!--                  <link>http://commons.apache.org/digester/commons-digester-1.6/docs/api</link>-->
+          <!--                  <link>http://commons.apache.org/logging/commons-logging-1.1/apidocs</link>-->
+          <!--                </links>-->
+          <!--                <doclet>org.umlgraph.doclet.UmlGraphDoc</doclet>-->
+          <!--                <docletPath>/home/alexey/java/eXoProjects/portlet-container/trunk/component/core/UmlGraph.jar</docletPath>-->
+          <!--                <additionalparam>-->
+          <!--                  -inferrel -inferdep -quiet -hide java.* -collpackages java.util.* -qualify -postfixpackage -nodefontsize 9 -nodefontpackagesize 7-->
+          <!--                  -operations -constructors -visibility -types -link http://java.sun.com/j2se/1.5/docs/api -all-->
+          <!--                </additionalparam>-->
+          <!--              </configuration>-->
+          <!--            </plugin>-->
+
+
+          <!--<docletPath>/home/alexey/java/eXoProjects/portlet-container/trunk/component/core/UmlGraph.jar</docletPath>-->
+
+          <!--          <docletArtifact>-->
+          <!--            <groupId>org.umlgraph</groupId>-->
+          <!--            <artifactId>UmlGraph</artifactId>-->
+          <!--            <version>5.1</version>-->
+          <!--          </docletArtifact>-->
+
+        </plugins>
+      </reporting>
+      
+    </profile>
+  </profiles>
+  
   <build>
     <plugins>
       <plugin>
Index: readme.txt
===================================================================
--- readme.txt	(revision 65590)
+++ readme.txt	(working copy)
@@ -1,10 +1,12 @@
     EXO-PortletContainer 2.0
     --------------------------------
 
-The eXo Platform Portlet Container 2.0 which includes the JSR 168/286 implementation and WSRP 2 one.
-
-(1) This release includes the WSRP 2.0 public review draft 03 specification implementation
-(2) This release implements PortletAPI 2.0 public draft rev.25 and it was successfully tested by first available Test Compatibility Kit (TCK). About 95% of TCK tests passed.
-
-For deploy info look at applications/assembly/readme.txt
-For release info and run on server info look at applications/assembly/patches/tomcat/README.txt
+The eXo Platform Portlet Container 2.0 which includes the JSR 168/286 implementation and WSRP 2 one.
+
+(1) This release includes the WSRP 2.0 public review draft 03 specification implementation
+(2) This release implements PortletAPI 2.0 public draft rev.25 and it was successfully tested by first available Test Compatibility Kit (TCK). About 95% of TCK tests passed.
+
+For deploy info look at applications/assembly/readme.txt
+For release info and run on server info look at applications/assembly/patches/tomcat/README.txt
+
+Please, use full-reports script instead of old pom-full-reports.xml
