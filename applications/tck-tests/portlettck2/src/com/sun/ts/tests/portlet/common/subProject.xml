	<property name="common.dir"   value="com/sun/ts/tests/portlet/common" />
	<property name="pkg.dir"   value="com/sun/ts/tests/portlet/${pkg.name}" />
    <property name="contentroot.dir"  value="${ts.home}/src/web/portlet/${pkg.name}" />
    <property name="WEB-INF.dir"  value="${ts.home}/src/web/portlet/${pkg.name}/WEB-INF" />

	
	<target name="build" depends="compile,package" />

	<target name="clean" >
		<ant antfile="build.xml" dir="${ts.home}/bin" target="clean" />
	</target>
	
	<target name="compile" >
		<ant antfile="build.xml" dir="${ts.home}/bin" target="compile" />
	</target>
	
	<target name="deploy" >
		<ant antfile="build.xml" dir="${ts.home}/bin" target="deploy.app" />
	</target>

	<target name="package">
        <echo message="${contentroot.dir}" />
		<package>
			<webwar name="${app.name}" descriptor="${WEB-INF.dir}/web.xml">
                <support includes="${common.dir}/util/**/*.class" />
                <support includes="${common.dir}/portlet/*.class" />
	  			<support includes="${pkg.dir}/**/*.class" excludes="${pkg.dir}/**/*Client.class" />
                <content dir="${contentroot.dir}" includes="*.html, *.jsp, WEB-INF/**/*" excludes="**/*.gf" /> 
      		</webwar>
		</package>
	</target>

	<target name="runclient" >
		<ant antfile="build.xml" dir="${ts.home}/bin" target="runclient" />
	</target>

	<target name="usage" >
		<ant antfile="build.xml" dir="${ts.home}/bin" target="usage" />
	</target>

     <target name="ts.version" >
          <ant antfile="build.xml" dir="${ts.home}/bin" target="ts.version" />
     </target>
